/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(2);


/***/ },
/* 1 */,
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n__webpack_require__(3);\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanM/MGJkNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbnJlcXVpcmUoJy4vbXlpc2Nyb2xsJyk7XG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n\r\nvar myiscroll =  __webpack_require__(4);  //把iscroll插件引入到 myiscroll对象中\r\n__webpack_require__(5);\r\n__webpack_require__(6);\r\n\r\n\r\nvar myScroll,\r\n\tpullDownEl, pullDownOffset,_maxScrollY,\r\n\tpullUpEl, pullUpOffset,\r\n\tgeneratedCount = 0,\r\n\tnum=1;\r\n\r\nfunction pullDownAction () {\r\n\tsetTimeout(function () {\t// <-- Simulate network congestion, remove setTimeout from production!\r\n\t\tvar el, li, i;\r\n\t\tel = document.getElementById('thelist');\r\n\r\n\t\tfor (i=0; i<3; i++) {\r\n\t\t\t// li = document.createElement('li');\r\n\t\t\tli = $('.ulist li').eq(0).clone();\r\n\t\t\tif(li.hasClass('native')){\r\n\t\t\t\t// console.log(1);\r\n\t\t\t\tli.removeClass('native');\r\n\t\t\t}\r\n\t\t\t// li.innerText = 'Generated down ' + (++generatedCount);\r\n\t\t\t$('.ulist').prepend(li);\r\n\t\t}\r\n\r\n\t\tmyScroll.refresh();\t\t// Remember to refresh when contents are loaded (ie: on ajax completion)\r\n\t}, 1000);\t// <-- Simulate network congestion, remove setTimeout from production!\r\n}\r\n\r\nfunction pullUpAction () {\r\n\r\n\tsetTimeout(function () {\t// <-- Simulate network congestion, remove setTimeout from production!\r\n\t\tvar el, li, i;\r\n\t\tel = document.getElementById('thelist');\r\n\t\t// for (i=++;0; i<3; i++) {\r\n\t\t// \t// li = document.createElement('li');\r\n\t\t// \t// // li.innerText = 'Generated up ' + (++generatedCount);\r\n\t\t// \t// el.appendChild(li, el.childNodes[0]);\r\n\t\t// \tvar l = $('.ulist li').size()\r\n\t\t// \tli = $('.ulist li').eq(l-1).clone();\r\n\t\t// \t// li.innerText = 'Generated down ' + (++generatedCount);\r\n\t\t// \t$('.ulist').append(li);\r\n\t\t// }\r\n\t\t    var mydata;\r\n\t\t\tconsole.log(num)\r\n\t\t\t$.ajax({\r\n\t\t\t\turl:\"prd/json/data\"+num+\".json\",\r\n\t\t\t\tmethod:\"get\",\r\n\t\t\t\tdata:num,\r\n\t\t\t\t// async:false,\r\n\t\t\t\tsuccess:function(data){\r\n\t\t\t\t\tdemo(data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tnum++;\r\n\t\tif(num>=6){\r\n\t\t\tnum=1;\r\n\t\t}\r\n\t\tfunction demo(data){\r\n\t\t\tconsole.log(data);\r\n\t\t\tvar length = data.weikeList.length;\r\n\t\t\t// mydata  = data;\r\n\t\t\t// demo(data);\r\n\t\t\tfor(var i=0;i<length;i++){\r\n\t\t\t\tli = $('.ulist li').eq(0).clone();\r\n\t\t\t\tif(li.hasClass('native')){\r\n\t\t\t\t\tli.removeClass('native');\r\n\t\t\t\t}\r\n\t\t\t\tli.find('.z-box-text').html(data.weikeList[i].wkTitle)\r\n\t\t\t\t$('.ulist').append(li);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar newData = data.weikeList.map(function(item){\r\n\t\t\t\treturn item.wkTitle;\r\n\t\t\t})\r\n\t\t\tconsole.log(newData);\r\n\r\n\t\t\tmyScroll.refresh();\t\r\n\t\t}\r\n\t\t\t// Remember to refresh when contents are loaded (ie: on ajax completion)\r\n\t}, 1000);\t// <-- Simulate network congestion, remove setTimeout from production!\r\n}\r\n\r\nfunction loaded() {\r\n\tpullDownEl = document.getElementById('pullDown');\r\n\tpullDownOffset = pullDownEl.offsetHeight;\r\n\t// console.log(pullDownOffset)\r\n\tpullUpEl = document.getElementById('pullUp');\r\n\tpullUpOffset = pullUpEl.offsetHeight;\r\n\t// console.log(pullUpOffset)\r\n\t$('.ulist').on('tap','li',function(){\r\n\t\t$(this).addClass('native').siblings().removeClass('native');\r\n\t})\r\n\tmyScroll = new myiscroll.iScroll('wrapper', {\r\n\t\tuseTransition: true,       //是否使用css 变形\r\n\t\ttopOffset: pullDownOffset,   //已经滚动的基准值\r\n\t\tonRefresh: function () {\r\n\t\t\t// console.log(maxScrollY)\r\n\t\t\t// $.each($('ul li'),function(index){\r\n\t\t\t// \t\tconsole.log($(this).index())\r\n\t\t\t// \t})\r\n            _maxScrollY = this.maxScrollY = this.maxScrollY + pullUpOffset;\r\n            console.log(this.maxScrollY)\r\n\t\t\tif (pullDownEl.className.match('loading')) {\r\n\t\t\t\tpullDownEl.className = '';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新...';\r\n\t\t\t} else if (pullUpEl.className.match('loading')) {\r\n\t\t\t\tpullUpEl.className = '';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载更多...';\r\n\t\t\t}\r\n\t\t},\r\n\t\tonScrollMove: function () {\r\n\t\t\t// console.log(this);\r\n\t\t\tconsole.log(this.maxScrollY)\r\n\t\t\t// y:滚动垂直初始位置 (负值)\r\n\t\t\tif (this.y > 5 && !pullDownEl.className.match('flip')) {\r\n\t\t\t\tpullDownEl.className = 'flip';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '松开刷新...';  //松开刷新\r\n\t\t\t\t// console.log(this.minScrollY)\r\n\t\t\t\tthis.minScrollY = 0;\r\n\t\t\t\t\r\n\t\t\t} else if (this.y < 5 && pullDownEl.className.match('flip')) {\r\n\r\n\t\t\t\tpullDownEl.className = '';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新...';\r\n\t\t\t\tthis.minScrollY = -pullDownOffset;\r\n\t\t\t} else if (this.y <= (_maxScrollY - pullUpOffset) && !pullUpEl.className.match('flip')) {\r\n\t\t\t\tpullUpEl.className = 'flip';\r\n\t\t\t\t// debugger;;\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '松开刷新...';\r\n                this.maxScrollY = this.maxScrollY - pullUpOffset;\r\n\t\t\t} else if (this.y > (_maxScrollY - pullUpOffset) && pullUpEl.className.match('flip')) {\r\n\t\t\t\tpullUpEl.className = '';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载更多...';\r\n                this.maxScrollY = this.maxScrollY + pullUpOffset;\r\n                console.log(this.y+\"up\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tonScrollEnd: function () {\r\n\t\t\tif (pullDownEl.className.match('flip')) {\r\n\t\t\t\tpullDownEl.className = 'loading';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '加载中...';\r\n\t\t\t\tpullDownAction();\t// Execute custom function (ajax call?)\r\n\t\t\t} else if (pullUpEl.className.match('flip')) {\r\n\t\t\t\t// debugger;\r\n\t\t\t\tpullUpEl.className = 'loading';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载中...';\r\n\t\t\t\tpullUpAction();\t// Execute custom function (ajax call?)\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nsetTimeout(function () { document.getElementById('wrapper').style.left = '0'; }, 800);\r\n}\r\n\r\ndocument.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () { setTimeout(loaded, 200); }, false);\r\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbXlpc2Nyb2xsLmpzPzk5YWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7O0FBR0Esd0NBQXNDO0FBQ3RDO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQSxXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQjtBQUNyQixFQUFFLFFBQVE7QUFDVjs7QUFFQTs7QUFFQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGVBQWUsRUFBRSxLQUFLO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUEsc0I7QUFDQTtBQUNBO0FBQ0EsRUFBRSxRQUFRO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsRUFBRTs7QUFFRix3QkFBd0IscURBQXFELEVBQUU7QUFDL0U7O0FBRUEscURBQXFELG9CQUFvQixFQUFFOztBQUUzRSwyREFBMkQseUJBQXlCLEVBQUUiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbnZhciBkZWZpbmUgPSBmYWxzZTtcblxuXHJcbnZhciBteWlzY3JvbGwgPSAgcmVxdWlyZSgnLi9pc2Nyb2xsJyk7ICAvL+aKimlzY3JvbGzmj5Lku7blvJXlhaXliLAgbXlpc2Nyb2xs5a+56LGh5LitXHJcbnJlcXVpcmUoJy4vemVwdG8ubWluLmpzJyk7XHJcbnJlcXVpcmUoJy4vemVwdG8tdGFwLmpzJyk7XHJcblxyXG5cclxudmFyIG15U2Nyb2xsLFxyXG5cdHB1bGxEb3duRWwsIHB1bGxEb3duT2Zmc2V0LF9tYXhTY3JvbGxZLFxyXG5cdHB1bGxVcEVsLCBwdWxsVXBPZmZzZXQsXHJcblx0Z2VuZXJhdGVkQ291bnQgPSAwLFxyXG5cdG51bT0xO1xyXG5cclxuZnVuY3Rpb24gcHVsbERvd25BY3Rpb24gKCkge1xyXG5cdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1x0Ly8gPC0tIFNpbXVsYXRlIG5ldHdvcmsgY29uZ2VzdGlvbiwgcmVtb3ZlIHNldFRpbWVvdXQgZnJvbSBwcm9kdWN0aW9uIVxyXG5cdFx0dmFyIGVsLCBsaSwgaTtcclxuXHRcdGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZWxpc3QnKTtcclxuXHJcblx0XHRmb3IgKGk9MDsgaTwzOyBpKyspIHtcclxuXHRcdFx0Ly8gbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdFx0XHRsaSA9ICQoJy51bGlzdCBsaScpLmVxKDApLmNsb25lKCk7XHJcblx0XHRcdGlmKGxpLmhhc0NsYXNzKCduYXRpdmUnKSl7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coMSk7XHJcblx0XHRcdFx0bGkucmVtb3ZlQ2xhc3MoJ25hdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGxpLmlubmVyVGV4dCA9ICdHZW5lcmF0ZWQgZG93biAnICsgKCsrZ2VuZXJhdGVkQ291bnQpO1xyXG5cdFx0XHQkKCcudWxpc3QnKS5wcmVwZW5kKGxpKTtcclxuXHRcdH1cclxuXHJcblx0XHRteVNjcm9sbC5yZWZyZXNoKCk7XHRcdC8vIFJlbWVtYmVyIHRvIHJlZnJlc2ggd2hlbiBjb250ZW50cyBhcmUgbG9hZGVkIChpZTogb24gYWpheCBjb21wbGV0aW9uKVxyXG5cdH0sIDEwMDApO1x0Ly8gPC0tIFNpbXVsYXRlIG5ldHdvcmsgY29uZ2VzdGlvbiwgcmVtb3ZlIHNldFRpbWVvdXQgZnJvbSBwcm9kdWN0aW9uIVxyXG59XHJcblxyXG5mdW5jdGlvbiBwdWxsVXBBY3Rpb24gKCkge1xyXG5cclxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcdC8vIDwtLSBTaW11bGF0ZSBuZXR3b3JrIGNvbmdlc3Rpb24sIHJlbW92ZSBzZXRUaW1lb3V0IGZyb20gcHJvZHVjdGlvbiFcclxuXHRcdHZhciBlbCwgbGksIGk7XHJcblx0XHRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVsaXN0Jyk7XHJcblx0XHQvLyBmb3IgKGk9Kys7MDsgaTwzOyBpKyspIHtcclxuXHRcdC8vIFx0Ly8gbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG5cdFx0Ly8gXHQvLyAvLyBsaS5pbm5lclRleHQgPSAnR2VuZXJhdGVkIHVwICcgKyAoKytnZW5lcmF0ZWRDb3VudCk7XHJcblx0XHQvLyBcdC8vIGVsLmFwcGVuZENoaWxkKGxpLCBlbC5jaGlsZE5vZGVzWzBdKTtcclxuXHRcdC8vIFx0dmFyIGwgPSAkKCcudWxpc3QgbGknKS5zaXplKClcclxuXHRcdC8vIFx0bGkgPSAkKCcudWxpc3QgbGknKS5lcShsLTEpLmNsb25lKCk7XHJcblx0XHQvLyBcdC8vIGxpLmlubmVyVGV4dCA9ICdHZW5lcmF0ZWQgZG93biAnICsgKCsrZ2VuZXJhdGVkQ291bnQpO1xyXG5cdFx0Ly8gXHQkKCcudWxpc3QnKS5hcHBlbmQobGkpO1xyXG5cdFx0Ly8gfVxyXG5cdFx0ICAgIHZhciBteWRhdGE7XHJcblx0XHRcdGNvbnNvbGUubG9nKG51bSlcclxuXHRcdFx0JC5hamF4KHtcclxuXHRcdFx0XHR1cmw6XCJwcmQvanNvbi9kYXRhXCIrbnVtK1wiLmpzb25cIixcclxuXHRcdFx0XHRtZXRob2Q6XCJnZXRcIixcclxuXHRcdFx0XHRkYXRhOm51bSxcclxuXHRcdFx0XHQvLyBhc3luYzpmYWxzZSxcclxuXHRcdFx0XHRzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdFx0ZGVtbyhkYXRhKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0bnVtKys7XHJcblx0XHRpZihudW0+PTYpe1xyXG5cdFx0XHRudW09MTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGRlbW8oZGF0YSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdFx0XHR2YXIgbGVuZ3RoID0gZGF0YS53ZWlrZUxpc3QubGVuZ3RoO1xyXG5cdFx0XHQvLyBteWRhdGEgID0gZGF0YTtcclxuXHRcdFx0Ly8gZGVtbyhkYXRhKTtcclxuXHRcdFx0Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXtcclxuXHRcdFx0XHRsaSA9ICQoJy51bGlzdCBsaScpLmVxKDApLmNsb25lKCk7XHJcblx0XHRcdFx0aWYobGkuaGFzQ2xhc3MoJ25hdGl2ZScpKXtcclxuXHRcdFx0XHRcdGxpLnJlbW92ZUNsYXNzKCduYXRpdmUnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGkuZmluZCgnLnotYm94LXRleHQnKS5odG1sKGRhdGEud2Vpa2VMaXN0W2ldLndrVGl0bGUpXHJcblx0XHRcdFx0JCgnLnVsaXN0JykuYXBwZW5kKGxpKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBuZXdEYXRhID0gZGF0YS53ZWlrZUxpc3QubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdHJldHVybiBpdGVtLndrVGl0bGU7XHJcblx0XHRcdH0pXHJcblx0XHRcdGNvbnNvbGUubG9nKG5ld0RhdGEpO1xyXG5cclxuXHRcdFx0bXlTY3JvbGwucmVmcmVzaCgpO1x0XHJcblx0XHR9XHJcblx0XHRcdC8vIFJlbWVtYmVyIHRvIHJlZnJlc2ggd2hlbiBjb250ZW50cyBhcmUgbG9hZGVkIChpZTogb24gYWpheCBjb21wbGV0aW9uKVxyXG5cdH0sIDEwMDApO1x0Ly8gPC0tIFNpbXVsYXRlIG5ldHdvcmsgY29uZ2VzdGlvbiwgcmVtb3ZlIHNldFRpbWVvdXQgZnJvbSBwcm9kdWN0aW9uIVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkZWQoKSB7XHJcblx0cHVsbERvd25FbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdWxsRG93bicpO1xyXG5cdHB1bGxEb3duT2Zmc2V0ID0gcHVsbERvd25FbC5vZmZzZXRIZWlnaHQ7XHJcblx0Ly8gY29uc29sZS5sb2cocHVsbERvd25PZmZzZXQpXHJcblx0cHVsbFVwRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVsbFVwJyk7XHJcblx0cHVsbFVwT2Zmc2V0ID0gcHVsbFVwRWwub2Zmc2V0SGVpZ2h0O1xyXG5cdC8vIGNvbnNvbGUubG9nKHB1bGxVcE9mZnNldClcclxuXHQkKCcudWxpc3QnKS5vbigndGFwJywnbGknLGZ1bmN0aW9uKCl7XHJcblx0XHQkKHRoaXMpLmFkZENsYXNzKCduYXRpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCduYXRpdmUnKTtcclxuXHR9KVxyXG5cdG15U2Nyb2xsID0gbmV3IG15aXNjcm9sbC5pU2Nyb2xsKCd3cmFwcGVyJywge1xyXG5cdFx0dXNlVHJhbnNpdGlvbjogdHJ1ZSwgICAgICAgLy/mmK/lkKbkvb/nlKhjc3Mg5Y+Y5b2iXHJcblx0XHR0b3BPZmZzZXQ6IHB1bGxEb3duT2Zmc2V0LCAgIC8v5bey57uP5rua5Yqo55qE5Z+65YeG5YC8XHJcblx0XHRvblJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2cobWF4U2Nyb2xsWSlcclxuXHRcdFx0Ly8gJC5lYWNoKCQoJ3VsIGxpJyksZnVuY3Rpb24oaW5kZXgpe1xyXG5cdFx0XHQvLyBcdFx0Y29uc29sZS5sb2coJCh0aGlzKS5pbmRleCgpKVxyXG5cdFx0XHQvLyBcdH0pXHJcbiAgICAgICAgICAgIF9tYXhTY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZICsgcHVsbFVwT2Zmc2V0O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm1heFNjcm9sbFkpXHJcblx0XHRcdGlmIChwdWxsRG93bkVsLmNsYXNzTmFtZS5tYXRjaCgnbG9hZGluZycpKSB7XHJcblx0XHRcdFx0cHVsbERvd25FbC5jbGFzc05hbWUgPSAnJztcclxuXHRcdFx0XHRwdWxsRG93bkVsLnF1ZXJ5U2VsZWN0b3IoJy5wdWxsRG93bkxhYmVsJykuaW5uZXJIVE1MID0gJ+S4i+aLieWIt+aWsC4uLic7XHJcblx0XHRcdH0gZWxzZSBpZiAocHVsbFVwRWwuY2xhc3NOYW1lLm1hdGNoKCdsb2FkaW5nJykpIHtcclxuXHRcdFx0XHRwdWxsVXBFbC5jbGFzc05hbWUgPSAnJztcclxuXHRcdFx0XHRwdWxsVXBFbC5xdWVyeVNlbGVjdG9yKCcucHVsbFVwTGFiZWwnKS5pbm5lckhUTUwgPSAn5Yqg6L295pu05aSaLi4uJztcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdG9uU2Nyb2xsTW92ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyh0aGlzKTtcclxuXHRcdFx0Y29uc29sZS5sb2codGhpcy5tYXhTY3JvbGxZKVxyXG5cdFx0XHQvLyB5Oua7muWKqOWeguebtOWIneWni+S9jee9riAo6LSf5YC8KVxyXG5cdFx0XHRpZiAodGhpcy55ID4gNSAmJiAhcHVsbERvd25FbC5jbGFzc05hbWUubWF0Y2goJ2ZsaXAnKSkge1xyXG5cdFx0XHRcdHB1bGxEb3duRWwuY2xhc3NOYW1lID0gJ2ZsaXAnO1xyXG5cdFx0XHRcdHB1bGxEb3duRWwucXVlcnlTZWxlY3RvcignLnB1bGxEb3duTGFiZWwnKS5pbm5lckhUTUwgPSAn5p2+5byA5Yi35pawLi4uJzsgIC8v5p2+5byA5Yi35pawXHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2codGhpcy5taW5TY3JvbGxZKVxyXG5cdFx0XHRcdHRoaXMubWluU2Nyb2xsWSA9IDA7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy55IDwgNSAmJiBwdWxsRG93bkVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblxyXG5cdFx0XHRcdHB1bGxEb3duRWwuY2xhc3NOYW1lID0gJyc7XHJcblx0XHRcdFx0cHVsbERvd25FbC5xdWVyeVNlbGVjdG9yKCcucHVsbERvd25MYWJlbCcpLmlubmVySFRNTCA9ICfkuIvmi4nliLfmlrAuLi4nO1xyXG5cdFx0XHRcdHRoaXMubWluU2Nyb2xsWSA9IC1wdWxsRG93bk9mZnNldDtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnkgPD0gKF9tYXhTY3JvbGxZIC0gcHVsbFVwT2Zmc2V0KSAmJiAhcHVsbFVwRWwuY2xhc3NOYW1lLm1hdGNoKCdmbGlwJykpIHtcclxuXHRcdFx0XHRwdWxsVXBFbC5jbGFzc05hbWUgPSAnZmxpcCc7XHJcblx0XHRcdFx0Ly8gZGVidWdnZXI7O1xyXG5cdFx0XHRcdHB1bGxVcEVsLnF1ZXJ5U2VsZWN0b3IoJy5wdWxsVXBMYWJlbCcpLmlubmVySFRNTCA9ICfmnb7lvIDliLfmlrAuLi4nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhTY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZIC0gcHVsbFVwT2Zmc2V0O1xyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMueSA+IChfbWF4U2Nyb2xsWSAtIHB1bGxVcE9mZnNldCkgJiYgcHVsbFVwRWwuY2xhc3NOYW1lLm1hdGNoKCdmbGlwJykpIHtcclxuXHRcdFx0XHRwdWxsVXBFbC5jbGFzc05hbWUgPSAnJztcclxuXHRcdFx0XHRwdWxsVXBFbC5xdWVyeVNlbGVjdG9yKCcucHVsbFVwTGFiZWwnKS5pbm5lckhUTUwgPSAn5Yqg6L295pu05aSaLi4uJztcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4U2Nyb2xsWSA9IHRoaXMubWF4U2Nyb2xsWSArIHB1bGxVcE9mZnNldDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMueStcInVwXCIpXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRvblNjcm9sbEVuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAocHVsbERvd25FbC5jbGFzc05hbWUubWF0Y2goJ2ZsaXAnKSkge1xyXG5cdFx0XHRcdHB1bGxEb3duRWwuY2xhc3NOYW1lID0gJ2xvYWRpbmcnO1xyXG5cdFx0XHRcdHB1bGxEb3duRWwucXVlcnlTZWxlY3RvcignLnB1bGxEb3duTGFiZWwnKS5pbm5lckhUTUwgPSAn5Yqg6L295LitLi4uJztcclxuXHRcdFx0XHRwdWxsRG93bkFjdGlvbigpO1x0Ly8gRXhlY3V0ZSBjdXN0b20gZnVuY3Rpb24gKGFqYXggY2FsbD8pXHJcblx0XHRcdH0gZWxzZSBpZiAocHVsbFVwRWwuY2xhc3NOYW1lLm1hdGNoKCdmbGlwJykpIHtcclxuXHRcdFx0XHQvLyBkZWJ1Z2dlcjtcclxuXHRcdFx0XHRwdWxsVXBFbC5jbGFzc05hbWUgPSAnbG9hZGluZyc7XHJcblx0XHRcdFx0cHVsbFVwRWwucXVlcnlTZWxlY3RvcignLnB1bGxVcExhYmVsJykuaW5uZXJIVE1MID0gJ+WKoOi9veS4rS4uLic7XHJcblx0XHRcdFx0cHVsbFVwQWN0aW9uKCk7XHQvLyBFeGVjdXRlIGN1c3RvbSBmdW5jdGlvbiAoYWpheCBjYWxsPylcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJykuc3R5bGUubGVmdCA9ICcwJzsgfSwgODAwKTtcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGUpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9LCBmYWxzZSk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkgeyBzZXRUaW1lb3V0KGxvYWRlZCwgMjAwKTsgfSwgZmFsc2UpO1xyXG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvbXlpc2Nyb2xsLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/*!\n * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org\n * Released under MIT license, http://cubiq.org/license\n */\n(function(window, doc){\nvar m = Math,\n\tdummyStyle = doc.createElement('div').style,\n\tvendor = (function () {\n\t\tvar vendors = 't,webkitT,MozT,msT,OT'.split(','),\n\t\t\tt,\n\t\t\ti = 0,\n\t\t\tl = vendors.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tt = vendors[i] + 'ransform';\n\t\t\tif ( t in dummyStyle ) {\n\t\t\t\treturn vendors[i].substr(0, vendors[i].length - 1);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})(),\n\tcssVendor = vendor ? '-' + vendor.toLowerCase() + '-' : '',\n\n\t// Style properties\n\ttransform = prefixStyle('transform'),\n\ttransitionProperty = prefixStyle('transitionProperty'),\n\ttransitionDuration = prefixStyle('transitionDuration'),\n\ttransformOrigin = prefixStyle('transformOrigin'),\n\ttransitionTimingFunction = prefixStyle('transitionTimingFunction'),\n\ttransitionDelay = prefixStyle('transitionDelay'),\n\n    // Browser capabilities\n\tisAndroid = (/android/gi).test(navigator.appVersion),\n\tisIDevice = (/iphone|ipad/gi).test(navigator.appVersion),\n\tisTouchPad = (/hp-tablet/gi).test(navigator.appVersion),\n\n    has3d = prefixStyle('perspective') in dummyStyle,\n    hasTouch = 'ontouchstart' in window && !isTouchPad,\n    hasTransform = vendor !== false,\n    hasTransitionEnd = prefixStyle('transition') in dummyStyle,\n\n\tRESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize',\n\tSTART_EV = hasTouch ? 'touchstart' : 'mousedown',\n\tMOVE_EV = hasTouch ? 'touchmove' : 'mousemove',\n\tEND_EV = hasTouch ? 'touchend' : 'mouseup',\n\tCANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup',\n\tTRNEND_EV = (function () {\n\t\tif ( vendor === false ) return false;\n\n\t\tvar transitionEnd = {\n\t\t\t\t''\t\t\t: 'transitionend',\n\t\t\t\t'webkit'\t: 'webkitTransitionEnd',\n\t\t\t\t'Moz'\t\t: 'transitionend',\n\t\t\t\t'O'\t\t\t: 'otransitionend',\n\t\t\t\t'ms'\t\t: 'MSTransitionEnd'\n\t\t\t};\n\n\t\treturn transitionEnd[vendor];\n\t})(),\n\n\tnextFrame = (function() {\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(callback) { return setTimeout(callback, 1); };\n\t})(),\n\tcancelFrame = (function () {\n\t\treturn window.cancelRequestAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\t\twindow.mozCancelRequestAnimationFrame ||\n\t\t\twindow.oCancelRequestAnimationFrame ||\n\t\t\twindow.msCancelRequestAnimationFrame ||\n\t\t\tclearTimeout;\n\t})(),\n\n\t// Helpers\n\ttranslateZ = has3d ? ' translateZ(0)' : '',\n\n\t// Constructor\n\tiScroll = function (el, options) {\n\t\tvar that = this,\n\t\t\ti;\n\n\t\tthat.wrapper = typeof el == 'object' ? el : doc.getElementById(el);\n\t\tthat.wrapper.style.overflow = 'hidden';\n\t\tthat.scroller = that.wrapper.children[0];\n\n\t\t// Default options\n\t\tthat.options = {\n\t\t\thScroll: true,\n\t\t\tvScroll: true,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tbounce: true,\n\t\t\tbounceLock: false,\n\t\t\tmomentum: true,\n\t\t\tlockDirection: true,\n\t\t\tuseTransform: true,\n\t\t\tuseTransition: false,\n\t\t\ttopOffset: 0,\n\t\t\tcheckDOMChanges: false,\t\t// Experimental\n\t\t\thandleClick: true,\n\n\t\t\t// Scrollbar\n\t\t\thScrollbar: true,\n\t\t\tvScrollbar: true,\n\t\t\tfixedScrollbar: isAndroid,\n\t\t\thideScrollbar: isIDevice,\n\t\t\tfadeScrollbar: isIDevice && has3d,\n\t\t\tscrollbarClass: '',\n\n\t\t\t// Zoom\n\t\t\tzoom: false,\n\t\t\tzoomMin: 1,\n\t\t\tzoomMax: 4,\n\t\t\tdoubleTapZoom: 2,\n\t\t\twheelAction: 'scroll',\n\n\t\t\t// Snap\n\t\t\tsnap: false,\n\t\t\tsnapThreshold: 1,\n\n\t\t\t// Events\n\t\t\tonRefresh: null,\n\t\t\tonBeforeScrollStart: function (e) { e.preventDefault(); },\n\t\t\tonScrollStart: null,\n\t\t\tonBeforeScrollMove: null,\n\t\t\tonScrollMove: null,\n\t\t\tonBeforeScrollEnd: null,\n\t\t\tonScrollEnd: null,\n\t\t\tonTouchEnd: null,\n\t\t\tonDestroy: null,\n\t\t\tonZoomStart: null,\n\t\t\tonZoom: null,\n\t\t\tonZoomEnd: null\n\t\t};\n\n\t\t// User defined options\n\t\tfor (i in options) that.options[i] = options[i];\n\t\t\n\t\t// Set starting position\n\t\tthat.x = that.options.x;\n\t\tthat.y = that.options.y;\n\n\t\t// Normalize options\n\t\tthat.options.useTransform = hasTransform && that.options.useTransform;\n\t\tthat.options.hScrollbar = that.options.hScroll && that.options.hScrollbar;\n\t\tthat.options.vScrollbar = that.options.vScroll && that.options.vScrollbar;\n\t\tthat.options.zoom = that.options.useTransform && that.options.zoom;\n\t\tthat.options.useTransition = hasTransitionEnd && that.options.useTransition;\n\n\t\t// Helpers FIX ANDROID BUG!\n\t\t// translate3d and scale doesn't work together!\n\t\t// Ignoring 3d ONLY WHEN YOU SET that.options.zoom\n\t\tif ( that.options.zoom && isAndroid ){\n\t\t\ttranslateZ = '';\n\t\t}\n\t\t\n\t\t// Set some default styles\n\t\tthat.scroller.style[transitionProperty] = that.options.useTransform ? cssVendor + 'transform' : 'top left';\n\t\tthat.scroller.style[transitionDuration] = '0';\n\t\tthat.scroller.style[transformOrigin] = '0 0';\n\t\tif (that.options.useTransition) that.scroller.style[transitionTimingFunction] = 'cubic-bezier(0.33,0.66,0.66,1)';\n\t\t\n\t\tif (that.options.useTransform) that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px)' + translateZ;\n\t\telse that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px';\n\n\t\tif (that.options.useTransition) that.options.fixedScrollbar = true;\n\n\t\tthat.refresh();\n\n\t\tthat._bind(RESIZE_EV, window);\n\t\tthat._bind(START_EV);\n\t\tif (!hasTouch) {\n\t\t\tif (that.options.wheelAction != 'none') {\n\t\t\t\tthat._bind('DOMMouseScroll');\n\t\t\t\tthat._bind('mousewheel');\n\t\t\t}\n\t\t}\n\n\t\tif (that.options.checkDOMChanges) that.checkDOMTime = setInterval(function () {\n\t\t\tthat._checkDOMChanges();\n\t\t}, 500);\n\t};\n\n// Prototype\niScroll.prototype = {\n\tenabled: true,\n\tx: 0,\n\ty: 0,\n\tsteps: [],\n\tscale: 1,\n\tcurrPageX: 0, currPageY: 0,\n\tpagesX: [], pagesY: [],\n\taniTime: null,\n\twheelZoomCount: 0,\n\t\n\thandleEvent: function (e) {\n\t\tvar that = this;\n\t\tswitch(e.type) {\n\t\t\tcase START_EV:\n\t\t\t\tif (!hasTouch && e.button !== 0) return;\n\t\t\t\tthat._start(e);\n\t\t\t\tbreak;\n\t\t\tcase MOVE_EV: that._move(e); break;\n\t\t\tcase END_EV:\n\t\t\tcase CANCEL_EV: that._end(e); break;\n\t\t\tcase RESIZE_EV: that._resize(); break;\n\t\t\tcase 'DOMMouseScroll': case 'mousewheel': that._wheel(e); break;\n\t\t\tcase TRNEND_EV: that._transitionEnd(e); break;\n\t\t}\n\t},\n\t\n\t_checkDOMChanges: function () {\n\t\tif (this.moved || this.zoomed || this.animating ||\n\t\t\t(this.scrollerW == this.scroller.offsetWidth * this.scale && this.scrollerH == this.scroller.offsetHeight * this.scale)) return;\n\n\t\tthis.refresh();\n\t},\n\t\n\t_scrollbar: function (dir) {\n\t\tvar that = this,\n\t\t\tbar;\n\n\t\tif (!that[dir + 'Scrollbar']) {\n\t\t\tif (that[dir + 'ScrollbarWrapper']) {\n\t\t\t\tif (hasTransform) that[dir + 'ScrollbarIndicator'].style[transform] = '';\n\t\t\t\tthat[dir + 'ScrollbarWrapper'].parentNode.removeChild(that[dir + 'ScrollbarWrapper']);\n\t\t\t\tthat[dir + 'ScrollbarWrapper'] = null;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'] = null;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!that[dir + 'ScrollbarWrapper']) {\n\t\t\t// Create the scrollbar wrapper\n\t\t\tbar = doc.createElement('div');\n\n\t\t\tif (that.options.scrollbarClass) bar.className = that.options.scrollbarClass + dir.toUpperCase();\n\t\t\telse bar.style.cssText = 'position:absolute;z-index:100;' + (dir == 'h' ? 'height:7px;bottom:1px;left:2px;right:' + (that.vScrollbar ? '7' : '2') + 'px' : 'width:7px;bottom:' + (that.hScrollbar ? '7' : '2') + 'px;top:2px;right:1px');\n\n\t\t\tbar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:opacity;' + cssVendor + 'transition-duration:' + (that.options.fadeScrollbar ? '350ms' : '0') + ';overflow:hidden;opacity:' + (that.options.hideScrollbar ? '0' : '1');\n\n\t\t\tthat.wrapper.appendChild(bar);\n\t\t\tthat[dir + 'ScrollbarWrapper'] = bar;\n\n\t\t\t// Create the scrollbar indicator\n\t\t\tbar = doc.createElement('div');\n\t\t\tif (!that.options.scrollbarClass) {\n\t\t\t\tbar.style.cssText = 'position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);' + cssVendor + 'background-clip:padding-box;' + cssVendor + 'box-sizing:border-box;' + (dir == 'h' ? 'height:100%' : 'width:100%') + ';' + cssVendor + 'border-radius:3px;border-radius:3px';\n\t\t\t}\n\t\t\tbar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:' + cssVendor + 'transform;' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);' + cssVendor + 'transition-duration:0;' + cssVendor + 'transform: translate(0,0)' + translateZ;\n\t\t\tif (that.options.useTransition) bar.style.cssText += ';' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)';\n\n\t\t\tthat[dir + 'ScrollbarWrapper'].appendChild(bar);\n\t\t\tthat[dir + 'ScrollbarIndicator'] = bar;\n\t\t}\n\n\t\tif (dir == 'h') {\n\t\t\tthat.hScrollbarSize = that.hScrollbarWrapper.clientWidth;\n\t\t\tthat.hScrollbarIndicatorSize = m.max(m.round(that.hScrollbarSize * that.hScrollbarSize / that.scrollerW), 8);\n\t\t\tthat.hScrollbarIndicator.style.width = that.hScrollbarIndicatorSize + 'px';\n\t\t\tthat.hScrollbarMaxScroll = that.hScrollbarSize - that.hScrollbarIndicatorSize;\n\t\t\tthat.hScrollbarProp = that.hScrollbarMaxScroll / that.maxScrollX;\n\t\t} else {\n\t\t\tthat.vScrollbarSize = that.vScrollbarWrapper.clientHeight;\n\t\t\tthat.vScrollbarIndicatorSize = m.max(m.round(that.vScrollbarSize * that.vScrollbarSize / that.scrollerH), 8);\n\t\t\tthat.vScrollbarIndicator.style.height = that.vScrollbarIndicatorSize + 'px';\n\t\t\tthat.vScrollbarMaxScroll = that.vScrollbarSize - that.vScrollbarIndicatorSize;\n\t\t\tthat.vScrollbarProp = that.vScrollbarMaxScroll / that.maxScrollY;\n\t\t}\n\n\t\t// Reset position\n\t\tthat._scrollbarPos(dir, true);\n\t},\n\t\n\t_resize: function () {\n\t\tvar that = this;\n\t\tsetTimeout(function () { that.refresh(); }, isAndroid ? 200 : 0);\n\t},\n\t\n\t_pos: function (x, y) {\n\t\tif (this.zoomed) return;\n\n\t\tx = this.hScroll ? x : 0;\n\t\ty = this.vScroll ? y : 0;\n\n\t\tif (this.options.useTransform) {\n\t\t\tthis.scroller.style[transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + this.scale + ')' + translateZ;\n\t\t} else {\n\t\t\tx = m.round(x);\n\t\t\ty = m.round(y);\n\t\t\tthis.scroller.style.left = x + 'px';\n\t\t\tthis.scroller.style.top = y + 'px';\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\tthis._scrollbarPos('h');\n\t\tthis._scrollbarPos('v');\n\t},\n\n\t_scrollbarPos: function (dir, hidden) {\n\t\tvar that = this,\n\t\t\tpos = dir == 'h' ? that.x : that.y,\n\t\t\tsize;\n\n\t\tif (!that[dir + 'Scrollbar']) return;\n\n\t\tpos = that[dir + 'ScrollbarProp'] * pos;\n\n\t\tif (pos < 0) {\n\t\t\tif (!that.options.fixedScrollbar) {\n\t\t\t\tsize = that[dir + 'ScrollbarIndicatorSize'] + m.round(pos * 3);\n\t\t\t\tif (size < 8) size = 8;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';\n\t\t\t}\n\t\t\tpos = 0;\n\t\t} else if (pos > that[dir + 'ScrollbarMaxScroll']) {\n\t\t\tif (!that.options.fixedScrollbar) {\n\t\t\t\tsize = that[dir + 'ScrollbarIndicatorSize'] - m.round((pos - that[dir + 'ScrollbarMaxScroll']) * 3);\n\t\t\t\tif (size < 8) size = 8;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';\n\t\t\t\tpos = that[dir + 'ScrollbarMaxScroll'] + (that[dir + 'ScrollbarIndicatorSize'] - size);\n\t\t\t} else {\n\t\t\t\tpos = that[dir + 'ScrollbarMaxScroll'];\n\t\t\t}\n\t\t}\n\n\t\tthat[dir + 'ScrollbarWrapper'].style[transitionDelay] = '0';\n\t\tthat[dir + 'ScrollbarWrapper'].style.opacity = hidden && that.options.hideScrollbar ? '0' : '1';\n\t\tthat[dir + 'ScrollbarIndicator'].style[transform] = 'translate(' + (dir == 'h' ? pos + 'px,0)' : '0,' + pos + 'px)') + translateZ;\n\t},\n\t\n\t_start: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tmatrix, x, y,\n\t\t\tc1, c2;\n\n\t\tif (!that.enabled) return;\n\n\t\tif (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e);\n\n\t\tif (that.options.useTransition || that.options.zoom) that._transitionTime(0);\n\n\t\tthat.moved = false;\n\t\tthat.animating = false;\n\t\tthat.zoomed = false;\n\t\tthat.distX = 0;\n\t\tthat.distY = 0;\n\t\tthat.absDistX = 0;\n\t\tthat.absDistY = 0;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\t// Gesture start\n\t\tif (that.options.zoom && hasTouch && e.touches.length > 1) {\n\t\t\tc1 = m.abs(e.touches[0].pageX-e.touches[1].pageX);\n\t\t\tc2 = m.abs(e.touches[0].pageY-e.touches[1].pageY);\n\t\t\tthat.touchesDistStart = m.sqrt(c1 * c1 + c2 * c2);\n\n\t\t\tthat.originX = m.abs(e.touches[0].pageX + e.touches[1].pageX - that.wrapperOffsetLeft * 2) / 2 - that.x;\n\t\t\tthat.originY = m.abs(e.touches[0].pageY + e.touches[1].pageY - that.wrapperOffsetTop * 2) / 2 - that.y;\n\n\t\t\tif (that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t}\n\n\t\tif (that.options.momentum) {\n\t\t\tif (that.options.useTransform) {\n\t\t\t\t// Very lame general purpose alternative to CSSMatrix\n\t\t\t\tmatrix = getComputedStyle(that.scroller, null)[transform].replace(/[^0-9\\-.,]/g, '').split(',');\n\t\t\t\tx = +(matrix[12] || matrix[4]);\n\t\t\t\ty = +(matrix[13] || matrix[5]);\n\t\t\t} else {\n\t\t\t\tx = +getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, '');\n\t\t\t\ty = +getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '');\n\t\t\t}\n\t\t\t\n\t\t\tif (x != that.x || y != that.y) {\n\t\t\t\tif (that.options.useTransition) that._unbind(TRNEND_EV);\n\t\t\t\telse cancelFrame(that.aniTime);\n\t\t\t\tthat.steps = [];\n\t\t\t\tthat._pos(x, y);\n\t\t\t\tif (that.options.onScrollEnd) that.options.onScrollEnd.call(that);\n\t\t\t}\n\t\t}\n\n\t\tthat.absStartX = that.x;\t// Needed by snap threshold\n\t\tthat.absStartY = that.y;\n\n\t\tthat.startX = that.x;\n\t\tthat.startY = that.y;\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\tthat.startTime = e.timeStamp || Date.now();\n\n\t\tif (that.options.onScrollStart) that.options.onScrollStart.call(that, e);\n\n\t\tthat._bind(MOVE_EV, window);\n\t\tthat._bind(END_EV, window);\n\t\tthat._bind(CANCEL_EV, window);\n\t},\n\t\n\t_move: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tdeltaX = point.pageX - that.pointX,\n\t\t\tdeltaY = point.pageY - that.pointY,\n\t\t\tnewX = that.x + deltaX,\n\t\t\tnewY = that.y + deltaY,\n\t\t\tc1, c2, scale,\n\t\t\ttimestamp = e.timeStamp || Date.now();\n\n\t\tif (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e);\n\n\t\t// Zoom\n\t\tif (that.options.zoom && hasTouch && e.touches.length > 1) {\n\t\t\tc1 = m.abs(e.touches[0].pageX - e.touches[1].pageX);\n\t\t\tc2 = m.abs(e.touches[0].pageY - e.touches[1].pageY);\n\t\t\tthat.touchesDist = m.sqrt(c1*c1+c2*c2);\n\n\t\t\tthat.zoomed = true;\n\n\t\t\tscale = 1 / that.touchesDistStart * that.touchesDist * this.scale;\n\n\t\t\tif (scale < that.options.zoomMin) scale = 0.5 * that.options.zoomMin * Math.pow(2.0, scale / that.options.zoomMin);\n\t\t\telse if (scale > that.options.zoomMax) scale = 2.0 * that.options.zoomMax * Math.pow(0.5, that.options.zoomMax / scale);\n\n\t\t\tthat.lastScale = scale / this.scale;\n\n\t\t\tnewX = this.originX - this.originX * that.lastScale + this.x;\n\t\t\tnewY = this.originY - this.originY * that.lastScale + this.y;\n\n\t\t\tthis.scroller.style[transform] = 'translate(' + newX + 'px,' + newY + 'px) scale(' + scale + ')' + translateZ;\n\n\t\t\tif (that.options.onZoom) that.options.onZoom.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\t// Slow down if outside of the boundaries\n\t\tif (newX > 0 || newX < that.maxScrollX) {\n\t\t\tnewX = that.options.bounce ? that.x + (deltaX / 2) : newX >= 0 || that.maxScrollX >= 0 ? 0 : that.maxScrollX;\n\t\t}\n\t\tif (newY > that.minScrollY || newY < that.maxScrollY) {\n\t\t\tnewY = that.options.bounce ? that.y + (deltaY / 2) : newY >= that.minScrollY || that.maxScrollY >= 0 ? that.minScrollY : that.maxScrollY;\n\t\t}\n\n\t\tthat.distX += deltaX;\n\t\tthat.distY += deltaY;\n\t\tthat.absDistX = m.abs(that.distX);\n\t\tthat.absDistY = m.abs(that.distY);\n\n\t\tif (that.absDistX < 6 && that.absDistY < 6) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Lock direction\n\t\tif (that.options.lockDirection) {\n\t\t\tif (that.absDistX > that.absDistY + 5) {\n\t\t\t\tnewY = that.y;\n\t\t\t\tdeltaY = 0;\n\t\t\t} else if (that.absDistY > that.absDistX + 5) {\n\t\t\t\tnewX = that.x;\n\t\t\t\tdeltaX = 0;\n\t\t\t}\n\t\t}\n\n\t\tthat.moved = true;\n\t\tthat._pos(newX, newY);\n\t\tthat.dirX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n\t\tthat.dirY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n\t\tif (timestamp - that.startTime > 300) {\n\t\t\tthat.startTime = timestamp;\n\t\t\tthat.startX = that.x;\n\t\t\tthat.startY = that.y;\n\t\t}\n\t\t\n\t\tif (that.options.onScrollMove) that.options.onScrollMove.call(that, e);\n\t},\n\t\n\t_end: function (e) {\n\t\tif (hasTouch && e.touches.length !== 0) return;\n\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.changedTouches[0] : e,\n\t\t\ttarget, ev,\n\t\t\tmomentumX = { dist:0, time:0 },\n\t\t\tmomentumY = { dist:0, time:0 },\n\t\t\tduration = (e.timeStamp || Date.now()) - that.startTime,\n\t\t\tnewPosX = that.x,\n\t\t\tnewPosY = that.y,\n\t\t\tdistX, distY,\n\t\t\tnewDuration,\n\t\t\tsnap,\n\t\t\tscale;\n\n\t\tthat._unbind(MOVE_EV, window);\n\t\tthat._unbind(END_EV, window);\n\t\tthat._unbind(CANCEL_EV, window);\n\n\t\tif (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e);\n\n\t\tif (that.zoomed) {\n\t\t\tscale = that.scale * that.lastScale;\n\t\t\tscale = Math.max(that.options.zoomMin, scale);\n\t\t\tscale = Math.min(that.options.zoomMax, scale);\n\t\t\tthat.lastScale = scale / that.scale;\n\t\t\tthat.scale = scale;\n\n\t\t\tthat.x = that.originX - that.originX * that.lastScale + that.x;\n\t\t\tthat.y = that.originY - that.originY * that.lastScale + that.y;\n\t\t\t\n\t\t\tthat.scroller.style[transitionDuration] = '200ms';\n\t\t\tthat.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + that.scale + ')' + translateZ;\n\t\t\t\n\t\t\tthat.zoomed = false;\n\t\t\tthat.refresh();\n\n\t\t\tif (that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!that.moved) {\n\t\t\tif (hasTouch) {\n\t\t\t\tif (that.doubleTapTimer && that.options.zoom) {\n\t\t\t\t\t// Double tapped\n\t\t\t\t\tclearTimeout(that.doubleTapTimer);\n\t\t\t\t\tthat.doubleTapTimer = null;\n\t\t\t\t\tif (that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t\t\t\tthat.zoom(that.pointX, that.pointY, that.scale == 1 ? that.options.doubleTapZoom : 1);\n\t\t\t\t\tif (that.options.onZoomEnd) {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tthat.options.onZoomEnd.call(that, e);\n\t\t\t\t\t\t}, 200); // 200 is default zoom duration\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.handleClick) {\n\t\t\t\t\tthat.doubleTapTimer = setTimeout(function () {\n\t\t\t\t\t\tthat.doubleTapTimer = null;\n\n\t\t\t\t\t\t// Find the last touched element\n\t\t\t\t\t\ttarget = point.target;\n\t\t\t\t\t\twhile (target.nodeType != 1) target = target.parentNode;\n\n\t\t\t\t\t\tif (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA') {\n\t\t\t\t\t\t\tev = doc.createEvent('MouseEvents');\n\t\t\t\t\t\t\tev.initMouseEvent('click', true, true, e.view, 1,\n\t\t\t\t\t\t\t\tpoint.screenX, point.screenY, point.clientX, point.clientY,\n\t\t\t\t\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n\t\t\t\t\t\t\t\t0, null);\n\t\t\t\t\t\t\tev._fake = true;\n\t\t\t\t\t\t\ttarget.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, that.options.zoom ? 250 : 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat._resetPos(400);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (duration < 300 && that.options.momentum) {\n\t\t\tmomentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX;\n\t\t\tmomentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY < 0 ? that.scrollerH - that.wrapperH + that.y - that.minScrollY : 0), that.options.bounce ? that.wrapperH : 0) : momentumY;\n\n\t\t\tnewPosX = that.x + momentumX.dist;\n\t\t\tnewPosY = that.y + momentumY.dist;\n\n\t\t\tif ((that.x > 0 && newPosX > 0) || (that.x < that.maxScrollX && newPosX < that.maxScrollX)) momentumX = { dist:0, time:0 };\n\t\t\tif ((that.y > that.minScrollY && newPosY > that.minScrollY) || (that.y < that.maxScrollY && newPosY < that.maxScrollY)) momentumY = { dist:0, time:0 };\n\t\t}\n\n\t\tif (momentumX.dist || momentumY.dist) {\n\t\t\tnewDuration = m.max(m.max(momentumX.time, momentumY.time), 10);\n\n\t\t\t// Do we need to snap?\n\t\t\tif (that.options.snap) {\n\t\t\t\tdistX = newPosX - that.absStartX;\n\t\t\t\tdistY = newPosY - that.absStartY;\n\t\t\t\tif (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) { that.scrollTo(that.absStartX, that.absStartY, 200); }\n\t\t\t\telse {\n\t\t\t\t\tsnap = that._snap(newPosX, newPosY);\n\t\t\t\t\tnewPosX = snap.x;\n\t\t\t\t\tnewPosY = snap.y;\n\t\t\t\t\tnewDuration = m.max(snap.time, newDuration);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat.scrollTo(m.round(newPosX), m.round(newPosY), newDuration);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\t// Do we need to snap?\n\t\tif (that.options.snap) {\n\t\t\tdistX = newPosX - that.absStartX;\n\t\t\tdistY = newPosY - that.absStartY;\n\t\t\tif (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) that.scrollTo(that.absStartX, that.absStartY, 200);\n\t\t\telse {\n\t\t\t\tsnap = that._snap(that.x, that.y);\n\t\t\t\tif (snap.x != that.x || snap.y != that.y) that.scrollTo(snap.x, snap.y, snap.time);\n\t\t\t}\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tthat._resetPos(200);\n\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t},\n\t\n\t_resetPos: function (time) {\n\t\tvar that = this,\n\t\t\tresetX = that.x >= 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x,\n\t\t\tresetY = that.y >= that.minScrollY || that.maxScrollY > 0 ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;\n\n\t\tif (resetX == that.x && resetY == that.y) {\n\t\t\tif (that.moved) {\n\t\t\t\tthat.moved = false;\n\t\t\t\tif (that.options.onScrollEnd) that.options.onScrollEnd.call(that);\t\t// Execute custom code on scroll end\n\t\t\t}\n\n\t\t\tif (that.hScrollbar && that.options.hideScrollbar) {\n\t\t\t\tif (vendor == 'webkit') that.hScrollbarWrapper.style[transitionDelay] = '300ms';\n\t\t\t\tthat.hScrollbarWrapper.style.opacity = '0';\n\t\t\t}\n\t\t\tif (that.vScrollbar && that.options.hideScrollbar) {\n\t\t\t\tif (vendor == 'webkit') that.vScrollbarWrapper.style[transitionDelay] = '300ms';\n\t\t\t\tthat.vScrollbarWrapper.style.opacity = '0';\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tthat.scrollTo(resetX, resetY, time || 0);\n\t},\n\n\t_wheel: function (e) {\n\t\tvar that = this,\n\t\t\twheelDeltaX, wheelDeltaY,\n\t\t\tdeltaX, deltaY,\n\t\t\tdeltaScale;\n\n\t\tif ('wheelDeltaX' in e) {\n\t\t\twheelDeltaX = e.wheelDeltaX / 12;\n\t\t\twheelDeltaY = e.wheelDeltaY / 12;\n\t\t} else if('wheelDelta' in e) {\n\t\t\twheelDeltaX = wheelDeltaY = e.wheelDelta / 12;\n\t\t} else if ('detail' in e) {\n\t\t\twheelDeltaX = wheelDeltaY = -e.detail * 3;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (that.options.wheelAction == 'zoom') {\n\t\t\tdeltaScale = that.scale * Math.pow(2, 1/3 * (wheelDeltaY ? wheelDeltaY / Math.abs(wheelDeltaY) : 0));\n\t\t\tif (deltaScale < that.options.zoomMin) deltaScale = that.options.zoomMin;\n\t\t\tif (deltaScale > that.options.zoomMax) deltaScale = that.options.zoomMax;\n\t\t\t\n\t\t\tif (deltaScale != that.scale) {\n\t\t\t\tif (!that.wheelZoomCount && that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t\t\tthat.wheelZoomCount++;\n\t\t\t\t\n\t\t\t\tthat.zoom(e.pageX, e.pageY, deltaScale, 400);\n\t\t\t\t\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthat.wheelZoomCount--;\n\t\t\t\t\tif (!that.wheelZoomCount && that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);\n\t\t\t\t}, 400);\n\t\t\t}\n\t\t\t\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tdeltaX = that.x + wheelDeltaX;\n\t\tdeltaY = that.y + wheelDeltaY;\n\n\t\tif (deltaX > 0) deltaX = 0;\n\t\telse if (deltaX < that.maxScrollX) deltaX = that.maxScrollX;\n\n\t\tif (deltaY > that.minScrollY) deltaY = that.minScrollY;\n\t\telse if (deltaY < that.maxScrollY) deltaY = that.maxScrollY;\n    \n\t\tif (that.maxScrollY < 0) {\n\t\t\tthat.scrollTo(deltaX, deltaY, 0);\n\t\t}\n\t},\n\t\n\t_transitionEnd: function (e) {\n\t\tvar that = this;\n\n\t\tif (e.target != that.scroller) return;\n\n\t\tthat._unbind(TRNEND_EV);\n\t\t\n\t\tthat._startAni();\n\t},\n\n\n\t/**\n\t*\n\t* Utilities\n\t*\n\t*/\n\t_startAni: function () {\n\t\tvar that = this,\n\t\t\tstartX = that.x, startY = that.y,\n\t\t\tstartTime = Date.now(),\n\t\t\tstep, easeOut,\n\t\t\tanimate;\n\n\t\tif (that.animating) return;\n\t\t\n\t\tif (!that.steps.length) {\n\t\t\tthat._resetPos(400);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tstep = that.steps.shift();\n\t\t\n\t\tif (step.x == startX && step.y == startY) step.time = 0;\n\n\t\tthat.animating = true;\n\t\tthat.moved = true;\n\t\t\n\t\tif (that.options.useTransition) {\n\t\t\tthat._transitionTime(step.time);\n\t\t\tthat._pos(step.x, step.y);\n\t\t\tthat.animating = false;\n\t\t\tif (step.time) that._bind(TRNEND_EV);\n\t\t\telse that._resetPos(0);\n\t\t\treturn;\n\t\t}\n\n\t\tanimate = function () {\n\t\t\tvar now = Date.now(),\n\t\t\t\tnewX, newY;\n\n\t\t\tif (now >= startTime + step.time) {\n\t\t\t\tthat._pos(step.x, step.y);\n\t\t\t\tthat.animating = false;\n\t\t\t\tif (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);\t\t\t// Execute custom code on animation end\n\t\t\t\tthat._startAni();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnow = (now - startTime) / step.time - 1;\n\t\t\teaseOut = m.sqrt(1 - now * now);\n\t\t\tnewX = (step.x - startX) * easeOut + startX;\n\t\t\tnewY = (step.y - startY) * easeOut + startY;\n\t\t\tthat._pos(newX, newY);\n\t\t\tif (that.animating) that.aniTime = nextFrame(animate);\n\t\t};\n\n\t\tanimate();\n\t},\n\n\t_transitionTime: function (time) {\n\t\ttime += 'ms';\n\t\tthis.scroller.style[transitionDuration] = time;\n\t\tif (this.hScrollbar) this.hScrollbarIndicator.style[transitionDuration] = time;\n\t\tif (this.vScrollbar) this.vScrollbarIndicator.style[transitionDuration] = time;\n\t},\n\n\t_momentum: function (dist, time, maxDistUpper, maxDistLower, size) {\n\t\tvar deceleration = 0.0006,\n\t\t\tspeed = m.abs(dist) / time,\n\t\t\tnewDist = (speed * speed) / (2 * deceleration),\n\t\t\tnewTime = 0, outsideDist = 0;\n\n\t\t// Proportinally reduce speed if we are outside of the boundaries\n\t\tif (dist > 0 && newDist > maxDistUpper) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistUpper = maxDistUpper + outsideDist;\n\t\t\tspeed = speed * maxDistUpper / newDist;\n\t\t\tnewDist = maxDistUpper;\n\t\t} else if (dist < 0 && newDist > maxDistLower) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistLower = maxDistLower + outsideDist;\n\t\t\tspeed = speed * maxDistLower / newDist;\n\t\t\tnewDist = maxDistLower;\n\t\t}\n\n\t\tnewDist = newDist * (dist < 0 ? -1 : 1);\n\t\tnewTime = speed / deceleration;\n\n\t\treturn { dist: newDist, time: m.round(newTime) };\n\t},\n\n\t_offset: function (el) {\n\t\tvar left = -el.offsetLeft,\n\t\t\ttop = -el.offsetTop;\n\t\t\t\n\t\twhile (el = el.offsetParent) {\n\t\t\tleft -= el.offsetLeft;\n\t\t\ttop -= el.offsetTop;\n\t\t}\n\t\t\n\t\tif (el != this.wrapper) {\n\t\t\tleft *= this.scale;\n\t\t\ttop *= this.scale;\n\t\t}\n\n\t\treturn { left: left, top: top };\n\t},\n\n\t_snap: function (x, y) {\n\t\tvar that = this,\n\t\t\ti, l,\n\t\t\tpage, time,\n\t\t\tsizeX, sizeY;\n\n\t\t// Check page X\n\t\tpage = that.pagesX.length - 1;\n\t\tfor (i=0, l=that.pagesX.length; i<l; i++) {\n\t\t\tif (x >= that.pagesX[i]) {\n\t\t\t\tpage = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (page == that.currPageX && page > 0 && that.dirX < 0) page--;\n\t\tx = that.pagesX[page];\n\t\tsizeX = m.abs(x - that.pagesX[that.currPageX]);\n\t\tsizeX = sizeX ? m.abs(that.x - x) / sizeX * 500 : 0;\n\t\tthat.currPageX = page;\n\n\t\t// Check page Y\n\t\tpage = that.pagesY.length-1;\n\t\tfor (i=0; i<page; i++) {\n\t\t\tif (y >= that.pagesY[i]) {\n\t\t\t\tpage = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (page == that.currPageY && page > 0 && that.dirY < 0) page--;\n\t\ty = that.pagesY[page];\n\t\tsizeY = m.abs(y - that.pagesY[that.currPageY]);\n\t\tsizeY = sizeY ? m.abs(that.y - y) / sizeY * 500 : 0;\n\t\tthat.currPageY = page;\n\n\t\t// Snap with constant speed (proportional duration)\n\t\ttime = m.round(m.max(sizeX, sizeY)) || 200;\n\n\t\treturn { x: x, y: y, time: time };\n\t},\n\n\t_bind: function (type, el, bubble) {\n\t\t(el || this.scroller).addEventListener(type, this, !!bubble);\n\t},\n\n\t_unbind: function (type, el, bubble) {\n\t\t(el || this.scroller).removeEventListener(type, this, !!bubble);\n\t},\n\n\n\t/**\n\t*\n\t* Public methods\n\t*\n\t*/\n\tdestroy: function () {\n\t\tvar that = this;\n\n\t\tthat.scroller.style[transform] = '';\n\n\t\t// Remove the scrollbars\n\t\tthat.hScrollbar = false;\n\t\tthat.vScrollbar = false;\n\t\tthat._scrollbar('h');\n\t\tthat._scrollbar('v');\n\n\t\t// Remove the event listeners\n\t\tthat._unbind(RESIZE_EV, window);\n\t\tthat._unbind(START_EV);\n\t\tthat._unbind(MOVE_EV, window);\n\t\tthat._unbind(END_EV, window);\n\t\tthat._unbind(CANCEL_EV, window);\n\t\t\n\t\tif (!that.options.hasTouch) {\n\t\t\tthat._unbind('DOMMouseScroll');\n\t\t\tthat._unbind('mousewheel');\n\t\t}\n\t\t\n\t\tif (that.options.useTransition) that._unbind(TRNEND_EV);\n\t\t\n\t\tif (that.options.checkDOMChanges) clearInterval(that.checkDOMTime);\n\t\t\n\t\tif (that.options.onDestroy) that.options.onDestroy.call(that);\n\t},\n\n\trefresh: function () {\n\t\tvar that = this,\n\t\t\toffset,\n\t\t\ti, l,\n\t\t\tels,\n\t\t\tpos = 0,\n\t\t\tpage = 0;\n\n\t\tif (that.scale < that.options.zoomMin) that.scale = that.options.zoomMin;\n\t\tthat.wrapperW = that.wrapper.clientWidth || 1;\n\t\tthat.wrapperH = that.wrapper.clientHeight || 1;\n\n\t\tthat.minScrollY = -that.options.topOffset || 0;\n\t\tthat.scrollerW = m.round(that.scroller.offsetWidth * that.scale);\n\t\tthat.scrollerH = m.round((that.scroller.offsetHeight + that.minScrollY) * that.scale);\n\t\tthat.maxScrollX = that.wrapperW - that.scrollerW;\n\t\tthat.maxScrollY = that.wrapperH - that.scrollerH + that.minScrollY;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\tif (that.options.onRefresh) that.options.onRefresh.call(that);\n\n\t\tthat.hScroll = that.options.hScroll && that.maxScrollX < 0;\n\t\tthat.vScroll = that.options.vScroll && (!that.options.bounceLock && !that.hScroll || that.scrollerH > that.wrapperH);\n\n\t\tthat.hScrollbar = that.hScroll && that.options.hScrollbar;\n\t\tthat.vScrollbar = that.vScroll && that.options.vScrollbar && that.scrollerH > that.wrapperH;\n\n\t\toffset = that._offset(that.wrapper);\n\t\tthat.wrapperOffsetLeft = -offset.left;\n\t\tthat.wrapperOffsetTop = -offset.top;\n\n\t\t// Prepare snap\n\t\tif (typeof that.options.snap == 'string') {\n\t\t\tthat.pagesX = [];\n\t\t\tthat.pagesY = [];\n\t\t\tels = that.scroller.querySelectorAll(that.options.snap);\n\t\t\tfor (i=0, l=els.length; i<l; i++) {\n\t\t\t\tpos = that._offset(els[i]);\n\t\t\t\tpos.left += that.wrapperOffsetLeft;\n\t\t\t\tpos.top += that.wrapperOffsetTop;\n\t\t\t\tthat.pagesX[i] = pos.left < that.maxScrollX ? that.maxScrollX : pos.left * that.scale;\n\t\t\t\tthat.pagesY[i] = pos.top < that.maxScrollY ? that.maxScrollY : pos.top * that.scale;\n\t\t\t}\n\t\t} else if (that.options.snap) {\n\t\t\tthat.pagesX = [];\n\t\t\twhile (pos >= that.maxScrollX) {\n\t\t\t\tthat.pagesX[page] = pos;\n\t\t\t\tpos = pos - that.wrapperW;\n\t\t\t\tpage++;\n\t\t\t}\n\t\t\tif (that.maxScrollX%that.wrapperW) that.pagesX[that.pagesX.length] = that.maxScrollX - that.pagesX[that.pagesX.length-1] + that.pagesX[that.pagesX.length-1];\n\n\t\t\tpos = 0;\n\t\t\tpage = 0;\n\t\t\tthat.pagesY = [];\n\t\t\twhile (pos >= that.maxScrollY) {\n\t\t\t\tthat.pagesY[page] = pos;\n\t\t\t\tpos = pos - that.wrapperH;\n\t\t\t\tpage++;\n\t\t\t}\n\t\t\tif (that.maxScrollY%that.wrapperH) that.pagesY[that.pagesY.length] = that.maxScrollY - that.pagesY[that.pagesY.length-1] + that.pagesY[that.pagesY.length-1];\n\t\t}\n\n\t\t// Prepare the scrollbars\n\t\tthat._scrollbar('h');\n\t\tthat._scrollbar('v');\n\n\t\tif (!that.zoomed) {\n\t\t\tthat.scroller.style[transitionDuration] = '0';\n\t\t\tthat._resetPos(400);\n\t\t}\n\t},\n\n\tscrollTo: function (x, y, time, relative) {\n\t\tvar that = this,\n\t\t\tstep = x,\n\t\t\ti, l;\n\n\t\tthat.stop();\n\n\t\tif (!step.length) step = [{ x: x, y: y, time: time, relative: relative }];\n\t\t\n\t\tfor (i=0, l=step.length; i<l; i++) {\n\t\t\tif (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y; }\n\t\t\tthat.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 });\n\t\t}\n\n\t\tthat._startAni();\n\t},\n\n\tscrollToElement: function (el, time) {\n\t\tvar that = this, pos;\n\t\tel = el.nodeType ? el : that.scroller.querySelector(el);\n\t\tif (!el) return;\n\n\t\tpos = that._offset(el);\n\t\tpos.left += that.wrapperOffsetLeft;\n\t\tpos.top += that.wrapperOffsetTop;\n\n\t\tpos.left = pos.left > 0 ? 0 : pos.left < that.maxScrollX ? that.maxScrollX : pos.left;\n\t\tpos.top = pos.top > that.minScrollY ? that.minScrollY : pos.top < that.maxScrollY ? that.maxScrollY : pos.top;\n\t\ttime = time === undefined ? m.max(m.abs(pos.left)*2, m.abs(pos.top)*2) : time;\n\n\t\tthat.scrollTo(pos.left, pos.top, time);\n\t},\n\n\tscrollToPage: function (pageX, pageY, time) {\n\t\tvar that = this, x, y;\n\t\t\n\t\ttime = time === undefined ? 400 : time;\n\n\t\tif (that.options.onScrollStart) that.options.onScrollStart.call(that);\n\n\t\tif (that.options.snap) {\n\t\t\tpageX = pageX == 'next' ? that.currPageX+1 : pageX == 'prev' ? that.currPageX-1 : pageX;\n\t\t\tpageY = pageY == 'next' ? that.currPageY+1 : pageY == 'prev' ? that.currPageY-1 : pageY;\n\n\t\t\tpageX = pageX < 0 ? 0 : pageX > that.pagesX.length-1 ? that.pagesX.length-1 : pageX;\n\t\t\tpageY = pageY < 0 ? 0 : pageY > that.pagesY.length-1 ? that.pagesY.length-1 : pageY;\n\n\t\t\tthat.currPageX = pageX;\n\t\t\tthat.currPageY = pageY;\n\t\t\tx = that.pagesX[pageX];\n\t\t\ty = that.pagesY[pageY];\n\t\t} else {\n\t\t\tx = -that.wrapperW * pageX;\n\t\t\ty = -that.wrapperH * pageY;\n\t\t\tif (x < that.maxScrollX) x = that.maxScrollX;\n\t\t\tif (y < that.maxScrollY) y = that.maxScrollY;\n\t\t}\n\n\t\tthat.scrollTo(x, y, time);\n\t},\n\n\tdisable: function () {\n\t\tthis.stop();\n\t\tthis._resetPos(0);\n\t\tthis.enabled = false;\n\n\t\t// If disabled after touchstart we make sure that there are no left over events\n\t\tthis._unbind(MOVE_EV, window);\n\t\tthis._unbind(END_EV, window);\n\t\tthis._unbind(CANCEL_EV, window);\n\t},\n\t\n\tenable: function () {\n\t\tthis.enabled = true;\n\t},\n\t\n\tstop: function () {\n\t\tif (this.options.useTransition) this._unbind(TRNEND_EV);\n\t\telse cancelFrame(this.aniTime);\n\t\tthis.steps = [];\n\t\tthis.moved = false;\n\t\tthis.animating = false;\n\t},\n\t\n\tzoom: function (x, y, scale, time) {\n\t\tvar that = this,\n\t\t\trelScale = scale / that.scale;\n\n\t\tif (!that.options.useTransform) return;\n\n\t\tthat.zoomed = true;\n\t\ttime = time === undefined ? 200 : time;\n\t\tx = x - that.wrapperOffsetLeft - that.x;\n\t\ty = y - that.wrapperOffsetTop - that.y;\n\t\tthat.x = x - x * relScale + that.x;\n\t\tthat.y = y - y * relScale + that.y;\n\n\t\tthat.scale = scale;\n\t\tthat.refresh();\n\n\t\tthat.x = that.x > 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x;\n\t\tthat.y = that.y > that.minScrollY ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;\n\n\t\tthat.scroller.style[transitionDuration] = time + 'ms';\n\t\tthat.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + scale + ')' + translateZ;\n\t\tthat.zoomed = false;\n\t},\n\t\n\tisReady: function () {\n\t\treturn !this.moved && !this.zoomed && !this.animating;\n\t}\n};\n\nfunction prefixStyle (style) {\n\tif ( vendor === '' ) return style;\n\n\tstyle = style.charAt(0).toUpperCase() + style.substr(1);\n\treturn vendor + style;\n}\n\ndummyStyle = null;\t// for the sake of it\n\nif (true) exports.iScroll = iScroll;\nelse window.iScroll = iScroll;\n\n})(window, document);\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaXNjcm9sbC5qcz8xYjM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0NBQWdDO0FBQ3ZELEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLG9CQUFvQixFQUFFO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLGtCQUFrQixxQkFBcUI7O0FBRS9FOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyw0REFBNEQ7QUFDNUQsMENBQTBDO0FBQzFDO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxZQUFZLDhCQUE4QixXQUFXLFNBQVMsNERBQTRELCtDQUErQyxRQUFROztBQUVoTywwQkFBMEIsb0JBQW9CLDZDQUE2QywwRkFBMEYsZ0JBQWdCOztBQUVyTTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZLDJCQUEyQix1Q0FBdUMsNkNBQTZDLHVDQUF1QyxvREFBb0QsbUNBQW1DO0FBQ3BTO0FBQ0EsMEJBQTBCLG9CQUFvQixnRUFBZ0UsMkVBQTJFLHVDQUF1QztBQUNoTywwREFBMEQ7O0FBRTFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSwwQkFBMEIsZ0JBQWdCLEVBQUU7QUFDNUMsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQyxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE9BQU87QUFDZDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNEdBQTRHO0FBQzVHLHdJQUF3STtBQUN4STs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLG9EQUFvRDtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVU7QUFDVixFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1YsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQ0FBaUMsS0FBSztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLEtBQUs7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQTZCLDZDQUE2Qzs7QUFFMUUsMEJBQTBCLEtBQUs7QUFDL0IsMEJBQTBCLGdDQUFnQyxnQ0FBZ0M7QUFDMUYsb0JBQW9CLHNEQUFzRDtBQUMxRTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjs7QUFFbEI7QUFDQTs7QUFFQSxDQUFDIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbi8qIVxuICogaVNjcm9sbCB2NC4yLjUgfiBDb3B5cmlnaHQgKGMpIDIwMTIgTWF0dGVvIFNwaW5lbGxpLCBodHRwOi8vY3ViaXEub3JnXG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSwgaHR0cDovL2N1YmlxLm9yZy9saWNlbnNlXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvYyl7XG52YXIgbSA9IE1hdGgsXG5cdGR1bW15U3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGUsXG5cdHZlbmRvciA9IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHZlbmRvcnMgPSAndCx3ZWJraXRULE1velQsbXNULE9UJy5zcGxpdCgnLCcpLFxuXHRcdFx0dCxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHZlbmRvcnMubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0dCA9IHZlbmRvcnNbaV0gKyAncmFuc2Zvcm0nO1xuXHRcdFx0aWYgKCB0IGluIGR1bW15U3R5bGUgKSB7XG5cdFx0XHRcdHJldHVybiB2ZW5kb3JzW2ldLnN1YnN0cigwLCB2ZW5kb3JzW2ldLmxlbmd0aCAtIDEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSkoKSxcblx0Y3NzVmVuZG9yID0gdmVuZG9yID8gJy0nICsgdmVuZG9yLnRvTG93ZXJDYXNlKCkgKyAnLScgOiAnJyxcblxuXHQvLyBTdHlsZSBwcm9wZXJ0aWVzXG5cdHRyYW5zZm9ybSA9IHByZWZpeFN0eWxlKCd0cmFuc2Zvcm0nKSxcblx0dHJhbnNpdGlvblByb3BlcnR5ID0gcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25Qcm9wZXJ0eScpLFxuXHR0cmFuc2l0aW9uRHVyYXRpb24gPSBwcmVmaXhTdHlsZSgndHJhbnNpdGlvbkR1cmF0aW9uJyksXG5cdHRyYW5zZm9ybU9yaWdpbiA9IHByZWZpeFN0eWxlKCd0cmFuc2Zvcm1PcmlnaW4nKSxcblx0dHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbicpLFxuXHR0cmFuc2l0aW9uRGVsYXkgPSBwcmVmaXhTdHlsZSgndHJhbnNpdGlvbkRlbGF5JyksXG5cbiAgICAvLyBCcm93c2VyIGNhcGFiaWxpdGllc1xuXHRpc0FuZHJvaWQgPSAoL2FuZHJvaWQvZ2kpLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pLFxuXHRpc0lEZXZpY2UgPSAoL2lwaG9uZXxpcGFkL2dpKS50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSxcblx0aXNUb3VjaFBhZCA9ICgvaHAtdGFibGV0L2dpKS50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSxcblxuICAgIGhhczNkID0gcHJlZml4U3R5bGUoJ3BlcnNwZWN0aXZlJykgaW4gZHVtbXlTdHlsZSxcbiAgICBoYXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyAmJiAhaXNUb3VjaFBhZCxcbiAgICBoYXNUcmFuc2Zvcm0gPSB2ZW5kb3IgIT09IGZhbHNlLFxuICAgIGhhc1RyYW5zaXRpb25FbmQgPSBwcmVmaXhTdHlsZSgndHJhbnNpdGlvbicpIGluIGR1bW15U3R5bGUsXG5cblx0UkVTSVpFX0VWID0gJ29ub3JpZW50YXRpb25jaGFuZ2UnIGluIHdpbmRvdyA/ICdvcmllbnRhdGlvbmNoYW5nZScgOiAncmVzaXplJyxcblx0U1RBUlRfRVYgPSBoYXNUb3VjaCA/ICd0b3VjaHN0YXJ0JyA6ICdtb3VzZWRvd24nLFxuXHRNT1ZFX0VWID0gaGFzVG91Y2ggPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnLFxuXHRFTkRfRVYgPSBoYXNUb3VjaCA/ICd0b3VjaGVuZCcgOiAnbW91c2V1cCcsXG5cdENBTkNFTF9FViA9IGhhc1RvdWNoID8gJ3RvdWNoY2FuY2VsJyA6ICdtb3VzZXVwJyxcblx0VFJORU5EX0VWID0gKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIHZlbmRvciA9PT0gZmFsc2UgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgdHJhbnNpdGlvbkVuZCA9IHtcblx0XHRcdFx0JydcdFx0XHQ6ICd0cmFuc2l0aW9uZW5kJyxcblx0XHRcdFx0J3dlYmtpdCdcdDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuXHRcdFx0XHQnTW96J1x0XHQ6ICd0cmFuc2l0aW9uZW5kJyxcblx0XHRcdFx0J08nXHRcdFx0OiAnb3RyYW5zaXRpb25lbmQnLFxuXHRcdFx0XHQnbXMnXHRcdDogJ01TVHJhbnNpdGlvbkVuZCdcblx0XHRcdH07XG5cblx0XHRyZXR1cm4gdHJhbnNpdGlvbkVuZFt2ZW5kb3JdO1xuXHR9KSgpLFxuXG5cdG5leHRGcmFtZSA9IChmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0ZnVuY3Rpb24oY2FsbGJhY2spIHsgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDEpOyB9O1xuXHR9KSgpLFxuXHRjYW5jZWxGcmFtZSA9IChmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm9DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tc0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0Y2xlYXJUaW1lb3V0O1xuXHR9KSgpLFxuXG5cdC8vIEhlbHBlcnNcblx0dHJhbnNsYXRlWiA9IGhhczNkID8gJyB0cmFuc2xhdGVaKDApJyA6ICcnLFxuXG5cdC8vIENvbnN0cnVjdG9yXG5cdGlTY3JvbGwgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRpO1xuXG5cdFx0dGhhdC53cmFwcGVyID0gdHlwZW9mIGVsID09ICdvYmplY3QnID8gZWwgOiBkb2MuZ2V0RWxlbWVudEJ5SWQoZWwpO1xuXHRcdHRoYXQud3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcdHRoYXQuc2Nyb2xsZXIgPSB0aGF0LndyYXBwZXIuY2hpbGRyZW5bMF07XG5cblx0XHQvLyBEZWZhdWx0IG9wdGlvbnNcblx0XHR0aGF0Lm9wdGlvbnMgPSB7XG5cdFx0XHRoU2Nyb2xsOiB0cnVlLFxuXHRcdFx0dlNjcm9sbDogdHJ1ZSxcblx0XHRcdHg6IDAsXG5cdFx0XHR5OiAwLFxuXHRcdFx0Ym91bmNlOiB0cnVlLFxuXHRcdFx0Ym91bmNlTG9jazogZmFsc2UsXG5cdFx0XHRtb21lbnR1bTogdHJ1ZSxcblx0XHRcdGxvY2tEaXJlY3Rpb246IHRydWUsXG5cdFx0XHR1c2VUcmFuc2Zvcm06IHRydWUsXG5cdFx0XHR1c2VUcmFuc2l0aW9uOiBmYWxzZSxcblx0XHRcdHRvcE9mZnNldDogMCxcblx0XHRcdGNoZWNrRE9NQ2hhbmdlczogZmFsc2UsXHRcdC8vIEV4cGVyaW1lbnRhbFxuXHRcdFx0aGFuZGxlQ2xpY2s6IHRydWUsXG5cblx0XHRcdC8vIFNjcm9sbGJhclxuXHRcdFx0aFNjcm9sbGJhcjogdHJ1ZSxcblx0XHRcdHZTY3JvbGxiYXI6IHRydWUsXG5cdFx0XHRmaXhlZFNjcm9sbGJhcjogaXNBbmRyb2lkLFxuXHRcdFx0aGlkZVNjcm9sbGJhcjogaXNJRGV2aWNlLFxuXHRcdFx0ZmFkZVNjcm9sbGJhcjogaXNJRGV2aWNlICYmIGhhczNkLFxuXHRcdFx0c2Nyb2xsYmFyQ2xhc3M6ICcnLFxuXG5cdFx0XHQvLyBab29tXG5cdFx0XHR6b29tOiBmYWxzZSxcblx0XHRcdHpvb21NaW46IDEsXG5cdFx0XHR6b29tTWF4OiA0LFxuXHRcdFx0ZG91YmxlVGFwWm9vbTogMixcblx0XHRcdHdoZWVsQWN0aW9uOiAnc2Nyb2xsJyxcblxuXHRcdFx0Ly8gU25hcFxuXHRcdFx0c25hcDogZmFsc2UsXG5cdFx0XHRzbmFwVGhyZXNob2xkOiAxLFxuXG5cdFx0XHQvLyBFdmVudHNcblx0XHRcdG9uUmVmcmVzaDogbnVsbCxcblx0XHRcdG9uQmVmb3JlU2Nyb2xsU3RhcnQ6IGZ1bmN0aW9uIChlKSB7IGUucHJldmVudERlZmF1bHQoKTsgfSxcblx0XHRcdG9uU2Nyb2xsU3RhcnQ6IG51bGwsXG5cdFx0XHRvbkJlZm9yZVNjcm9sbE1vdmU6IG51bGwsXG5cdFx0XHRvblNjcm9sbE1vdmU6IG51bGwsXG5cdFx0XHRvbkJlZm9yZVNjcm9sbEVuZDogbnVsbCxcblx0XHRcdG9uU2Nyb2xsRW5kOiBudWxsLFxuXHRcdFx0b25Ub3VjaEVuZDogbnVsbCxcblx0XHRcdG9uRGVzdHJveTogbnVsbCxcblx0XHRcdG9uWm9vbVN0YXJ0OiBudWxsLFxuXHRcdFx0b25ab29tOiBudWxsLFxuXHRcdFx0b25ab29tRW5kOiBudWxsXG5cdFx0fTtcblxuXHRcdC8vIFVzZXIgZGVmaW5lZCBvcHRpb25zXG5cdFx0Zm9yIChpIGluIG9wdGlvbnMpIHRoYXQub3B0aW9uc1tpXSA9IG9wdGlvbnNbaV07XG5cdFx0XG5cdFx0Ly8gU2V0IHN0YXJ0aW5nIHBvc2l0aW9uXG5cdFx0dGhhdC54ID0gdGhhdC5vcHRpb25zLng7XG5cdFx0dGhhdC55ID0gdGhhdC5vcHRpb25zLnk7XG5cblx0XHQvLyBOb3JtYWxpemUgb3B0aW9uc1xuXHRcdHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0gPSBoYXNUcmFuc2Zvcm0gJiYgdGhhdC5vcHRpb25zLnVzZVRyYW5zZm9ybTtcblx0XHR0aGF0Lm9wdGlvbnMuaFNjcm9sbGJhciA9IHRoYXQub3B0aW9ucy5oU2Nyb2xsICYmIHRoYXQub3B0aW9ucy5oU2Nyb2xsYmFyO1xuXHRcdHRoYXQub3B0aW9ucy52U2Nyb2xsYmFyID0gdGhhdC5vcHRpb25zLnZTY3JvbGwgJiYgdGhhdC5vcHRpb25zLnZTY3JvbGxiYXI7XG5cdFx0dGhhdC5vcHRpb25zLnpvb20gPSB0aGF0Lm9wdGlvbnMudXNlVHJhbnNmb3JtICYmIHRoYXQub3B0aW9ucy56b29tO1xuXHRcdHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uID0gaGFzVHJhbnNpdGlvbkVuZCAmJiB0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbjtcblxuXHRcdC8vIEhlbHBlcnMgRklYIEFORFJPSUQgQlVHIVxuXHRcdC8vIHRyYW5zbGF0ZTNkIGFuZCBzY2FsZSBkb2Vzbid0IHdvcmsgdG9nZXRoZXIhXG5cdFx0Ly8gSWdub3JpbmcgM2QgT05MWSBXSEVOIFlPVSBTRVQgdGhhdC5vcHRpb25zLnpvb21cblx0XHRpZiAoIHRoYXQub3B0aW9ucy56b29tICYmIGlzQW5kcm9pZCApe1xuXHRcdFx0dHJhbnNsYXRlWiA9ICcnO1xuXHRcdH1cblx0XHRcblx0XHQvLyBTZXQgc29tZSBkZWZhdWx0IHN0eWxlc1xuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvblByb3BlcnR5XSA9IHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0gPyBjc3NWZW5kb3IgKyAndHJhbnNmb3JtJyA6ICd0b3AgbGVmdCc7XG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gJzAnO1xuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNmb3JtT3JpZ2luXSA9ICcwIDAnO1xuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikgdGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25dID0gJ2N1YmljLWJlemllcigwLjMzLDAuNjYsMC42NiwxKSc7XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0pIHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoJyArIHRoYXQueCArICdweCwnICsgdGhhdC55ICsgJ3B4KScgKyB0cmFuc2xhdGVaO1xuXHRcdGVsc2UgdGhhdC5zY3JvbGxlci5zdHlsZS5jc3NUZXh0ICs9ICc7cG9zaXRpb246YWJzb2x1dGU7dG9wOicgKyB0aGF0LnkgKyAncHg7bGVmdDonICsgdGhhdC54ICsgJ3B4JztcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikgdGhhdC5vcHRpb25zLmZpeGVkU2Nyb2xsYmFyID0gdHJ1ZTtcblxuXHRcdHRoYXQucmVmcmVzaCgpO1xuXG5cdFx0dGhhdC5fYmluZChSRVNJWkVfRVYsIHdpbmRvdyk7XG5cdFx0dGhhdC5fYmluZChTVEFSVF9FVik7XG5cdFx0aWYgKCFoYXNUb3VjaCkge1xuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy53aGVlbEFjdGlvbiAhPSAnbm9uZScpIHtcblx0XHRcdFx0dGhhdC5fYmluZCgnRE9NTW91c2VTY3JvbGwnKTtcblx0XHRcdFx0dGhhdC5fYmluZCgnbW91c2V3aGVlbCcpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuY2hlY2tET01DaGFuZ2VzKSB0aGF0LmNoZWNrRE9NVGltZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoYXQuX2NoZWNrRE9NQ2hhbmdlcygpO1xuXHRcdH0sIDUwMCk7XG5cdH07XG5cbi8vIFByb3RvdHlwZVxuaVNjcm9sbC5wcm90b3R5cGUgPSB7XG5cdGVuYWJsZWQ6IHRydWUsXG5cdHg6IDAsXG5cdHk6IDAsXG5cdHN0ZXBzOiBbXSxcblx0c2NhbGU6IDEsXG5cdGN1cnJQYWdlWDogMCwgY3VyclBhZ2VZOiAwLFxuXHRwYWdlc1g6IFtdLCBwYWdlc1k6IFtdLFxuXHRhbmlUaW1lOiBudWxsLFxuXHR3aGVlbFpvb21Db3VudDogMCxcblx0XG5cdGhhbmRsZUV2ZW50OiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRzd2l0Y2goZS50eXBlKSB7XG5cdFx0XHRjYXNlIFNUQVJUX0VWOlxuXHRcdFx0XHRpZiAoIWhhc1RvdWNoICYmIGUuYnV0dG9uICE9PSAwKSByZXR1cm47XG5cdFx0XHRcdHRoYXQuX3N0YXJ0KGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgTU9WRV9FVjogdGhhdC5fbW92ZShlKTsgYnJlYWs7XG5cdFx0XHRjYXNlIEVORF9FVjpcblx0XHRcdGNhc2UgQ0FOQ0VMX0VWOiB0aGF0Ll9lbmQoZSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBSRVNJWkVfRVY6IHRoYXQuX3Jlc2l6ZSgpOyBicmVhaztcblx0XHRcdGNhc2UgJ0RPTU1vdXNlU2Nyb2xsJzogY2FzZSAnbW91c2V3aGVlbCc6IHRoYXQuX3doZWVsKGUpOyBicmVhaztcblx0XHRcdGNhc2UgVFJORU5EX0VWOiB0aGF0Ll90cmFuc2l0aW9uRW5kKGUpOyBicmVhaztcblx0XHR9XG5cdH0sXG5cdFxuXHRfY2hlY2tET01DaGFuZ2VzOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMubW92ZWQgfHwgdGhpcy56b29tZWQgfHwgdGhpcy5hbmltYXRpbmcgfHxcblx0XHRcdCh0aGlzLnNjcm9sbGVyVyA9PSB0aGlzLnNjcm9sbGVyLm9mZnNldFdpZHRoICogdGhpcy5zY2FsZSAmJiB0aGlzLnNjcm9sbGVySCA9PSB0aGlzLnNjcm9sbGVyLm9mZnNldEhlaWdodCAqIHRoaXMuc2NhbGUpKSByZXR1cm47XG5cblx0XHR0aGlzLnJlZnJlc2goKTtcblx0fSxcblx0XG5cdF9zY3JvbGxiYXI6IGZ1bmN0aW9uIChkaXIpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRiYXI7XG5cblx0XHRpZiAoIXRoYXRbZGlyICsgJ1Njcm9sbGJhciddKSB7XG5cdFx0XHRpZiAodGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddKSB7XG5cdFx0XHRcdGlmIChoYXNUcmFuc2Zvcm0pIHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvciddLnN0eWxlW3RyYW5zZm9ybV0gPSAnJztcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddKTtcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddID0gbnVsbDtcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yJ10gPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGF0W2RpciArICdTY3JvbGxiYXJXcmFwcGVyJ10pIHtcblx0XHRcdC8vIENyZWF0ZSB0aGUgc2Nyb2xsYmFyIHdyYXBwZXJcblx0XHRcdGJhciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5zY3JvbGxiYXJDbGFzcykgYmFyLmNsYXNzTmFtZSA9IHRoYXQub3B0aW9ucy5zY3JvbGxiYXJDbGFzcyArIGRpci50b1VwcGVyQ2FzZSgpO1xuXHRcdFx0ZWxzZSBiYXIuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDsnICsgKGRpciA9PSAnaCcgPyAnaGVpZ2h0OjdweDtib3R0b206MXB4O2xlZnQ6MnB4O3JpZ2h0OicgKyAodGhhdC52U2Nyb2xsYmFyID8gJzcnIDogJzInKSArICdweCcgOiAnd2lkdGg6N3B4O2JvdHRvbTonICsgKHRoYXQuaFNjcm9sbGJhciA/ICc3JyA6ICcyJykgKyAncHg7dG9wOjJweDtyaWdodDoxcHgnKTtcblxuXHRcdFx0YmFyLnN0eWxlLmNzc1RleHQgKz0gJztwb2ludGVyLWV2ZW50czpub25lOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi1wcm9wZXJ0eTpvcGFjaXR5OycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi1kdXJhdGlvbjonICsgKHRoYXQub3B0aW9ucy5mYWRlU2Nyb2xsYmFyID8gJzM1MG1zJyA6ICcwJykgKyAnO292ZXJmbG93OmhpZGRlbjtvcGFjaXR5OicgKyAodGhhdC5vcHRpb25zLmhpZGVTY3JvbGxiYXIgPyAnMCcgOiAnMScpO1xuXG5cdFx0XHR0aGF0LndyYXBwZXIuYXBwZW5kQ2hpbGQoYmFyKTtcblx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhcldyYXBwZXInXSA9IGJhcjtcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBzY3JvbGxiYXIgaW5kaWNhdG9yXG5cdFx0XHRiYXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRpZiAoIXRoYXQub3B0aW9ucy5zY3JvbGxiYXJDbGFzcykge1xuXHRcdFx0XHRiYXIuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC41KTtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC45KTsnICsgY3NzVmVuZG9yICsgJ2JhY2tncm91bmQtY2xpcDpwYWRkaW5nLWJveDsnICsgY3NzVmVuZG9yICsgJ2JveC1zaXppbmc6Ym9yZGVyLWJveDsnICsgKGRpciA9PSAnaCcgPyAnaGVpZ2h0OjEwMCUnIDogJ3dpZHRoOjEwMCUnKSArICc7JyArIGNzc1ZlbmRvciArICdib3JkZXItcmFkaXVzOjNweDtib3JkZXItcmFkaXVzOjNweCc7XG5cdFx0XHR9XG5cdFx0XHRiYXIuc3R5bGUuY3NzVGV4dCArPSAnO3BvaW50ZXItZXZlbnRzOm5vbmU7JyArIGNzc1ZlbmRvciArICd0cmFuc2l0aW9uLXByb3BlcnR5OicgKyBjc3NWZW5kb3IgKyAndHJhbnNmb3JtOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMzMsMC42NiwwLjY2LDEpOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi1kdXJhdGlvbjowOycgKyBjc3NWZW5kb3IgKyAndHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwwKScgKyB0cmFuc2xhdGVaO1xuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uKSBiYXIuc3R5bGUuY3NzVGV4dCArPSAnOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMzMsMC42NiwwLjY2LDEpJztcblxuXHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddLmFwcGVuZENoaWxkKGJhcik7XG5cdFx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3InXSA9IGJhcjtcblx0XHR9XG5cblx0XHRpZiAoZGlyID09ICdoJykge1xuXHRcdFx0dGhhdC5oU2Nyb2xsYmFyU2l6ZSA9IHRoYXQuaFNjcm9sbGJhcldyYXBwZXIuY2xpZW50V2lkdGg7XG5cdFx0XHR0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3JTaXplID0gbS5tYXgobS5yb3VuZCh0aGF0LmhTY3JvbGxiYXJTaXplICogdGhhdC5oU2Nyb2xsYmFyU2l6ZSAvIHRoYXQuc2Nyb2xsZXJXKSwgOCk7XG5cdFx0XHR0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3Iuc3R5bGUud2lkdGggPSB0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3JTaXplICsgJ3B4Jztcblx0XHRcdHRoYXQuaFNjcm9sbGJhck1heFNjcm9sbCA9IHRoYXQuaFNjcm9sbGJhclNpemUgLSB0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3JTaXplO1xuXHRcdFx0dGhhdC5oU2Nyb2xsYmFyUHJvcCA9IHRoYXQuaFNjcm9sbGJhck1heFNjcm9sbCAvIHRoYXQubWF4U2Nyb2xsWDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFyU2l6ZSA9IHRoYXQudlNjcm9sbGJhcldyYXBwZXIuY2xpZW50SGVpZ2h0O1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFySW5kaWNhdG9yU2l6ZSA9IG0ubWF4KG0ucm91bmQodGhhdC52U2Nyb2xsYmFyU2l6ZSAqIHRoYXQudlNjcm9sbGJhclNpemUgLyB0aGF0LnNjcm9sbGVySCksIDgpO1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFySW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9IHRoYXQudlNjcm9sbGJhckluZGljYXRvclNpemUgKyAncHgnO1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFyTWF4U2Nyb2xsID0gdGhhdC52U2Nyb2xsYmFyU2l6ZSAtIHRoYXQudlNjcm9sbGJhckluZGljYXRvclNpemU7XG5cdFx0XHR0aGF0LnZTY3JvbGxiYXJQcm9wID0gdGhhdC52U2Nyb2xsYmFyTWF4U2Nyb2xsIC8gdGhhdC5tYXhTY3JvbGxZO1xuXHRcdH1cblxuXHRcdC8vIFJlc2V0IHBvc2l0aW9uXG5cdFx0dGhhdC5fc2Nyb2xsYmFyUG9zKGRpciwgdHJ1ZSk7XG5cdH0sXG5cdFxuXHRfcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LnJlZnJlc2goKTsgfSwgaXNBbmRyb2lkID8gMjAwIDogMCk7XG5cdH0sXG5cdFxuXHRfcG9zOiBmdW5jdGlvbiAoeCwgeSkge1xuXHRcdGlmICh0aGlzLnpvb21lZCkgcmV0dXJuO1xuXG5cdFx0eCA9IHRoaXMuaFNjcm9sbCA/IHggOiAwO1xuXHRcdHkgPSB0aGlzLnZTY3JvbGwgPyB5IDogMDtcblxuXHRcdGlmICh0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtKSB7XG5cdFx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlW3RyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KSBzY2FsZSgnICsgdGhpcy5zY2FsZSArICcpJyArIHRyYW5zbGF0ZVo7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHggPSBtLnJvdW5kKHgpO1xuXHRcdFx0eSA9IG0ucm91bmQoeSk7XG5cdFx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlLmxlZnQgPSB4ICsgJ3B4Jztcblx0XHRcdHRoaXMuc2Nyb2xsZXIuc3R5bGUudG9wID0geSArICdweCc7XG5cdFx0fVxuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0dGhpcy5fc2Nyb2xsYmFyUG9zKCdoJyk7XG5cdFx0dGhpcy5fc2Nyb2xsYmFyUG9zKCd2Jyk7XG5cdH0sXG5cblx0X3Njcm9sbGJhclBvczogZnVuY3Rpb24gKGRpciwgaGlkZGVuKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cG9zID0gZGlyID09ICdoJyA/IHRoYXQueCA6IHRoYXQueSxcblx0XHRcdHNpemU7XG5cblx0XHRpZiAoIXRoYXRbZGlyICsgJ1Njcm9sbGJhciddKSByZXR1cm47XG5cblx0XHRwb3MgPSB0aGF0W2RpciArICdTY3JvbGxiYXJQcm9wJ10gKiBwb3M7XG5cblx0XHRpZiAocG9zIDwgMCkge1xuXHRcdFx0aWYgKCF0aGF0Lm9wdGlvbnMuZml4ZWRTY3JvbGxiYXIpIHtcblx0XHRcdFx0c2l6ZSA9IHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvclNpemUnXSArIG0ucm91bmQocG9zICogMyk7XG5cdFx0XHRcdGlmIChzaXplIDwgOCkgc2l6ZSA9IDg7XG5cdFx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvciddLnN0eWxlW2RpciA9PSAnaCcgPyAnd2lkdGgnIDogJ2hlaWdodCddID0gc2l6ZSArICdweCc7XG5cdFx0XHR9XG5cdFx0XHRwb3MgPSAwO1xuXHRcdH0gZWxzZSBpZiAocG9zID4gdGhhdFtkaXIgKyAnU2Nyb2xsYmFyTWF4U2Nyb2xsJ10pIHtcblx0XHRcdGlmICghdGhhdC5vcHRpb25zLmZpeGVkU2Nyb2xsYmFyKSB7XG5cdFx0XHRcdHNpemUgPSB0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3JTaXplJ10gLSBtLnJvdW5kKChwb3MgLSB0aGF0W2RpciArICdTY3JvbGxiYXJNYXhTY3JvbGwnXSkgKiAzKTtcblx0XHRcdFx0aWYgKHNpemUgPCA4KSBzaXplID0gODtcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yJ10uc3R5bGVbZGlyID09ICdoJyA/ICd3aWR0aCcgOiAnaGVpZ2h0J10gPSBzaXplICsgJ3B4Jztcblx0XHRcdFx0cG9zID0gdGhhdFtkaXIgKyAnU2Nyb2xsYmFyTWF4U2Nyb2xsJ10gKyAodGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yU2l6ZSddIC0gc2l6ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwb3MgPSB0aGF0W2RpciArICdTY3JvbGxiYXJNYXhTY3JvbGwnXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJXcmFwcGVyJ10uc3R5bGVbdHJhbnNpdGlvbkRlbGF5XSA9ICcwJztcblx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJXcmFwcGVyJ10uc3R5bGUub3BhY2l0eSA9IGhpZGRlbiAmJiB0aGF0Lm9wdGlvbnMuaGlkZVNjcm9sbGJhciA/ICcwJyA6ICcxJztcblx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3InXS5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgKGRpciA9PSAnaCcgPyBwb3MgKyAncHgsMCknIDogJzAsJyArIHBvcyArICdweCknKSArIHRyYW5zbGF0ZVo7XG5cdH0sXG5cdFxuXHRfc3RhcnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cG9pbnQgPSBoYXNUb3VjaCA/IGUudG91Y2hlc1swXSA6IGUsXG5cdFx0XHRtYXRyaXgsIHgsIHksXG5cdFx0XHRjMSwgYzI7XG5cblx0XHRpZiAoIXRoYXQuZW5hYmxlZCkgcmV0dXJuO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vbkJlZm9yZVNjcm9sbFN0YXJ0KSB0aGF0Lm9wdGlvbnMub25CZWZvcmVTY3JvbGxTdGFydC5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uIHx8IHRoYXQub3B0aW9ucy56b29tKSB0aGF0Ll90cmFuc2l0aW9uVGltZSgwKTtcblxuXHRcdHRoYXQubW92ZWQgPSBmYWxzZTtcblx0XHR0aGF0LmFuaW1hdGluZyA9IGZhbHNlO1xuXHRcdHRoYXQuem9vbWVkID0gZmFsc2U7XG5cdFx0dGhhdC5kaXN0WCA9IDA7XG5cdFx0dGhhdC5kaXN0WSA9IDA7XG5cdFx0dGhhdC5hYnNEaXN0WCA9IDA7XG5cdFx0dGhhdC5hYnNEaXN0WSA9IDA7XG5cdFx0dGhhdC5kaXJYID0gMDtcblx0XHR0aGF0LmRpclkgPSAwO1xuXG5cdFx0Ly8gR2VzdHVyZSBzdGFydFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuem9vbSAmJiBoYXNUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0YzEgPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVgtZS50b3VjaGVzWzFdLnBhZ2VYKTtcblx0XHRcdGMyID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VZLWUudG91Y2hlc1sxXS5wYWdlWSk7XG5cdFx0XHR0aGF0LnRvdWNoZXNEaXN0U3RhcnQgPSBtLnNxcnQoYzEgKiBjMSArIGMyICogYzIpO1xuXG5cdFx0XHR0aGF0Lm9yaWdpblggPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVggKyBlLnRvdWNoZXNbMV0ucGFnZVggLSB0aGF0LndyYXBwZXJPZmZzZXRMZWZ0ICogMikgLyAyIC0gdGhhdC54O1xuXHRcdFx0dGhhdC5vcmlnaW5ZID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VZICsgZS50b3VjaGVzWzFdLnBhZ2VZIC0gdGhhdC53cmFwcGVyT2Zmc2V0VG9wICogMikgLyAyIC0gdGhhdC55O1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0KSB0aGF0Lm9wdGlvbnMub25ab29tU3RhcnQuY2FsbCh0aGF0LCBlKTtcblx0XHR9XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLm1vbWVudHVtKSB7XG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuXHRcdFx0XHQvLyBWZXJ5IGxhbWUgZ2VuZXJhbCBwdXJwb3NlIGFsdGVybmF0aXZlIHRvIENTU01hdHJpeFxuXHRcdFx0XHRtYXRyaXggPSBnZXRDb21wdXRlZFN0eWxlKHRoYXQuc2Nyb2xsZXIsIG51bGwpW3RyYW5zZm9ybV0ucmVwbGFjZSgvW14wLTlcXC0uLF0vZywgJycpLnNwbGl0KCcsJyk7XG5cdFx0XHRcdHggPSArKG1hdHJpeFsxMl0gfHwgbWF0cml4WzRdKTtcblx0XHRcdFx0eSA9ICsobWF0cml4WzEzXSB8fCBtYXRyaXhbNV0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0eCA9ICtnZXRDb21wdXRlZFN0eWxlKHRoYXQuc2Nyb2xsZXIsIG51bGwpLmxlZnQucmVwbGFjZSgvW14wLTktXS9nLCAnJyk7XG5cdFx0XHRcdHkgPSArZ2V0Q29tcHV0ZWRTdHlsZSh0aGF0LnNjcm9sbGVyLCBudWxsKS50b3AucmVwbGFjZSgvW14wLTktXS9nLCAnJyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICh4ICE9IHRoYXQueCB8fCB5ICE9IHRoYXQueSkge1xuXHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLnVzZVRyYW5zaXRpb24pIHRoYXQuX3VuYmluZChUUk5FTkRfRVYpO1xuXHRcdFx0XHRlbHNlIGNhbmNlbEZyYW1lKHRoYXQuYW5pVGltZSk7XG5cdFx0XHRcdHRoYXQuc3RlcHMgPSBbXTtcblx0XHRcdFx0dGhhdC5fcG9zKHgsIHkpO1xuXHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uU2Nyb2xsRW5kKSB0aGF0Lm9wdGlvbnMub25TY3JvbGxFbmQuY2FsbCh0aGF0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGF0LmFic1N0YXJ0WCA9IHRoYXQueDtcdC8vIE5lZWRlZCBieSBzbmFwIHRocmVzaG9sZFxuXHRcdHRoYXQuYWJzU3RhcnRZID0gdGhhdC55O1xuXG5cdFx0dGhhdC5zdGFydFggPSB0aGF0Lng7XG5cdFx0dGhhdC5zdGFydFkgPSB0aGF0Lnk7XG5cdFx0dGhhdC5wb2ludFggPSBwb2ludC5wYWdlWDtcblx0XHR0aGF0LnBvaW50WSA9IHBvaW50LnBhZ2VZO1xuXG5cdFx0dGhhdC5zdGFydFRpbWUgPSBlLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbFN0YXJ0KSB0aGF0Lm9wdGlvbnMub25TY3JvbGxTdGFydC5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0dGhhdC5fYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX2JpbmQoRU5EX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX2JpbmQoQ0FOQ0VMX0VWLCB3aW5kb3cpO1xuXHR9LFxuXHRcblx0X21vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cG9pbnQgPSBoYXNUb3VjaCA/IGUudG91Y2hlc1swXSA6IGUsXG5cdFx0XHRkZWx0YVggPSBwb2ludC5wYWdlWCAtIHRoYXQucG9pbnRYLFxuXHRcdFx0ZGVsdGFZID0gcG9pbnQucGFnZVkgLSB0aGF0LnBvaW50WSxcblx0XHRcdG5ld1ggPSB0aGF0LnggKyBkZWx0YVgsXG5cdFx0XHRuZXdZID0gdGhhdC55ICsgZGVsdGFZLFxuXHRcdFx0YzEsIGMyLCBzY2FsZSxcblx0XHRcdHRpbWVzdGFtcCA9IGUudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLm9uQmVmb3JlU2Nyb2xsTW92ZSkgdGhhdC5vcHRpb25zLm9uQmVmb3JlU2Nyb2xsTW92ZS5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0Ly8gWm9vbVxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuem9vbSAmJiBoYXNUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0YzEgPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVggLSBlLnRvdWNoZXNbMV0ucGFnZVgpO1xuXHRcdFx0YzIgPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVkgLSBlLnRvdWNoZXNbMV0ucGFnZVkpO1xuXHRcdFx0dGhhdC50b3VjaGVzRGlzdCA9IG0uc3FydChjMSpjMStjMipjMik7XG5cblx0XHRcdHRoYXQuem9vbWVkID0gdHJ1ZTtcblxuXHRcdFx0c2NhbGUgPSAxIC8gdGhhdC50b3VjaGVzRGlzdFN0YXJ0ICogdGhhdC50b3VjaGVzRGlzdCAqIHRoaXMuc2NhbGU7XG5cblx0XHRcdGlmIChzY2FsZSA8IHRoYXQub3B0aW9ucy56b29tTWluKSBzY2FsZSA9IDAuNSAqIHRoYXQub3B0aW9ucy56b29tTWluICogTWF0aC5wb3coMi4wLCBzY2FsZSAvIHRoYXQub3B0aW9ucy56b29tTWluKTtcblx0XHRcdGVsc2UgaWYgKHNjYWxlID4gdGhhdC5vcHRpb25zLnpvb21NYXgpIHNjYWxlID0gMi4wICogdGhhdC5vcHRpb25zLnpvb21NYXggKiBNYXRoLnBvdygwLjUsIHRoYXQub3B0aW9ucy56b29tTWF4IC8gc2NhbGUpO1xuXG5cdFx0XHR0aGF0Lmxhc3RTY2FsZSA9IHNjYWxlIC8gdGhpcy5zY2FsZTtcblxuXHRcdFx0bmV3WCA9IHRoaXMub3JpZ2luWCAtIHRoaXMub3JpZ2luWCAqIHRoYXQubGFzdFNjYWxlICsgdGhpcy54O1xuXHRcdFx0bmV3WSA9IHRoaXMub3JpZ2luWSAtIHRoaXMub3JpZ2luWSAqIHRoYXQubGFzdFNjYWxlICsgdGhpcy55O1xuXG5cdFx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlW3RyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyBuZXdYICsgJ3B4LCcgKyBuZXdZICsgJ3B4KSBzY2FsZSgnICsgc2NhbGUgKyAnKScgKyB0cmFuc2xhdGVaO1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbSkgdGhhdC5vcHRpb25zLm9uWm9vbS5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoYXQucG9pbnRYID0gcG9pbnQucGFnZVg7XG5cdFx0dGhhdC5wb2ludFkgPSBwb2ludC5wYWdlWTtcblxuXHRcdC8vIFNsb3cgZG93biBpZiBvdXRzaWRlIG9mIHRoZSBib3VuZGFyaWVzXG5cdFx0aWYgKG5ld1ggPiAwIHx8IG5ld1ggPCB0aGF0Lm1heFNjcm9sbFgpIHtcblx0XHRcdG5ld1ggPSB0aGF0Lm9wdGlvbnMuYm91bmNlID8gdGhhdC54ICsgKGRlbHRhWCAvIDIpIDogbmV3WCA+PSAwIHx8IHRoYXQubWF4U2Nyb2xsWCA+PSAwID8gMCA6IHRoYXQubWF4U2Nyb2xsWDtcblx0XHR9XG5cdFx0aWYgKG5ld1kgPiB0aGF0Lm1pblNjcm9sbFkgfHwgbmV3WSA8IHRoYXQubWF4U2Nyb2xsWSkge1xuXHRcdFx0bmV3WSA9IHRoYXQub3B0aW9ucy5ib3VuY2UgPyB0aGF0LnkgKyAoZGVsdGFZIC8gMikgOiBuZXdZID49IHRoYXQubWluU2Nyb2xsWSB8fCB0aGF0Lm1heFNjcm9sbFkgPj0gMCA/IHRoYXQubWluU2Nyb2xsWSA6IHRoYXQubWF4U2Nyb2xsWTtcblx0XHR9XG5cblx0XHR0aGF0LmRpc3RYICs9IGRlbHRhWDtcblx0XHR0aGF0LmRpc3RZICs9IGRlbHRhWTtcblx0XHR0aGF0LmFic0Rpc3RYID0gbS5hYnModGhhdC5kaXN0WCk7XG5cdFx0dGhhdC5hYnNEaXN0WSA9IG0uYWJzKHRoYXQuZGlzdFkpO1xuXG5cdFx0aWYgKHRoYXQuYWJzRGlzdFggPCA2ICYmIHRoYXQuYWJzRGlzdFkgPCA2KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTG9jayBkaXJlY3Rpb25cblx0XHRpZiAodGhhdC5vcHRpb25zLmxvY2tEaXJlY3Rpb24pIHtcblx0XHRcdGlmICh0aGF0LmFic0Rpc3RYID4gdGhhdC5hYnNEaXN0WSArIDUpIHtcblx0XHRcdFx0bmV3WSA9IHRoYXQueTtcblx0XHRcdFx0ZGVsdGFZID0gMDtcblx0XHRcdH0gZWxzZSBpZiAodGhhdC5hYnNEaXN0WSA+IHRoYXQuYWJzRGlzdFggKyA1KSB7XG5cdFx0XHRcdG5ld1ggPSB0aGF0Lng7XG5cdFx0XHRcdGRlbHRhWCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhhdC5tb3ZlZCA9IHRydWU7XG5cdFx0dGhhdC5fcG9zKG5ld1gsIG5ld1kpO1xuXHRcdHRoYXQuZGlyWCA9IGRlbHRhWCA+IDAgPyAtMSA6IGRlbHRhWCA8IDAgPyAxIDogMDtcblx0XHR0aGF0LmRpclkgPSBkZWx0YVkgPiAwID8gLTEgOiBkZWx0YVkgPCAwID8gMSA6IDA7XG5cblx0XHRpZiAodGltZXN0YW1wIC0gdGhhdC5zdGFydFRpbWUgPiAzMDApIHtcblx0XHRcdHRoYXQuc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuXHRcdFx0dGhhdC5zdGFydFggPSB0aGF0Lng7XG5cdFx0XHR0aGF0LnN0YXJ0WSA9IHRoYXQueTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbE1vdmUpIHRoYXQub3B0aW9ucy5vblNjcm9sbE1vdmUuY2FsbCh0aGF0LCBlKTtcblx0fSxcblx0XG5cdF9lbmQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKGhhc1RvdWNoICYmIGUudG91Y2hlcy5sZW5ndGggIT09IDApIHJldHVybjtcblxuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHBvaW50ID0gaGFzVG91Y2ggPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogZSxcblx0XHRcdHRhcmdldCwgZXYsXG5cdFx0XHRtb21lbnR1bVggPSB7IGRpc3Q6MCwgdGltZTowIH0sXG5cdFx0XHRtb21lbnR1bVkgPSB7IGRpc3Q6MCwgdGltZTowIH0sXG5cdFx0XHRkdXJhdGlvbiA9IChlLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpKSAtIHRoYXQuc3RhcnRUaW1lLFxuXHRcdFx0bmV3UG9zWCA9IHRoYXQueCxcblx0XHRcdG5ld1Bvc1kgPSB0aGF0LnksXG5cdFx0XHRkaXN0WCwgZGlzdFksXG5cdFx0XHRuZXdEdXJhdGlvbixcblx0XHRcdHNuYXAsXG5cdFx0XHRzY2FsZTtcblxuXHRcdHRoYXQuX3VuYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX3VuYmluZChFTkRfRVYsIHdpbmRvdyk7XG5cdFx0dGhhdC5fdW5iaW5kKENBTkNFTF9FViwgd2luZG93KTtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25CZWZvcmVTY3JvbGxFbmQpIHRoYXQub3B0aW9ucy5vbkJlZm9yZVNjcm9sbEVuZC5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0aWYgKHRoYXQuem9vbWVkKSB7XG5cdFx0XHRzY2FsZSA9IHRoYXQuc2NhbGUgKiB0aGF0Lmxhc3RTY2FsZTtcblx0XHRcdHNjYWxlID0gTWF0aC5tYXgodGhhdC5vcHRpb25zLnpvb21NaW4sIHNjYWxlKTtcblx0XHRcdHNjYWxlID0gTWF0aC5taW4odGhhdC5vcHRpb25zLnpvb21NYXgsIHNjYWxlKTtcblx0XHRcdHRoYXQubGFzdFNjYWxlID0gc2NhbGUgLyB0aGF0LnNjYWxlO1xuXHRcdFx0dGhhdC5zY2FsZSA9IHNjYWxlO1xuXG5cdFx0XHR0aGF0LnggPSB0aGF0Lm9yaWdpblggLSB0aGF0Lm9yaWdpblggKiB0aGF0Lmxhc3RTY2FsZSArIHRoYXQueDtcblx0XHRcdHRoYXQueSA9IHRoYXQub3JpZ2luWSAtIHRoYXQub3JpZ2luWSAqIHRoYXQubGFzdFNjYWxlICsgdGhhdC55O1xuXHRcdFx0XG5cdFx0XHR0aGF0LnNjcm9sbGVyLnN0eWxlW3RyYW5zaXRpb25EdXJhdGlvbl0gPSAnMjAwbXMnO1xuXHRcdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgdGhhdC54ICsgJ3B4LCcgKyB0aGF0LnkgKyAncHgpIHNjYWxlKCcgKyB0aGF0LnNjYWxlICsgJyknICsgdHJhbnNsYXRlWjtcblx0XHRcdFxuXHRcdFx0dGhhdC56b29tZWQgPSBmYWxzZTtcblx0XHRcdHRoYXQucmVmcmVzaCgpO1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbUVuZCkgdGhhdC5vcHRpb25zLm9uWm9vbUVuZC5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghdGhhdC5tb3ZlZCkge1xuXHRcdFx0aWYgKGhhc1RvdWNoKSB7XG5cdFx0XHRcdGlmICh0aGF0LmRvdWJsZVRhcFRpbWVyICYmIHRoYXQub3B0aW9ucy56b29tKSB7XG5cdFx0XHRcdFx0Ly8gRG91YmxlIHRhcHBlZFxuXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aGF0LmRvdWJsZVRhcFRpbWVyKTtcblx0XHRcdFx0XHR0aGF0LmRvdWJsZVRhcFRpbWVyID0gbnVsbDtcblx0XHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0KSB0aGF0Lm9wdGlvbnMub25ab29tU3RhcnQuY2FsbCh0aGF0LCBlKTtcblx0XHRcdFx0XHR0aGF0Lnpvb20odGhhdC5wb2ludFgsIHRoYXQucG9pbnRZLCB0aGF0LnNjYWxlID09IDEgPyB0aGF0Lm9wdGlvbnMuZG91YmxlVGFwWm9vbSA6IDEpO1xuXHRcdFx0XHRcdGlmICh0aGF0Lm9wdGlvbnMub25ab29tRW5kKSB7XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR0aGF0Lm9wdGlvbnMub25ab29tRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRcdFx0XHR9LCAyMDApOyAvLyAyMDAgaXMgZGVmYXVsdCB6b29tIGR1cmF0aW9uXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5oYW5kbGVDbGljaykge1xuXHRcdFx0XHRcdHRoYXQuZG91YmxlVGFwVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHRoYXQuZG91YmxlVGFwVGltZXIgPSBudWxsO1xuXG5cdFx0XHRcdFx0XHQvLyBGaW5kIHRoZSBsYXN0IHRvdWNoZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0dGFyZ2V0ID0gcG9pbnQudGFyZ2V0O1xuXHRcdFx0XHRcdFx0d2hpbGUgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcblxuXHRcdFx0XHRcdFx0aWYgKHRhcmdldC50YWdOYW1lICE9ICdTRUxFQ1QnICYmIHRhcmdldC50YWdOYW1lICE9ICdJTlBVVCcgJiYgdGFyZ2V0LnRhZ05hbWUgIT0gJ1RFWFRBUkVBJykge1xuXHRcdFx0XHRcdFx0XHRldiA9IGRvYy5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcblx0XHRcdFx0XHRcdFx0ZXYuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSwgZS52aWV3LCAxLFxuXHRcdFx0XHRcdFx0XHRcdHBvaW50LnNjcmVlblgsIHBvaW50LnNjcmVlblksIHBvaW50LmNsaWVudFgsIHBvaW50LmNsaWVudFksXG5cdFx0XHRcdFx0XHRcdFx0ZS5jdHJsS2V5LCBlLmFsdEtleSwgZS5zaGlmdEtleSwgZS5tZXRhS2V5LFxuXHRcdFx0XHRcdFx0XHRcdDAsIG51bGwpO1xuXHRcdFx0XHRcdFx0XHRldi5fZmFrZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCB0aGF0Lm9wdGlvbnMuem9vbSA/IDI1MCA6IDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoYXQuX3Jlc2V0UG9zKDQwMCk7XG5cblx0XHRcdGlmICh0aGF0Lm9wdGlvbnMub25Ub3VjaEVuZCkgdGhhdC5vcHRpb25zLm9uVG91Y2hFbmQuY2FsbCh0aGF0LCBlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoZHVyYXRpb24gPCAzMDAgJiYgdGhhdC5vcHRpb25zLm1vbWVudHVtKSB7XG5cdFx0XHRtb21lbnR1bVggPSBuZXdQb3NYID8gdGhhdC5fbW9tZW50dW0obmV3UG9zWCAtIHRoYXQuc3RhcnRYLCBkdXJhdGlvbiwgLXRoYXQueCwgdGhhdC5zY3JvbGxlclcgLSB0aGF0LndyYXBwZXJXICsgdGhhdC54LCB0aGF0Lm9wdGlvbnMuYm91bmNlID8gdGhhdC53cmFwcGVyVyA6IDApIDogbW9tZW50dW1YO1xuXHRcdFx0bW9tZW50dW1ZID0gbmV3UG9zWSA/IHRoYXQuX21vbWVudHVtKG5ld1Bvc1kgLSB0aGF0LnN0YXJ0WSwgZHVyYXRpb24sIC10aGF0LnksICh0aGF0Lm1heFNjcm9sbFkgPCAwID8gdGhhdC5zY3JvbGxlckggLSB0aGF0LndyYXBwZXJIICsgdGhhdC55IC0gdGhhdC5taW5TY3JvbGxZIDogMCksIHRoYXQub3B0aW9ucy5ib3VuY2UgPyB0aGF0LndyYXBwZXJIIDogMCkgOiBtb21lbnR1bVk7XG5cblx0XHRcdG5ld1Bvc1ggPSB0aGF0LnggKyBtb21lbnR1bVguZGlzdDtcblx0XHRcdG5ld1Bvc1kgPSB0aGF0LnkgKyBtb21lbnR1bVkuZGlzdDtcblxuXHRcdFx0aWYgKCh0aGF0LnggPiAwICYmIG5ld1Bvc1ggPiAwKSB8fCAodGhhdC54IDwgdGhhdC5tYXhTY3JvbGxYICYmIG5ld1Bvc1ggPCB0aGF0Lm1heFNjcm9sbFgpKSBtb21lbnR1bVggPSB7IGRpc3Q6MCwgdGltZTowIH07XG5cdFx0XHRpZiAoKHRoYXQueSA+IHRoYXQubWluU2Nyb2xsWSAmJiBuZXdQb3NZID4gdGhhdC5taW5TY3JvbGxZKSB8fCAodGhhdC55IDwgdGhhdC5tYXhTY3JvbGxZICYmIG5ld1Bvc1kgPCB0aGF0Lm1heFNjcm9sbFkpKSBtb21lbnR1bVkgPSB7IGRpc3Q6MCwgdGltZTowIH07XG5cdFx0fVxuXG5cdFx0aWYgKG1vbWVudHVtWC5kaXN0IHx8IG1vbWVudHVtWS5kaXN0KSB7XG5cdFx0XHRuZXdEdXJhdGlvbiA9IG0ubWF4KG0ubWF4KG1vbWVudHVtWC50aW1lLCBtb21lbnR1bVkudGltZSksIDEwKTtcblxuXHRcdFx0Ly8gRG8gd2UgbmVlZCB0byBzbmFwP1xuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5zbmFwKSB7XG5cdFx0XHRcdGRpc3RYID0gbmV3UG9zWCAtIHRoYXQuYWJzU3RhcnRYO1xuXHRcdFx0XHRkaXN0WSA9IG5ld1Bvc1kgLSB0aGF0LmFic1N0YXJ0WTtcblx0XHRcdFx0aWYgKG0uYWJzKGRpc3RYKSA8IHRoYXQub3B0aW9ucy5zbmFwVGhyZXNob2xkICYmIG0uYWJzKGRpc3RZKSA8IHRoYXQub3B0aW9ucy5zbmFwVGhyZXNob2xkKSB7IHRoYXQuc2Nyb2xsVG8odGhhdC5hYnNTdGFydFgsIHRoYXQuYWJzU3RhcnRZLCAyMDApOyB9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHNuYXAgPSB0aGF0Ll9zbmFwKG5ld1Bvc1gsIG5ld1Bvc1kpO1xuXHRcdFx0XHRcdG5ld1Bvc1ggPSBzbmFwLng7XG5cdFx0XHRcdFx0bmV3UG9zWSA9IHNuYXAueTtcblx0XHRcdFx0XHRuZXdEdXJhdGlvbiA9IG0ubWF4KHNuYXAudGltZSwgbmV3RHVyYXRpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoYXQuc2Nyb2xsVG8obS5yb3VuZChuZXdQb3NYKSwgbS5yb3VuZChuZXdQb3NZKSwgbmV3RHVyYXRpb24pO1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uVG91Y2hFbmQpIHRoYXQub3B0aW9ucy5vblRvdWNoRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRG8gd2UgbmVlZCB0byBzbmFwP1xuXHRcdGlmICh0aGF0Lm9wdGlvbnMuc25hcCkge1xuXHRcdFx0ZGlzdFggPSBuZXdQb3NYIC0gdGhhdC5hYnNTdGFydFg7XG5cdFx0XHRkaXN0WSA9IG5ld1Bvc1kgLSB0aGF0LmFic1N0YXJ0WTtcblx0XHRcdGlmIChtLmFicyhkaXN0WCkgPCB0aGF0Lm9wdGlvbnMuc25hcFRocmVzaG9sZCAmJiBtLmFicyhkaXN0WSkgPCB0aGF0Lm9wdGlvbnMuc25hcFRocmVzaG9sZCkgdGhhdC5zY3JvbGxUbyh0aGF0LmFic1N0YXJ0WCwgdGhhdC5hYnNTdGFydFksIDIwMCk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0c25hcCA9IHRoYXQuX3NuYXAodGhhdC54LCB0aGF0LnkpO1xuXHRcdFx0XHRpZiAoc25hcC54ICE9IHRoYXQueCB8fCBzbmFwLnkgIT0gdGhhdC55KSB0aGF0LnNjcm9sbFRvKHNuYXAueCwgc25hcC55LCBzbmFwLnRpbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uVG91Y2hFbmQpIHRoYXQub3B0aW9ucy5vblRvdWNoRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhhdC5fcmVzZXRQb3MoMjAwKTtcblx0XHRpZiAodGhhdC5vcHRpb25zLm9uVG91Y2hFbmQpIHRoYXQub3B0aW9ucy5vblRvdWNoRW5kLmNhbGwodGhhdCwgZSk7XG5cdH0sXG5cdFxuXHRfcmVzZXRQb3M6IGZ1bmN0aW9uICh0aW1lKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cmVzZXRYID0gdGhhdC54ID49IDAgPyAwIDogdGhhdC54IDwgdGhhdC5tYXhTY3JvbGxYID8gdGhhdC5tYXhTY3JvbGxYIDogdGhhdC54LFxuXHRcdFx0cmVzZXRZID0gdGhhdC55ID49IHRoYXQubWluU2Nyb2xsWSB8fCB0aGF0Lm1heFNjcm9sbFkgPiAwID8gdGhhdC5taW5TY3JvbGxZIDogdGhhdC55IDwgdGhhdC5tYXhTY3JvbGxZID8gdGhhdC5tYXhTY3JvbGxZIDogdGhhdC55O1xuXG5cdFx0aWYgKHJlc2V0WCA9PSB0aGF0LnggJiYgcmVzZXRZID09IHRoYXQueSkge1xuXHRcdFx0aWYgKHRoYXQubW92ZWQpIHtcblx0XHRcdFx0dGhhdC5tb3ZlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uU2Nyb2xsRW5kKSB0aGF0Lm9wdGlvbnMub25TY3JvbGxFbmQuY2FsbCh0aGF0KTtcdFx0Ly8gRXhlY3V0ZSBjdXN0b20gY29kZSBvbiBzY3JvbGwgZW5kXG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGF0LmhTY3JvbGxiYXIgJiYgdGhhdC5vcHRpb25zLmhpZGVTY3JvbGxiYXIpIHtcblx0XHRcdFx0aWYgKHZlbmRvciA9PSAnd2Via2l0JykgdGhhdC5oU2Nyb2xsYmFyV3JhcHBlci5zdHlsZVt0cmFuc2l0aW9uRGVsYXldID0gJzMwMG1zJztcblx0XHRcdFx0dGhhdC5oU2Nyb2xsYmFyV3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoYXQudlNjcm9sbGJhciAmJiB0aGF0Lm9wdGlvbnMuaGlkZVNjcm9sbGJhcikge1xuXHRcdFx0XHRpZiAodmVuZG9yID09ICd3ZWJraXQnKSB0aGF0LnZTY3JvbGxiYXJXcmFwcGVyLnN0eWxlW3RyYW5zaXRpb25EZWxheV0gPSAnMzAwbXMnO1xuXHRcdFx0XHR0aGF0LnZTY3JvbGxiYXJXcmFwcGVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGF0LnNjcm9sbFRvKHJlc2V0WCwgcmVzZXRZLCB0aW1lIHx8IDApO1xuXHR9LFxuXG5cdF93aGVlbDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHR3aGVlbERlbHRhWCwgd2hlZWxEZWx0YVksXG5cdFx0XHRkZWx0YVgsIGRlbHRhWSxcblx0XHRcdGRlbHRhU2NhbGU7XG5cblx0XHRpZiAoJ3doZWVsRGVsdGFYJyBpbiBlKSB7XG5cdFx0XHR3aGVlbERlbHRhWCA9IGUud2hlZWxEZWx0YVggLyAxMjtcblx0XHRcdHdoZWVsRGVsdGFZID0gZS53aGVlbERlbHRhWSAvIDEyO1xuXHRcdH0gZWxzZSBpZignd2hlZWxEZWx0YScgaW4gZSkge1xuXHRcdFx0d2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWSA9IGUud2hlZWxEZWx0YSAvIDEyO1xuXHRcdH0gZWxzZSBpZiAoJ2RldGFpbCcgaW4gZSkge1xuXHRcdFx0d2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWSA9IC1lLmRldGFpbCAqIDM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy53aGVlbEFjdGlvbiA9PSAnem9vbScpIHtcblx0XHRcdGRlbHRhU2NhbGUgPSB0aGF0LnNjYWxlICogTWF0aC5wb3coMiwgMS8zICogKHdoZWVsRGVsdGFZID8gd2hlZWxEZWx0YVkgLyBNYXRoLmFicyh3aGVlbERlbHRhWSkgOiAwKSk7XG5cdFx0XHRpZiAoZGVsdGFTY2FsZSA8IHRoYXQub3B0aW9ucy56b29tTWluKSBkZWx0YVNjYWxlID0gdGhhdC5vcHRpb25zLnpvb21NaW47XG5cdFx0XHRpZiAoZGVsdGFTY2FsZSA+IHRoYXQub3B0aW9ucy56b29tTWF4KSBkZWx0YVNjYWxlID0gdGhhdC5vcHRpb25zLnpvb21NYXg7XG5cdFx0XHRcblx0XHRcdGlmIChkZWx0YVNjYWxlICE9IHRoYXQuc2NhbGUpIHtcblx0XHRcdFx0aWYgKCF0aGF0LndoZWVsWm9vbUNvdW50ICYmIHRoYXQub3B0aW9ucy5vblpvb21TdGFydCkgdGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0LmNhbGwodGhhdCwgZSk7XG5cdFx0XHRcdHRoYXQud2hlZWxab29tQ291bnQrKztcblx0XHRcdFx0XG5cdFx0XHRcdHRoYXQuem9vbShlLnBhZ2VYLCBlLnBhZ2VZLCBkZWx0YVNjYWxlLCA0MDApO1xuXHRcdFx0XHRcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0aGF0LndoZWVsWm9vbUNvdW50LS07XG5cdFx0XHRcdFx0aWYgKCF0aGF0LndoZWVsWm9vbUNvdW50ICYmIHRoYXQub3B0aW9ucy5vblpvb21FbmQpIHRoYXQub3B0aW9ucy5vblpvb21FbmQuY2FsbCh0aGF0LCBlKTtcblx0XHRcdFx0fSwgNDAwKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRkZWx0YVggPSB0aGF0LnggKyB3aGVlbERlbHRhWDtcblx0XHRkZWx0YVkgPSB0aGF0LnkgKyB3aGVlbERlbHRhWTtcblxuXHRcdGlmIChkZWx0YVggPiAwKSBkZWx0YVggPSAwO1xuXHRcdGVsc2UgaWYgKGRlbHRhWCA8IHRoYXQubWF4U2Nyb2xsWCkgZGVsdGFYID0gdGhhdC5tYXhTY3JvbGxYO1xuXG5cdFx0aWYgKGRlbHRhWSA+IHRoYXQubWluU2Nyb2xsWSkgZGVsdGFZID0gdGhhdC5taW5TY3JvbGxZO1xuXHRcdGVsc2UgaWYgKGRlbHRhWSA8IHRoYXQubWF4U2Nyb2xsWSkgZGVsdGFZID0gdGhhdC5tYXhTY3JvbGxZO1xuICAgIFxuXHRcdGlmICh0aGF0Lm1heFNjcm9sbFkgPCAwKSB7XG5cdFx0XHR0aGF0LnNjcm9sbFRvKGRlbHRhWCwgZGVsdGFZLCAwKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRfdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRpZiAoZS50YXJnZXQgIT0gdGhhdC5zY3JvbGxlcikgcmV0dXJuO1xuXG5cdFx0dGhhdC5fdW5iaW5kKFRSTkVORF9FVik7XG5cdFx0XG5cdFx0dGhhdC5fc3RhcnRBbmkoKTtcblx0fSxcblxuXG5cdC8qKlxuXHQqXG5cdCogVXRpbGl0aWVzXG5cdCpcblx0Ki9cblx0X3N0YXJ0QW5pOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0c3RhcnRYID0gdGhhdC54LCBzdGFydFkgPSB0aGF0LnksXG5cdFx0XHRzdGFydFRpbWUgPSBEYXRlLm5vdygpLFxuXHRcdFx0c3RlcCwgZWFzZU91dCxcblx0XHRcdGFuaW1hdGU7XG5cblx0XHRpZiAodGhhdC5hbmltYXRpbmcpIHJldHVybjtcblx0XHRcblx0XHRpZiAoIXRoYXQuc3RlcHMubGVuZ3RoKSB7XG5cdFx0XHR0aGF0Ll9yZXNldFBvcyg0MDApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRzdGVwID0gdGhhdC5zdGVwcy5zaGlmdCgpO1xuXHRcdFxuXHRcdGlmIChzdGVwLnggPT0gc3RhcnRYICYmIHN0ZXAueSA9PSBzdGFydFkpIHN0ZXAudGltZSA9IDA7XG5cblx0XHR0aGF0LmFuaW1hdGluZyA9IHRydWU7XG5cdFx0dGhhdC5tb3ZlZCA9IHRydWU7XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uKSB7XG5cdFx0XHR0aGF0Ll90cmFuc2l0aW9uVGltZShzdGVwLnRpbWUpO1xuXHRcdFx0dGhhdC5fcG9zKHN0ZXAueCwgc3RlcC55KTtcblx0XHRcdHRoYXQuYW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0XHRpZiAoc3RlcC50aW1lKSB0aGF0Ll9iaW5kKFRSTkVORF9FVik7XG5cdFx0XHRlbHNlIHRoYXQuX3Jlc2V0UG9zKDApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgbm93ID0gRGF0ZS5ub3coKSxcblx0XHRcdFx0bmV3WCwgbmV3WTtcblxuXHRcdFx0aWYgKG5vdyA+PSBzdGFydFRpbWUgKyBzdGVwLnRpbWUpIHtcblx0XHRcdFx0dGhhdC5fcG9zKHN0ZXAueCwgc3RlcC55KTtcblx0XHRcdFx0dGhhdC5hbmltYXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCkgdGhhdC5vcHRpb25zLm9uQW5pbWF0aW9uRW5kLmNhbGwodGhhdCk7XHRcdFx0Ly8gRXhlY3V0ZSBjdXN0b20gY29kZSBvbiBhbmltYXRpb24gZW5kXG5cdFx0XHRcdHRoYXQuX3N0YXJ0QW5pKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bm93ID0gKG5vdyAtIHN0YXJ0VGltZSkgLyBzdGVwLnRpbWUgLSAxO1xuXHRcdFx0ZWFzZU91dCA9IG0uc3FydCgxIC0gbm93ICogbm93KTtcblx0XHRcdG5ld1ggPSAoc3RlcC54IC0gc3RhcnRYKSAqIGVhc2VPdXQgKyBzdGFydFg7XG5cdFx0XHRuZXdZID0gKHN0ZXAueSAtIHN0YXJ0WSkgKiBlYXNlT3V0ICsgc3RhcnRZO1xuXHRcdFx0dGhhdC5fcG9zKG5ld1gsIG5ld1kpO1xuXHRcdFx0aWYgKHRoYXQuYW5pbWF0aW5nKSB0aGF0LmFuaVRpbWUgPSBuZXh0RnJhbWUoYW5pbWF0ZSk7XG5cdFx0fTtcblxuXHRcdGFuaW1hdGUoKTtcblx0fSxcblxuXHRfdHJhbnNpdGlvblRpbWU6IGZ1bmN0aW9uICh0aW1lKSB7XG5cdFx0dGltZSArPSAnbXMnO1xuXHRcdHRoaXMuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWU7XG5cdFx0aWYgKHRoaXMuaFNjcm9sbGJhcikgdGhpcy5oU2Nyb2xsYmFySW5kaWNhdG9yLnN0eWxlW3RyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lO1xuXHRcdGlmICh0aGlzLnZTY3JvbGxiYXIpIHRoaXMudlNjcm9sbGJhckluZGljYXRvci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gdGltZTtcblx0fSxcblxuXHRfbW9tZW50dW06IGZ1bmN0aW9uIChkaXN0LCB0aW1lLCBtYXhEaXN0VXBwZXIsIG1heERpc3RMb3dlciwgc2l6ZSkge1xuXHRcdHZhciBkZWNlbGVyYXRpb24gPSAwLjAwMDYsXG5cdFx0XHRzcGVlZCA9IG0uYWJzKGRpc3QpIC8gdGltZSxcblx0XHRcdG5ld0Rpc3QgPSAoc3BlZWQgKiBzcGVlZCkgLyAoMiAqIGRlY2VsZXJhdGlvbiksXG5cdFx0XHRuZXdUaW1lID0gMCwgb3V0c2lkZURpc3QgPSAwO1xuXG5cdFx0Ly8gUHJvcG9ydGluYWxseSByZWR1Y2Ugc3BlZWQgaWYgd2UgYXJlIG91dHNpZGUgb2YgdGhlIGJvdW5kYXJpZXNcblx0XHRpZiAoZGlzdCA+IDAgJiYgbmV3RGlzdCA+IG1heERpc3RVcHBlcikge1xuXHRcdFx0b3V0c2lkZURpc3QgPSBzaXplIC8gKDYgLyAobmV3RGlzdCAvIHNwZWVkICogZGVjZWxlcmF0aW9uKSk7XG5cdFx0XHRtYXhEaXN0VXBwZXIgPSBtYXhEaXN0VXBwZXIgKyBvdXRzaWRlRGlzdDtcblx0XHRcdHNwZWVkID0gc3BlZWQgKiBtYXhEaXN0VXBwZXIgLyBuZXdEaXN0O1xuXHRcdFx0bmV3RGlzdCA9IG1heERpc3RVcHBlcjtcblx0XHR9IGVsc2UgaWYgKGRpc3QgPCAwICYmIG5ld0Rpc3QgPiBtYXhEaXN0TG93ZXIpIHtcblx0XHRcdG91dHNpZGVEaXN0ID0gc2l6ZSAvICg2IC8gKG5ld0Rpc3QgLyBzcGVlZCAqIGRlY2VsZXJhdGlvbikpO1xuXHRcdFx0bWF4RGlzdExvd2VyID0gbWF4RGlzdExvd2VyICsgb3V0c2lkZURpc3Q7XG5cdFx0XHRzcGVlZCA9IHNwZWVkICogbWF4RGlzdExvd2VyIC8gbmV3RGlzdDtcblx0XHRcdG5ld0Rpc3QgPSBtYXhEaXN0TG93ZXI7XG5cdFx0fVxuXG5cdFx0bmV3RGlzdCA9IG5ld0Rpc3QgKiAoZGlzdCA8IDAgPyAtMSA6IDEpO1xuXHRcdG5ld1RpbWUgPSBzcGVlZCAvIGRlY2VsZXJhdGlvbjtcblxuXHRcdHJldHVybiB7IGRpc3Q6IG5ld0Rpc3QsIHRpbWU6IG0ucm91bmQobmV3VGltZSkgfTtcblx0fSxcblxuXHRfb2Zmc2V0OiBmdW5jdGlvbiAoZWwpIHtcblx0XHR2YXIgbGVmdCA9IC1lbC5vZmZzZXRMZWZ0LFxuXHRcdFx0dG9wID0gLWVsLm9mZnNldFRvcDtcblx0XHRcdFxuXHRcdHdoaWxlIChlbCA9IGVsLm9mZnNldFBhcmVudCkge1xuXHRcdFx0bGVmdCAtPSBlbC5vZmZzZXRMZWZ0O1xuXHRcdFx0dG9wIC09IGVsLm9mZnNldFRvcDtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGVsICE9IHRoaXMud3JhcHBlcikge1xuXHRcdFx0bGVmdCAqPSB0aGlzLnNjYWxlO1xuXHRcdFx0dG9wICo9IHRoaXMuc2NhbGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfTtcblx0fSxcblxuXHRfc25hcDogZnVuY3Rpb24gKHgsIHkpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRpLCBsLFxuXHRcdFx0cGFnZSwgdGltZSxcblx0XHRcdHNpemVYLCBzaXplWTtcblxuXHRcdC8vIENoZWNrIHBhZ2UgWFxuXHRcdHBhZ2UgPSB0aGF0LnBhZ2VzWC5sZW5ndGggLSAxO1xuXHRcdGZvciAoaT0wLCBsPXRoYXQucGFnZXNYLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdGlmICh4ID49IHRoYXQucGFnZXNYW2ldKSB7XG5cdFx0XHRcdHBhZ2UgPSBpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHBhZ2UgPT0gdGhhdC5jdXJyUGFnZVggJiYgcGFnZSA+IDAgJiYgdGhhdC5kaXJYIDwgMCkgcGFnZS0tO1xuXHRcdHggPSB0aGF0LnBhZ2VzWFtwYWdlXTtcblx0XHRzaXplWCA9IG0uYWJzKHggLSB0aGF0LnBhZ2VzWFt0aGF0LmN1cnJQYWdlWF0pO1xuXHRcdHNpemVYID0gc2l6ZVggPyBtLmFicyh0aGF0LnggLSB4KSAvIHNpemVYICogNTAwIDogMDtcblx0XHR0aGF0LmN1cnJQYWdlWCA9IHBhZ2U7XG5cblx0XHQvLyBDaGVjayBwYWdlIFlcblx0XHRwYWdlID0gdGhhdC5wYWdlc1kubGVuZ3RoLTE7XG5cdFx0Zm9yIChpPTA7IGk8cGFnZTsgaSsrKSB7XG5cdFx0XHRpZiAoeSA+PSB0aGF0LnBhZ2VzWVtpXSkge1xuXHRcdFx0XHRwYWdlID0gaTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChwYWdlID09IHRoYXQuY3VyclBhZ2VZICYmIHBhZ2UgPiAwICYmIHRoYXQuZGlyWSA8IDApIHBhZ2UtLTtcblx0XHR5ID0gdGhhdC5wYWdlc1lbcGFnZV07XG5cdFx0c2l6ZVkgPSBtLmFicyh5IC0gdGhhdC5wYWdlc1lbdGhhdC5jdXJyUGFnZVldKTtcblx0XHRzaXplWSA9IHNpemVZID8gbS5hYnModGhhdC55IC0geSkgLyBzaXplWSAqIDUwMCA6IDA7XG5cdFx0dGhhdC5jdXJyUGFnZVkgPSBwYWdlO1xuXG5cdFx0Ly8gU25hcCB3aXRoIGNvbnN0YW50IHNwZWVkIChwcm9wb3J0aW9uYWwgZHVyYXRpb24pXG5cdFx0dGltZSA9IG0ucm91bmQobS5tYXgoc2l6ZVgsIHNpemVZKSkgfHwgMjAwO1xuXG5cdFx0cmV0dXJuIHsgeDogeCwgeTogeSwgdGltZTogdGltZSB9O1xuXHR9LFxuXG5cdF9iaW5kOiBmdW5jdGlvbiAodHlwZSwgZWwsIGJ1YmJsZSkge1xuXHRcdChlbCB8fCB0aGlzLnNjcm9sbGVyKS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMsICEhYnViYmxlKTtcblx0fSxcblxuXHRfdW5iaW5kOiBmdW5jdGlvbiAodHlwZSwgZWwsIGJ1YmJsZSkge1xuXHRcdChlbCB8fCB0aGlzLnNjcm9sbGVyKS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMsICEhYnViYmxlKTtcblx0fSxcblxuXG5cdC8qKlxuXHQqXG5cdCogUHVibGljIG1ldGhvZHNcblx0KlxuXHQqL1xuXHRkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJyc7XG5cblx0XHQvLyBSZW1vdmUgdGhlIHNjcm9sbGJhcnNcblx0XHR0aGF0LmhTY3JvbGxiYXIgPSBmYWxzZTtcblx0XHR0aGF0LnZTY3JvbGxiYXIgPSBmYWxzZTtcblx0XHR0aGF0Ll9zY3JvbGxiYXIoJ2gnKTtcblx0XHR0aGF0Ll9zY3JvbGxiYXIoJ3YnKTtcblxuXHRcdC8vIFJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG5cdFx0dGhhdC5fdW5iaW5kKFJFU0laRV9FViwgd2luZG93KTtcblx0XHR0aGF0Ll91bmJpbmQoU1RBUlRfRVYpO1xuXHRcdHRoYXQuX3VuYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX3VuYmluZChFTkRfRVYsIHdpbmRvdyk7XG5cdFx0dGhhdC5fdW5iaW5kKENBTkNFTF9FViwgd2luZG93KTtcblx0XHRcblx0XHRpZiAoIXRoYXQub3B0aW9ucy5oYXNUb3VjaCkge1xuXHRcdFx0dGhhdC5fdW5iaW5kKCdET01Nb3VzZVNjcm9sbCcpO1xuXHRcdFx0dGhhdC5fdW5iaW5kKCdtb3VzZXdoZWVsJyk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikgdGhhdC5fdW5iaW5kKFRSTkVORF9FVik7XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy5jaGVja0RPTUNoYW5nZXMpIGNsZWFySW50ZXJ2YWwodGhhdC5jaGVja0RPTVRpbWUpO1xuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25EZXN0cm95KSB0aGF0Lm9wdGlvbnMub25EZXN0cm95LmNhbGwodGhhdCk7XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdG9mZnNldCxcblx0XHRcdGksIGwsXG5cdFx0XHRlbHMsXG5cdFx0XHRwb3MgPSAwLFxuXHRcdFx0cGFnZSA9IDA7XG5cblx0XHRpZiAodGhhdC5zY2FsZSA8IHRoYXQub3B0aW9ucy56b29tTWluKSB0aGF0LnNjYWxlID0gdGhhdC5vcHRpb25zLnpvb21NaW47XG5cdFx0dGhhdC53cmFwcGVyVyA9IHRoYXQud3JhcHBlci5jbGllbnRXaWR0aCB8fCAxO1xuXHRcdHRoYXQud3JhcHBlckggPSB0aGF0LndyYXBwZXIuY2xpZW50SGVpZ2h0IHx8IDE7XG5cblx0XHR0aGF0Lm1pblNjcm9sbFkgPSAtdGhhdC5vcHRpb25zLnRvcE9mZnNldCB8fCAwO1xuXHRcdHRoYXQuc2Nyb2xsZXJXID0gbS5yb3VuZCh0aGF0LnNjcm9sbGVyLm9mZnNldFdpZHRoICogdGhhdC5zY2FsZSk7XG5cdFx0dGhhdC5zY3JvbGxlckggPSBtLnJvdW5kKCh0aGF0LnNjcm9sbGVyLm9mZnNldEhlaWdodCArIHRoYXQubWluU2Nyb2xsWSkgKiB0aGF0LnNjYWxlKTtcblx0XHR0aGF0Lm1heFNjcm9sbFggPSB0aGF0LndyYXBwZXJXIC0gdGhhdC5zY3JvbGxlclc7XG5cdFx0dGhhdC5tYXhTY3JvbGxZID0gdGhhdC53cmFwcGVySCAtIHRoYXQuc2Nyb2xsZXJIICsgdGhhdC5taW5TY3JvbGxZO1xuXHRcdHRoYXQuZGlyWCA9IDA7XG5cdFx0dGhhdC5kaXJZID0gMDtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25SZWZyZXNoKSB0aGF0Lm9wdGlvbnMub25SZWZyZXNoLmNhbGwodGhhdCk7XG5cblx0XHR0aGF0LmhTY3JvbGwgPSB0aGF0Lm9wdGlvbnMuaFNjcm9sbCAmJiB0aGF0Lm1heFNjcm9sbFggPCAwO1xuXHRcdHRoYXQudlNjcm9sbCA9IHRoYXQub3B0aW9ucy52U2Nyb2xsICYmICghdGhhdC5vcHRpb25zLmJvdW5jZUxvY2sgJiYgIXRoYXQuaFNjcm9sbCB8fCB0aGF0LnNjcm9sbGVySCA+IHRoYXQud3JhcHBlckgpO1xuXG5cdFx0dGhhdC5oU2Nyb2xsYmFyID0gdGhhdC5oU2Nyb2xsICYmIHRoYXQub3B0aW9ucy5oU2Nyb2xsYmFyO1xuXHRcdHRoYXQudlNjcm9sbGJhciA9IHRoYXQudlNjcm9sbCAmJiB0aGF0Lm9wdGlvbnMudlNjcm9sbGJhciAmJiB0aGF0LnNjcm9sbGVySCA+IHRoYXQud3JhcHBlckg7XG5cblx0XHRvZmZzZXQgPSB0aGF0Ll9vZmZzZXQodGhhdC53cmFwcGVyKTtcblx0XHR0aGF0LndyYXBwZXJPZmZzZXRMZWZ0ID0gLW9mZnNldC5sZWZ0O1xuXHRcdHRoYXQud3JhcHBlck9mZnNldFRvcCA9IC1vZmZzZXQudG9wO1xuXG5cdFx0Ly8gUHJlcGFyZSBzbmFwXG5cdFx0aWYgKHR5cGVvZiB0aGF0Lm9wdGlvbnMuc25hcCA9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhhdC5wYWdlc1ggPSBbXTtcblx0XHRcdHRoYXQucGFnZXNZID0gW107XG5cdFx0XHRlbHMgPSB0aGF0LnNjcm9sbGVyLnF1ZXJ5U2VsZWN0b3JBbGwodGhhdC5vcHRpb25zLnNuYXApO1xuXHRcdFx0Zm9yIChpPTAsIGw9ZWxzLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdFx0cG9zID0gdGhhdC5fb2Zmc2V0KGVsc1tpXSk7XG5cdFx0XHRcdHBvcy5sZWZ0ICs9IHRoYXQud3JhcHBlck9mZnNldExlZnQ7XG5cdFx0XHRcdHBvcy50b3AgKz0gdGhhdC53cmFwcGVyT2Zmc2V0VG9wO1xuXHRcdFx0XHR0aGF0LnBhZ2VzWFtpXSA9IHBvcy5sZWZ0IDwgdGhhdC5tYXhTY3JvbGxYID8gdGhhdC5tYXhTY3JvbGxYIDogcG9zLmxlZnQgKiB0aGF0LnNjYWxlO1xuXHRcdFx0XHR0aGF0LnBhZ2VzWVtpXSA9IHBvcy50b3AgPCB0aGF0Lm1heFNjcm9sbFkgPyB0aGF0Lm1heFNjcm9sbFkgOiBwb3MudG9wICogdGhhdC5zY2FsZTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHRoYXQub3B0aW9ucy5zbmFwKSB7XG5cdFx0XHR0aGF0LnBhZ2VzWCA9IFtdO1xuXHRcdFx0d2hpbGUgKHBvcyA+PSB0aGF0Lm1heFNjcm9sbFgpIHtcblx0XHRcdFx0dGhhdC5wYWdlc1hbcGFnZV0gPSBwb3M7XG5cdFx0XHRcdHBvcyA9IHBvcyAtIHRoYXQud3JhcHBlclc7XG5cdFx0XHRcdHBhZ2UrKztcblx0XHRcdH1cblx0XHRcdGlmICh0aGF0Lm1heFNjcm9sbFgldGhhdC53cmFwcGVyVykgdGhhdC5wYWdlc1hbdGhhdC5wYWdlc1gubGVuZ3RoXSA9IHRoYXQubWF4U2Nyb2xsWCAtIHRoYXQucGFnZXNYW3RoYXQucGFnZXNYLmxlbmd0aC0xXSArIHRoYXQucGFnZXNYW3RoYXQucGFnZXNYLmxlbmd0aC0xXTtcblxuXHRcdFx0cG9zID0gMDtcblx0XHRcdHBhZ2UgPSAwO1xuXHRcdFx0dGhhdC5wYWdlc1kgPSBbXTtcblx0XHRcdHdoaWxlIChwb3MgPj0gdGhhdC5tYXhTY3JvbGxZKSB7XG5cdFx0XHRcdHRoYXQucGFnZXNZW3BhZ2VdID0gcG9zO1xuXHRcdFx0XHRwb3MgPSBwb3MgLSB0aGF0LndyYXBwZXJIO1xuXHRcdFx0XHRwYWdlKys7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhhdC5tYXhTY3JvbGxZJXRoYXQud3JhcHBlckgpIHRoYXQucGFnZXNZW3RoYXQucGFnZXNZLmxlbmd0aF0gPSB0aGF0Lm1heFNjcm9sbFkgLSB0aGF0LnBhZ2VzWVt0aGF0LnBhZ2VzWS5sZW5ndGgtMV0gKyB0aGF0LnBhZ2VzWVt0aGF0LnBhZ2VzWS5sZW5ndGgtMV07XG5cdFx0fVxuXG5cdFx0Ly8gUHJlcGFyZSB0aGUgc2Nyb2xsYmFyc1xuXHRcdHRoYXQuX3Njcm9sbGJhcignaCcpO1xuXHRcdHRoYXQuX3Njcm9sbGJhcigndicpO1xuXG5cdFx0aWYgKCF0aGF0Lnpvb21lZCkge1xuXHRcdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gJzAnO1xuXHRcdFx0dGhhdC5fcmVzZXRQb3MoNDAwKTtcblx0XHR9XG5cdH0sXG5cblx0c2Nyb2xsVG86IGZ1bmN0aW9uICh4LCB5LCB0aW1lLCByZWxhdGl2ZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHN0ZXAgPSB4LFxuXHRcdFx0aSwgbDtcblxuXHRcdHRoYXQuc3RvcCgpO1xuXG5cdFx0aWYgKCFzdGVwLmxlbmd0aCkgc3RlcCA9IFt7IHg6IHgsIHk6IHksIHRpbWU6IHRpbWUsIHJlbGF0aXZlOiByZWxhdGl2ZSB9XTtcblx0XHRcblx0XHRmb3IgKGk9MCwgbD1zdGVwLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdGlmIChzdGVwW2ldLnJlbGF0aXZlKSB7IHN0ZXBbaV0ueCA9IHRoYXQueCAtIHN0ZXBbaV0ueDsgc3RlcFtpXS55ID0gdGhhdC55IC0gc3RlcFtpXS55OyB9XG5cdFx0XHR0aGF0LnN0ZXBzLnB1c2goeyB4OiBzdGVwW2ldLngsIHk6IHN0ZXBbaV0ueSwgdGltZTogc3RlcFtpXS50aW1lIHx8IDAgfSk7XG5cdFx0fVxuXG5cdFx0dGhhdC5fc3RhcnRBbmkoKTtcblx0fSxcblxuXHRzY3JvbGxUb0VsZW1lbnQ6IGZ1bmN0aW9uIChlbCwgdGltZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcywgcG9zO1xuXHRcdGVsID0gZWwubm9kZVR5cGUgPyBlbCA6IHRoYXQuc2Nyb2xsZXIucXVlcnlTZWxlY3RvcihlbCk7XG5cdFx0aWYgKCFlbCkgcmV0dXJuO1xuXG5cdFx0cG9zID0gdGhhdC5fb2Zmc2V0KGVsKTtcblx0XHRwb3MubGVmdCArPSB0aGF0LndyYXBwZXJPZmZzZXRMZWZ0O1xuXHRcdHBvcy50b3AgKz0gdGhhdC53cmFwcGVyT2Zmc2V0VG9wO1xuXG5cdFx0cG9zLmxlZnQgPSBwb3MubGVmdCA+IDAgPyAwIDogcG9zLmxlZnQgPCB0aGF0Lm1heFNjcm9sbFggPyB0aGF0Lm1heFNjcm9sbFggOiBwb3MubGVmdDtcblx0XHRwb3MudG9wID0gcG9zLnRvcCA+IHRoYXQubWluU2Nyb2xsWSA/IHRoYXQubWluU2Nyb2xsWSA6IHBvcy50b3AgPCB0aGF0Lm1heFNjcm9sbFkgPyB0aGF0Lm1heFNjcm9sbFkgOiBwb3MudG9wO1xuXHRcdHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyBtLm1heChtLmFicyhwb3MubGVmdCkqMiwgbS5hYnMocG9zLnRvcCkqMikgOiB0aW1lO1xuXG5cdFx0dGhhdC5zY3JvbGxUbyhwb3MubGVmdCwgcG9zLnRvcCwgdGltZSk7XG5cdH0sXG5cblx0c2Nyb2xsVG9QYWdlOiBmdW5jdGlvbiAocGFnZVgsIHBhZ2VZLCB0aW1lKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLCB4LCB5O1xuXHRcdFxuXHRcdHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyA0MDAgOiB0aW1lO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbFN0YXJ0KSB0aGF0Lm9wdGlvbnMub25TY3JvbGxTdGFydC5jYWxsKHRoYXQpO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5zbmFwKSB7XG5cdFx0XHRwYWdlWCA9IHBhZ2VYID09ICduZXh0JyA/IHRoYXQuY3VyclBhZ2VYKzEgOiBwYWdlWCA9PSAncHJldicgPyB0aGF0LmN1cnJQYWdlWC0xIDogcGFnZVg7XG5cdFx0XHRwYWdlWSA9IHBhZ2VZID09ICduZXh0JyA/IHRoYXQuY3VyclBhZ2VZKzEgOiBwYWdlWSA9PSAncHJldicgPyB0aGF0LmN1cnJQYWdlWS0xIDogcGFnZVk7XG5cblx0XHRcdHBhZ2VYID0gcGFnZVggPCAwID8gMCA6IHBhZ2VYID4gdGhhdC5wYWdlc1gubGVuZ3RoLTEgPyB0aGF0LnBhZ2VzWC5sZW5ndGgtMSA6IHBhZ2VYO1xuXHRcdFx0cGFnZVkgPSBwYWdlWSA8IDAgPyAwIDogcGFnZVkgPiB0aGF0LnBhZ2VzWS5sZW5ndGgtMSA/IHRoYXQucGFnZXNZLmxlbmd0aC0xIDogcGFnZVk7XG5cblx0XHRcdHRoYXQuY3VyclBhZ2VYID0gcGFnZVg7XG5cdFx0XHR0aGF0LmN1cnJQYWdlWSA9IHBhZ2VZO1xuXHRcdFx0eCA9IHRoYXQucGFnZXNYW3BhZ2VYXTtcblx0XHRcdHkgPSB0aGF0LnBhZ2VzWVtwYWdlWV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHggPSAtdGhhdC53cmFwcGVyVyAqIHBhZ2VYO1xuXHRcdFx0eSA9IC10aGF0LndyYXBwZXJIICogcGFnZVk7XG5cdFx0XHRpZiAoeCA8IHRoYXQubWF4U2Nyb2xsWCkgeCA9IHRoYXQubWF4U2Nyb2xsWDtcblx0XHRcdGlmICh5IDwgdGhhdC5tYXhTY3JvbGxZKSB5ID0gdGhhdC5tYXhTY3JvbGxZO1xuXHRcdH1cblxuXHRcdHRoYXQuc2Nyb2xsVG8oeCwgeSwgdGltZSk7XG5cdH0sXG5cblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuc3RvcCgpO1xuXHRcdHRoaXMuX3Jlc2V0UG9zKDApO1xuXHRcdHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gSWYgZGlzYWJsZWQgYWZ0ZXIgdG91Y2hzdGFydCB3ZSBtYWtlIHN1cmUgdGhhdCB0aGVyZSBhcmUgbm8gbGVmdCBvdmVyIGV2ZW50c1xuXHRcdHRoaXMuX3VuYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoaXMuX3VuYmluZChFTkRfRVYsIHdpbmRvdyk7XG5cdFx0dGhpcy5fdW5iaW5kKENBTkNFTF9FViwgd2luZG93KTtcblx0fSxcblx0XG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cdH0sXG5cdFxuXHRzdG9wOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uKSB0aGlzLl91bmJpbmQoVFJORU5EX0VWKTtcblx0XHRlbHNlIGNhbmNlbEZyYW1lKHRoaXMuYW5pVGltZSk7XG5cdFx0dGhpcy5zdGVwcyA9IFtdO1xuXHRcdHRoaXMubW92ZWQgPSBmYWxzZTtcblx0XHR0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xuXHR9LFxuXHRcblx0em9vbTogZnVuY3Rpb24gKHgsIHksIHNjYWxlLCB0aW1lKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cmVsU2NhbGUgPSBzY2FsZSAvIHRoYXQuc2NhbGU7XG5cblx0XHRpZiAoIXRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0pIHJldHVybjtcblxuXHRcdHRoYXQuem9vbWVkID0gdHJ1ZTtcblx0XHR0aW1lID0gdGltZSA9PT0gdW5kZWZpbmVkID8gMjAwIDogdGltZTtcblx0XHR4ID0geCAtIHRoYXQud3JhcHBlck9mZnNldExlZnQgLSB0aGF0Lng7XG5cdFx0eSA9IHkgLSB0aGF0LndyYXBwZXJPZmZzZXRUb3AgLSB0aGF0Lnk7XG5cdFx0dGhhdC54ID0geCAtIHggKiByZWxTY2FsZSArIHRoYXQueDtcblx0XHR0aGF0LnkgPSB5IC0geSAqIHJlbFNjYWxlICsgdGhhdC55O1xuXG5cdFx0dGhhdC5zY2FsZSA9IHNjYWxlO1xuXHRcdHRoYXQucmVmcmVzaCgpO1xuXG5cdFx0dGhhdC54ID0gdGhhdC54ID4gMCA/IDAgOiB0aGF0LnggPCB0aGF0Lm1heFNjcm9sbFggPyB0aGF0Lm1heFNjcm9sbFggOiB0aGF0Lng7XG5cdFx0dGhhdC55ID0gdGhhdC55ID4gdGhhdC5taW5TY3JvbGxZID8gdGhhdC5taW5TY3JvbGxZIDogdGhhdC55IDwgdGhhdC5tYXhTY3JvbGxZID8gdGhhdC5tYXhTY3JvbGxZIDogdGhhdC55O1xuXG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gdGltZSArICdtcyc7XG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgdGhhdC54ICsgJ3B4LCcgKyB0aGF0LnkgKyAncHgpIHNjYWxlKCcgKyBzY2FsZSArICcpJyArIHRyYW5zbGF0ZVo7XG5cdFx0dGhhdC56b29tZWQgPSBmYWxzZTtcblx0fSxcblx0XG5cdGlzUmVhZHk6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gIXRoaXMubW92ZWQgJiYgIXRoaXMuem9vbWVkICYmICF0aGlzLmFuaW1hdGluZztcblx0fVxufTtcblxuZnVuY3Rpb24gcHJlZml4U3R5bGUgKHN0eWxlKSB7XG5cdGlmICggdmVuZG9yID09PSAnJyApIHJldHVybiBzdHlsZTtcblxuXHRzdHlsZSA9IHN0eWxlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGUuc3Vic3RyKDEpO1xuXHRyZXR1cm4gdmVuZG9yICsgc3R5bGU7XG59XG5cbmR1bW15U3R5bGUgPSBudWxsO1x0Ly8gZm9yIHRoZSBzYWtlIG9mIGl0XG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIGV4cG9ydHMuaVNjcm9sbCA9IGlTY3JvbGw7XG5lbHNlIHdpbmRvdy5pU2Nyb2xsID0gaVNjcm9sbDtcblxufSkod2luZG93LCBkb2N1bWVudCk7XG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvaXNjcm9sbC5qc1xuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/* Zepto 1.1.6 - zepto ajax event data form touch fx fx_methods - zeptojs.com/license */\nvar Zepto=function(){function L(t){return null==t?String(t):j[S.call(t)]||\"object\"}function A(t){return\"function\"==L(t)}function Z(t){return null!=t&&t==t.window}function $(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function R(t){return\"object\"==L(t)}function k(t){return R(t)&&!Z(t)&&Object.getPrototypeOf(t)==Object.prototype}function z(t){return\"number\"==typeof t.length}function F(t){return a.call(t,function(t){return null!=t})}function _(t){return t.length>0?n.fn.concat.apply([],t):t}function I(t){return t.replace(/::/g,\"/\").replace(/([A-Z]+)([A-Z][a-z])/g,\"$1_$2\").replace(/([a-z\\d])([A-Z])/g,\"$1_$2\").replace(/_/g,\"-\").toLowerCase()}function q(t){return t in c?c[t]:c[t]=new RegExp(\"(^|\\\\s)\"+t+\"(\\\\s|$)\")}function H(t,e){return\"number\"!=typeof e||l[I(t)]?e:e+\"px\"}function U(t){var e,n;return f[t]||(e=u.createElement(t),u.body.appendChild(e),n=getComputedStyle(e,\"\").getPropertyValue(\"display\"),e.parentNode.removeChild(e),\"none\"==n&&(n=\"block\"),f[t]=n),f[t]}function X(t){return\"children\"in t?s.call(t.children):n.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function V(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||\"\"}function B(n,i,r){for(e in i)r&&(k(i[e])||D(i[e]))?(k(i[e])&&!k(n[e])&&(n[e]={}),D(i[e])&&!D(n[e])&&(n[e]=[]),B(n[e],i[e],r)):i[e]!==t&&(n[e]=i[e])}function Y(t,e){return null==e?n(t):n(t).filter(e)}function J(t,e,n,i){return A(e)?e.call(t,n,i):e}function W(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function G(e,n){var i=e.className||\"\",r=i&&i.baseVal!==t;return n===t?r?i.baseVal:i:void(r?i.baseVal=n:e.className=n)}function K(t){try{return t?\"true\"==t||(\"false\"==t?!1:\"null\"==t?null:+t+\"\"==t?+t:/^[\\[\\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function Q(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)Q(t.childNodes[n],e)}var t,e,n,i,P,N,r=[],o=r.concat,a=r.filter,s=r.slice,u=window.document,f={},c={},l={\"column-count\":1,columns:1,\"font-weight\":1,\"line-height\":1,opacity:1,\"z-index\":1,zoom:1},h=/^\\s*<(\\w+|!)[^>]*>/,p=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,d=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,m=/^(?:body|html)$/i,g=/([A-Z])/g,v=[\"val\",\"css\",\"html\",\"text\",\"data\",\"width\",\"height\",\"offset\"],y=[\"after\",\"prepend\",\"before\",\"append\"],x=u.createElement(\"table\"),w=u.createElement(\"tr\"),b={tr:u.createElement(\"tbody\"),tbody:x,thead:x,tfoot:x,td:w,th:w,\"*\":u.createElement(\"div\")},E=/complete|loaded|interactive/,T=/^[\\w-]*$/,j={},S=j.toString,C={},O=u.createElement(\"div\"),M={tabindex:\"tabIndex\",readonly:\"readOnly\",\"for\":\"htmlFor\",\"class\":\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},D=Array.isArray||function(t){return t instanceof Array};return C.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=O).appendChild(t),i=~C.qsa(r,e).indexOf(t),o&&O.removeChild(t),i},P=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():\"\"})},N=function(t){return a.call(t,function(e,n){return t.indexOf(e)==n})},C.fragment=function(e,i,r){var o,a,f;return p.test(e)&&(o=n(u.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(d,\"<$1></$2>\")),i===t&&(i=h.test(e)&&RegExp.$1),i in b||(i=\"*\"),f=b[i],f.innerHTML=\"\"+e,o=n.each(s.call(f.childNodes),function(){f.removeChild(this)})),k(r)&&(a=n(o),n.each(r,function(t,e){v.indexOf(t)>-1?a[t](e):a.attr(t,e)})),o},C.Z=function(t,e){return new V(t,e)},C.isZ=function(t){return t instanceof C.Z},C.init=function(e,i){var r;if(!e)return C.Z();if(\"string\"==typeof e)if(e=e.trim(),\"<\"==e[0]&&h.test(e))r=C.fragment(e,RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(u,e)}else{if(A(e))return n(u).ready(e);if(C.isZ(e))return e;if(D(e))r=F(e);else if(R(e))r=[e],e=null;else if(h.test(e))r=C.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(u,e)}}return C.Z(r,e)},n=function(t,e){return C.init(t,e)},n.extend=function(t){var e,n=s.call(arguments,1);return\"boolean\"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){B(t,n,e)}),t},C.qsa=function(t,e){var n,i=\"#\"==e[0],r=!i&&\".\"==e[0],o=i||r?e.slice(1):e,a=T.test(o);return t.getElementById&&a&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:s.call(a&&!i&&t.getElementsByClassName?r?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=u.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=L,n.isFunction=A,n.isWindow=Z,n.isArray=D,n.isPlainObject=k,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return r.indexOf.call(e,t,n)},n.camelCase=P,n.trim=function(t){return null==t?\"\":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(t,e){var n,r,o,i=[];if(z(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&i.push(n);else for(o in t)n=e(t[o],o),null!=n&&i.push(n);return _(i)},n.each=function(t,e){var n,i;if(z(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},n.grep=function(t,e){return a.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(t,e){j[\"[object \"+e+\"]\"]=e.toLowerCase()}),n.fn={constructor:C.Z,length:0,forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,splice:r.splice,indexOf:r.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=C.isZ(e)?e.toArray():e;return o.apply(C.isZ(this)?this.toArray():this,n)},map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(s.apply(this,arguments))},ready:function(t){return E.test(u.readyState)&&u.body?t(n):u.addEventListener(\"DOMContentLoaded\",function(){t(n)},!1),this},get:function(e){return e===t?s.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return r.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return A(t)?this.not(this.not(t)):n(a.call(this,function(e){return C.matches(e,t)}))},add:function(t,e){return n(N(this.concat(n(t,e))))},is:function(t){return this.length>0&&C.matches(this[0],t)},not:function(e){var i=[];if(A(e)&&e.call!==t)this.each(function(t){e.call(this,t)||i.push(this)});else{var r=\"string\"==typeof e?this.filter(e):z(e)&&A(e.item)?s.call(e):n(e);this.forEach(function(t){r.indexOf(t)<0&&i.push(t)})}return n(i)},has:function(t){return this.filter(function(){return R(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!R(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!R(t)?t:n(t)},find:function(t){var e,i=this;return e=t?\"object\"==typeof t?n(t).filter(function(){var t=this;return r.some.call(i,function(e){return n.contains(e,t)})}):1==this.length?n(C.qsa(this[0],t)):this.map(function(){return C.qsa(this,t)}):n()},closest:function(t,e){var i=this[0],r=!1;for(\"object\"==typeof t&&(r=n(t));i&&!(r?r.indexOf(i)>=0:C.matches(i,t));)i=i!==e&&!$(i)&&i.parentNode;return n(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=n.map(i,function(t){return(t=t.parentNode)&&!$(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return Y(e,t)},parent:function(t){return Y(N(this.pluck(\"parentNode\")),t)},children:function(t){return Y(this.map(function(){return X(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||s.call(this.childNodes)})},siblings:function(t){return Y(this.map(function(t,e){return a.call(X(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=\"\"})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){\"none\"==this.style.display&&(this.style.display=\"\"),\"none\"==getComputedStyle(this,\"\").getPropertyValue(\"display\")&&(this.style.display=U(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=A(t);if(this[0]&&!e)var i=n(t).get(0),r=i.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var e;(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=A(t);return this.each(function(i){var r=n(this),o=r.contents(),a=e?t.call(this,i):t;o.length?o.wrapAll(a):r.append(a)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css(\"display\",\"none\")},toggle:function(e){return this.each(function(){var i=n(this);(e===t?\"none\"==i.css(\"display\"):e)?i.show():i.hide()})},prev:function(t){return n(this.pluck(\"previousElementSibling\")).filter(t||\"*\")},next:function(t){return n(this.pluck(\"nextElementSibling\")).filter(t||\"*\")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;n(this).empty().append(J(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=J(this,t,e,this.textContent);this.textContent=null==n?\"\":\"\"+n}):0 in this?this[0].textContent:null},attr:function(n,i){var r;return\"string\"!=typeof n||1 in arguments?this.each(function(t){if(1===this.nodeType)if(R(n))for(e in n)W(this,e,n[e]);else W(this,n,J(this,i,t,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:t},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(\" \").forEach(function(t){W(this,t)},this)})},prop:function(t,e){return t=M[t]||t,1 in arguments?this.each(function(n){this[t]=J(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(e,n){var i=\"data-\"+e.replace(g,\"-$1\").toLowerCase(),r=1 in arguments?this.attr(i,n):this.attr(i);return null!==r?K(r):t},val:function(t){return 0 in arguments?this.each(function(e){this.value=J(this,t,e,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find(\"option\").filter(function(){return this.selected}).pluck(\"value\"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=n(this),r=J(this,t,e,i.offset()),o=i.offsetParent().offset(),a={top:r.top-o.top,left:r.left-o.left};\"static\"==i.css(\"position\")&&(a.position=\"relative\"),i.css(a)});if(!this.length)return null;if(!n.contains(u.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,i){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,\"\"),\"string\"==typeof t)return o.style[P(t)]||r.getPropertyValue(t);if(D(t)){var a={};return n.each(t,function(t,e){a[e]=o.style[P(e)]||r.getPropertyValue(e)}),a}}var s=\"\";if(\"string\"==L(t))i||0===i?s=I(t)+\":\"+H(t,i):this.each(function(){this.style.removeProperty(I(t))});else for(e in t)t[e]||0===t[e]?s+=I(e)+\":\"+H(e,t[e])+\";\":this.each(function(){this.style.removeProperty(I(e))});return this.each(function(){this.style.cssText+=\";\"+s})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?r.some.call(this,function(t){return this.test(G(t))},q(t)):!1},addClass:function(t){return t?this.each(function(e){if(\"className\"in this){i=[];var r=G(this),o=J(this,t,e,r);o.split(/\\s+/g).forEach(function(t){n(this).hasClass(t)||i.push(t)},this),i.length&&G(this,r+(r?\" \":\"\")+i.join(\" \"))}}):this},removeClass:function(e){return this.each(function(n){if(\"className\"in this){if(e===t)return G(this,\"\");i=G(this),J(this,e,n,i).split(/\\s+/g).forEach(function(t){i=i.replace(q(t),\" \")}),G(this,i.trim())}})},toggleClass:function(e,i){return e?this.each(function(r){var o=n(this),a=J(this,e,r,G(this));a.split(/\\s+/g).forEach(function(e){(i===t?!o.hasClass(e):i)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n=\"scrollTop\"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n=\"scrollLeft\"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),r=m.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(n(t).css(\"margin-top\"))||0,i.left-=parseFloat(n(t).css(\"margin-left\"))||0,r.top+=parseFloat(n(e[0]).css(\"border-top-width\"))||0,r.left+=parseFloat(n(e[0]).css(\"border-left-width\"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||u.body;t&&!m.test(t.nodeName)&&\"static\"==n(t).css(\"position\");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,[\"width\",\"height\"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(r){var o,a=this[0];return r===t?Z(a)?a[\"inner\"+i]:$(a)?a.documentElement[\"scroll\"+i]:(o=this.offset())&&o[e]:this.each(function(t){a=n(this),a.css(e,J(this,r,t,a[e]()))})}}),y.forEach(function(t,e){var i=e%2;n.fn[t]=function(){var t,o,r=n.map(arguments,function(e){return t=L(e),\"object\"==t||\"array\"==t||null==e?e:C.fragment(e)}),a=this.length>1;return r.length<1?this:this.each(function(t,s){o=i?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null;var f=n.contains(u.documentElement,o);r.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return n(t).remove();o.insertBefore(t,s),f&&Q(t,function(t){null==t.nodeName||\"SCRIPT\"!==t.nodeName.toUpperCase()||t.type&&\"text/javascript\"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[i?t+\"To\":\"insert\"+(e?\"Before\":\"After\")]=function(e){return n(e)[t](this),this}}),C.Z.prototype=V.prototype=n.fn,C.uniq=N,C.deserializeValue=K,n.zepto=C,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function h(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function p(t,e,i,r){return t.global?h(e||n,i,r):void 0}function d(e){e.global&&0===t.active++&&p(e,null,\"ajaxStart\")}function m(e){e.global&&!--t.active&&p(e,null,\"ajaxStop\")}function g(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||p(e,n,\"ajaxBeforeSend\",[t,e])===!1?!1:void p(e,n,\"ajaxSend\",[t,e])}function v(t,e,n,i){var r=n.context,o=\"success\";n.success.call(r,t,o,e),i&&i.resolveWith(r,[t,o,e]),p(n,r,\"ajaxSuccess\",[e,n,t]),x(o,e,n)}function y(t,e,n,i,r){var o=i.context;i.error.call(o,n,e,t),r&&r.rejectWith(o,[n,e,t]),p(i,o,\"ajaxError\",[n,i,t||e]),x(e,n,i)}function x(t,e,n){var i=n.context;n.complete.call(i,e,t),p(n,i,\"ajaxComplete\",[e,n]),m(n)}function w(){}function b(t){return t&&(t=t.split(\";\",2)[0]),t&&(t==f?\"html\":t==u?\"json\":a.test(t)?\"script\":s.test(t)&&\"xml\")||\"text\"}function E(t,e){return\"\"==e?t:(t+\"&\"+e).replace(/[&?]{1,2}/,\"?\")}function T(e){e.processData&&e.data&&\"string\"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&\"GET\"!=e.type.toUpperCase()||(e.url=E(e.url,e.data),e.data=void 0)}function j(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function C(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),r&&(n=i?r:r+\"[\"+(s||\"object\"==o||\"array\"==o?n:\"\")+\"]\"),!r&&a?e.add(u.name,u.value):\"array\"==o||!i&&\"object\"==o?C(e,u,i,n):e.add(n,u)})}var i,r,e=0,n=window.document,o=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,a=/^(?:text|application)\\/javascript/i,s=/^(?:text|application)\\/xml/i,u=\"application/json\",f=\"text/html\",c=/^\\s*$/,l=n.createElement(\"a\");l.href=window.location.href,t.active=0,t.ajaxJSONP=function(i,r){if(!(\"type\"in i))return t.ajax(i);var f,h,o=i.jsonpCallback,a=(t.isFunction(o)?o():o)||\"jsonp\"+ ++e,s=n.createElement(\"script\"),u=window[a],c=function(e){t(s).triggerHandler(\"error\",e||\"abort\")},l={abort:c};return r&&r.promise(l),t(s).on(\"load error\",function(e,n){clearTimeout(h),t(s).off().remove(),\"error\"!=e.type&&f?v(f[0],l,i,r):y(null,n||\"error\",l,i,r),window[a]=u,f&&t.isFunction(u)&&u(f[0]),u=f=void 0}),g(l,i)===!1?(c(\"abort\"),l):(window[a]=function(){f=arguments},s.src=i.url.replace(/\\?(.+)=\\?/,\"?$1=\"+a),n.head.appendChild(s),i.timeout>0&&(h=setTimeout(function(){c(\"timeout\")},i.timeout)),l)},t.ajaxSettings={type:\"GET\",beforeSend:w,success:w,error:w,complete:w,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:\"text/javascript, application/javascript, application/x-javascript\",json:u,xml:\"application/xml, text/xml\",html:f,text:\"text/plain\"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var s,u,o=t.extend({},e||{}),a=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===o[i]&&(o[i]=t.ajaxSettings[i]);d(o),o.crossDomain||(s=n.createElement(\"a\"),s.href=o.url,s.href=s.href,o.crossDomain=l.protocol+\"//\"+l.host!=s.protocol+\"//\"+s.host),o.url||(o.url=window.location.toString()),(u=o.url.indexOf(\"#\"))>-1&&(o.url=o.url.slice(0,u)),T(o);var f=o.dataType,h=/\\?.+=\\?/.test(o.url);if(h&&(f=\"jsonp\"),o.cache!==!1&&(e&&e.cache===!0||\"script\"!=f&&\"jsonp\"!=f)||(o.url=E(o.url,\"_=\"+Date.now())),\"jsonp\"==f)return h||(o.url=E(o.url,o.jsonp?o.jsonp+\"=?\":o.jsonp===!1?\"\":\"callback=?\")),t.ajaxJSONP(o,a);var P,p=o.accepts[f],m={},x=function(t,e){m[t.toLowerCase()]=[t,e]},j=/^([\\w-]+:)\\/\\//.test(o.url)?RegExp.$1:window.location.protocol,S=o.xhr(),C=S.setRequestHeader;if(a&&a.promise(S),o.crossDomain||x(\"X-Requested-With\",\"XMLHttpRequest\"),x(\"Accept\",p||\"*/*\"),(p=o.mimeType||p)&&(p.indexOf(\",\")>-1&&(p=p.split(\",\",2)[0]),S.overrideMimeType&&S.overrideMimeType(p)),(o.contentType||o.contentType!==!1&&o.data&&\"GET\"!=o.type.toUpperCase())&&x(\"Content-Type\",o.contentType||\"application/x-www-form-urlencoded\"),o.headers)for(r in o.headers)x(r,o.headers[r]);if(S.setRequestHeader=x,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=w,clearTimeout(P);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&\"file:\"==j){f=f||b(o.mimeType||S.getResponseHeader(\"content-type\")),e=S.responseText;try{\"script\"==f?(1,eval)(e):\"xml\"==f?e=S.responseXML:\"json\"==f&&(e=c.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?y(n,\"parsererror\",S,o,a):v(e,S,o,a)}else y(S.statusText||null,S.status?\"error\":\"abort\",S,o,a)}},g(S,o)===!1)return S.abort(),y(null,\"abort\",S,o,a),S;if(o.xhrFields)for(r in o.xhrFields)S[r]=o.xhrFields[r];var N=\"async\"in o?o.async:!0;S.open(o.type,o.url,N,o.username,o.password);for(r in m)C.apply(S,m[r]);return o.timeout>0&&(P=setTimeout(function(){S.onreadystatechange=w,S.abort(),y(null,\"timeout\",S,o,a)},o.timeout)),S.send(o.data?o.data:null),S},t.get=function(){return t.ajax(j.apply(null,arguments))},t.post=function(){var e=j.apply(null,arguments);return e.type=\"POST\",t.ajax(e)},t.getJSON=function(){var e=j.apply(null,arguments);return e.dataType=\"json\",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var s,r=this,a=e.split(/\\s/),u=j(e,n,i),f=u.success;return a.length>1&&(u.url=a[0],s=a[1]),u.success=function(e){r.html(s?t(\"<div>\").html(e.replace(o,\"\")).find(s):e),f&&f.apply(r,arguments)},t.ajax(u),this};var S=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=\"\"),this.push(S(e)+\"=\"+S(n))},C(i,e,n),i.join(\"&\").replace(/%20/g,\"+\")}}(Zepto),function(t){function l(t){return t._zid||(t._zid=e++)}function h(t,e,n,i){if(e=p(e),e.ns)var r=d(e.ns);return(a[l(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||r.test(t.ns))&&(!n||l(t.fn)===l(n))&&(!i||t.sel==i)})}function p(t){var e=(\"\"+t).split(\".\");return{e:e[0],ns:e.slice(1).sort().join(\" \")}}function d(t){return new RegExp(\"(?:^| )\"+t.replace(\" \",\" .* ?\")+\"(?: |$)\")}function m(t,e){return t.del&&!u&&t.e in f||!!e}function g(t){return c[t]||u&&f[t]||t}function v(e,i,r,o,s,u,f){var h=l(e),d=a[h]||(a[h]=[]);i.split(/\\s/).forEach(function(i){if(\"ready\"==i)return t(document).ready(r);var a=p(i);a.fn=r,a.sel=s,a.e in c&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=u;var l=u||r;a.proxy=function(t){if(t=T(t),!t.isImmediatePropagationStopped()){t.data=o;var i=l.apply(e,t._args==n?[t]:[t].concat(t._args));return i===!1&&(t.preventDefault(),t.stopPropagation()),i}},a.i=d.length,d.push(a),\"addEventListener\"in e&&e.addEventListener(g(a.e),a.proxy,m(a,f))})}function y(t,e,n,i,r){var o=l(t);(e||\"\").split(/\\s/).forEach(function(e){h(t,e,n,i).forEach(function(e){delete a[o][e.i],\"removeEventListener\"in t&&t.removeEventListener(g(e.e),e.proxy,m(e,r))})})}function T(e,i){return(i||!e.isDefaultPrevented)&&(i||(i=e),t.each(E,function(t,n){var r=i[t];e[t]=function(){return this[n]=x,r&&r.apply(i,arguments)},e[n]=w}),(i.defaultPrevented!==n?i.defaultPrevented:\"returnValue\"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function j(t){var e,i={originalEvent:t};for(e in t)b.test(e)||t[e]===n||(i[e]=t[e]);return T(i,t)}var n,e=1,i=Array.prototype.slice,r=t.isFunction,o=function(t){return\"string\"==typeof t},a={},s={},u=\"onfocusin\"in window,f={focus:\"focusin\",blur:\"focusout\"},c={mouseenter:\"mouseover\",mouseleave:\"mouseout\"};s.click=s.mousedown=s.mouseup=s.mousemove=\"MouseEvents\",t.event={add:v,remove:y},t.proxy=function(e,n){var a=2 in arguments&&i.call(arguments,2);if(r(e)){var s=function(){return e.apply(n,a?a.concat(i.call(arguments)):arguments)};return s._zid=l(e),s}if(o(n))return a?(a.unshift(e[n],e),t.proxy.apply(null,a)):t.proxy(e[n],e);throw new TypeError(\"expected function\")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},w=function(){return!1},b=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:\"isDefaultPrevented\",stopImmediatePropagation:\"isImmediatePropagationStopped\",stopPropagation:\"isPropagationStopped\"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,a,s,u,f){var c,l,h=this;return e&&!o(e)?(t.each(e,function(t,e){h.on(t,a,s,e,f)}),h):(o(a)||r(u)||u===!1||(u=s,s=a,a=n),(u===n||s===!1)&&(u=s,s=n),u===!1&&(u=w),h.each(function(n,r){f&&(c=function(t){return y(r,t.type,u),u.apply(this,arguments)}),a&&(l=function(e){var n,o=t(e.target).closest(a,r).get(0);return o&&o!==r?(n=t.extend(j(e),{currentTarget:o,liveFired:r}),(c||u).apply(o,[n].concat(i.call(arguments,1)))):void 0}),v(r,e,u,s,a,l||c)}))},t.fn.off=function(e,i,a){var s=this;return e&&!o(e)?(t.each(e,function(t,e){s.off(t,i,e)}),s):(o(i)||r(a)||a===!1||(a=i,i=n),a===!1&&(a=w),s.each(function(){y(this,e,a,i)}))},t.fn.trigger=function(e,n){return e=o(e)||t.isPlainObject(e)?t.Event(e):T(e),e._args=n,this.each(function(){e.type in f&&\"function\"==typeof this[e.type]?this[e.type]():\"dispatchEvent\"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,r;return this.each(function(a,s){i=j(o(e)?t.Event(e):e),i._args=n,i.target=s,t.each(h(s,e.type||e),function(t,e){return r=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),r},\"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error\".split(\" \").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){o(t)||(e=t,t=e.type);var n=document.createEvent(s[t]||\"Events\"),i=!0;if(e)for(var r in e)\"bubbles\"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),T(n)}}(Zepto),function(t){function a(o,a){var u=o[r],f=u&&e[u];if(void 0===a)return f||s(o);if(f){if(a in f)return f[a];var c=i(a);if(c in f)return f[c]}return n.call(t(o),a)}function s(n,o,a){var s=n[r]||(n[r]=++t.uuid),f=e[s]||(e[s]=u(n));return void 0!==o&&(f[i(o)]=a),f}function u(e){var n={};return t.each(e.attributes||o,function(e,r){0==r.name.indexOf(\"data-\")&&(n[i(r.name.replace(\"data-\",\"\"))]=t.zepto.deserializeValue(r.value))}),n}var e={},n=t.fn.data,i=t.camelCase,r=t.expando=\"Zepto\"+ +new Date,o=[];t.fn.data=function(e,n){return void 0===n?t.isPlainObject(e)?this.each(function(n,i){t.each(e,function(t,e){s(i,t,e)})}):0 in this?a(this[0],e):void 0:this.each(function(){s(this,e,n)})},t.fn.removeData=function(n){return\"string\"==typeof n&&(n=n.split(/\\s+/)),this.each(function(){var o=this[r],a=o&&e[o];a&&t.each(n||a,function(t){delete a[n?i(this):t]})})},[\"remove\",\"empty\"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find(\"*\");return\"remove\"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&\"fieldset\"!=o.nodeName.toLowerCase()&&!o.disabled&&\"submit\"!=n&&\"reset\"!=n&&\"button\"!=n&&\"file\"!=n&&(\"radio\"!=n&&\"checkbox\"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+\"=\"+encodeURIComponent(e.value))}),t.join(\"&\")},t.fn.submit=function(e){if(0 in arguments)this.bind(\"submit\",e);else if(this.length){var n=t.Event(\"submit\");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){function u(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?\"Left\":\"Right\":n-i>0?\"Up\":\"Down\"}function f(){o=null,e.last&&(e.el.trigger(\"longTap\"),e={})}function c(){o&&clearTimeout(o),o=null}function l(){n&&clearTimeout(n),i&&clearTimeout(i),r&&clearTimeout(r),o&&clearTimeout(o),n=i=r=o=null,e={}}function h(t){return(\"touch\"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function p(t,e){return t.type==\"pointer\"+e||t.type.toLowerCase()==\"mspointer\"+e}var n,i,r,o,s,e={},a=750;t(document).ready(function(){var d,m,y,x,g=0,v=0;\"MSGesture\"in window&&(s=new MSGesture,s.target=document.body),t(document).bind(\"MSGestureEnd\",function(t){var n=t.velocityX>1?\"Right\":t.velocityX<-1?\"Left\":t.velocityY>1?\"Down\":t.velocityY<-1?\"Up\":null;n&&(e.el.trigger(\"swipe\"),e.el.trigger(\"swipe\"+n))}).on(\"touchstart MSPointerDown pointerdown\",function(i){(!(x=p(i,\"down\"))||h(i))&&(y=x?i:i.touches[0],i.touches&&1===i.touches.length&&e.x2&&(e.x2=void 0,e.y2=void 0),d=Date.now(),m=d-(e.last||d),e.el=t(\"tagName\"in y.target?y.target:y.target.parentNode),n&&clearTimeout(n),e.x1=y.pageX,e.y1=y.pageY,m>0&&250>=m&&(e.isDoubleTap=!0),e.last=d,o=setTimeout(f,a),s&&x&&s.addPointer(i.pointerId))}).on(\"touchmove MSPointerMove pointermove\",function(t){(!(x=p(t,\"move\"))||h(t))&&(y=x?t:t.touches[0],c(),e.x2=y.pageX,e.y2=y.pageY,g+=Math.abs(e.x1-e.x2),v+=Math.abs(e.y1-e.y2))}).on(\"touchend MSPointerUp pointerup\",function(o){(!(x=p(o,\"up\"))||h(o))&&(c(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?r=setTimeout(function(){e.el.trigger(\"swipe\"),e.el.trigger(\"swipe\"+u(e.x1,e.x2,e.y1,e.y2)),e={}},0):\"last\"in e&&(30>g&&30>v?i=setTimeout(function(){var i=t.Event(\"tap\");i.cancelTouch=l,e.el.trigger(i),e.isDoubleTap?(e.el&&e.el.trigger(\"doubleTap\"),e={}):n=setTimeout(function(){n=null,e.el&&e.el.trigger(\"singleTap\"),e={}},250)},0):e={}),g=v=0)}).on(\"touchcancel MSPointerCancel pointercancel\",l),t(window).on(\"scroll\",l)}),[\"swipe\",\"swipeLeft\",\"swipeRight\",\"swipeUp\",\"swipeDown\",\"doubleTap\",\"tap\",\"singleTap\",\"longTap\"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),function(t,e){function v(t){return t.replace(/([a-z])([A-Z])/,\"$1-$2\").toLowerCase()}function y(t){return i?i+t:t.toLowerCase()}var i,s,u,f,c,l,h,p,d,m,n=\"\",r={Webkit:\"webkit\",Moz:\"\",O:\"o\"},o=document.createElement(\"div\"),a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g={};t.each(r,function(t,r){return o.style[t+\"TransitionProperty\"]!==e?(n=\"-\"+t.toLowerCase()+\"-\",i=r,!1):void 0}),s=n+\"transform\",g[u=n+\"transition-property\"]=g[f=n+\"transition-duration\"]=g[l=n+\"transition-delay\"]=g[c=n+\"transition-timing-function\"]=g[h=n+\"animation-name\"]=g[p=n+\"animation-duration\"]=g[m=n+\"animation-delay\"]=g[d=n+\"animation-timing-function\"]=\"\",t.fx={off:i===e&&o.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:y(\"TransitionEnd\"),animationEnd:y(\"AnimationEnd\")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=(\"number\"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(n,i,r,o,y){var x,b,j,w={},E=\"\",T=this,S=t.fx.transitionEnd,C=!1;if(i===e&&(i=t.fx.speeds._default/1e3),y===e&&(y=0),t.fx.off&&(i=0),\"string\"==typeof n)w[h]=n,w[p]=i+\"s\",w[m]=y+\"s\",w[d]=r||\"linear\",S=t.fx.animationEnd;else{b=[];for(x in n)a.test(x)?E+=x+\"(\"+n[x]+\") \":(w[x]=n[x],b.push(v(x)));E&&(w[s]=E,b.push(s)),i>0&&\"object\"==typeof n&&(w[u]=b.join(\", \"),w[f]=i+\"s\",w[l]=y+\"s\",w[c]=r||\"linear\")}return j=function(e){if(\"undefined\"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(S,j)}else t(this).unbind(S,j);C=!0,t(this).css(g),o&&o.call(this)},i>0&&(this.bind(S,j),setTimeout(function(){C||j.call(T)},1e3*(i+y)+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=i&&setTimeout(function(){T.each(function(){j.call(this)})},0),this},o=null}(Zepto),function(t,e){function s(n,i,r,o,a){\"function\"!=typeof i||a||(a=i,i=e);var s={opacity:r};return o&&(s.scale=o,n.css(t.fx.cssPrefix+\"transform-origin\",\"0 0\")),n.animate(s,i,null,a)}function u(e,n,i,r){return s(e,n,0,i,function(){o.call(t(this)),r&&r.call(this)})}var n=window.document,r=(n.documentElement,t.fn.show),o=t.fn.hide,a=t.fn.toggle;t.fn.show=function(t,n){return r.call(this),t===e?t=0:this.css(\"opacity\",0),s(this,t,1,\"1,1\",n)},t.fn.hide=function(t,n){return t===e?o.call(this):u(this,t,\"0,0\",n)},t.fn.toggle=function(n,i){return n===e||\"boolean\"==typeof n?a.call(this,n):this.each(function(){var e=t(this);e[\"none\"==e.css(\"display\")?\"show\":\"hide\"](n,i)})},t.fn.fadeTo=function(t,e,n){return s(this,t,e,null,n)},t.fn.fadeIn=function(t,e){var n=this.css(\"opacity\");return n>0?this.css(\"opacity\",0):n=1,r.call(this).fadeTo(t,n,e)},t.fn.fadeOut=function(t,e){return u(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each(function(){var i=t(this);i[0==i.css(\"opacity\")||\"none\"==i.css(\"display\")?\"fadeIn\":\"fadeOut\"](e,n)})}}(Zepto);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvemVwdG8ubWluLmpzPzY0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixjQUFjLGdEQUFnRCxjQUFjLHVCQUF1QixjQUFjLDRCQUE0QixjQUFjLDRDQUE0QyxjQUFjLHFCQUFxQixjQUFjLCtEQUErRCxjQUFjLGdDQUFnQyxjQUFjLDRCQUE0QixlQUFlLEVBQUUsY0FBYyw0Q0FBNEMsY0FBYywwSUFBMEksY0FBYywwREFBMEQsZ0JBQWdCLDJDQUEyQyxjQUFjLFFBQVEsOEtBQThLLGNBQWMsdUVBQXVFLDhCQUE4QixFQUFFLGdCQUFnQixxQkFBcUIsUUFBUSxJQUFJLGlCQUFpQixrQ0FBa0Msa0JBQWtCLDZEQUE2RCxxRUFBcUUsZ0JBQWdCLG1DQUFtQyxvQkFBb0IsNEJBQTRCLGtCQUFrQixpREFBaUQsZ0JBQWdCLHlDQUF5Qyw2REFBNkQsY0FBYyxJQUFJLHFFQUFxRSwrQkFBK0IsU0FBUyxVQUFVLGdCQUFnQixLQUFLLGtDQUFrQyxJQUFJLHlCQUF5QiwyRUFBMkUsS0FBSyxJQUFJLHdGQUF3RixrVUFBa1UseUZBQXlGLGtEQUFrRCxrQkFBa0IsNkJBQTZCLHNRQUFzUSw4QkFBOEIsMkJBQTJCLCtCQUErQixtQ0FBbUMsMkZBQTJGLHdCQUF3QiwwQkFBMEIsOEVBQThFLGVBQWUseUNBQXlDLDRCQUE0QixFQUFFLGVBQWUsOEJBQThCLHVCQUF1QixFQUFFLDRCQUE0QixVQUFVLGlOQUFpTixvQkFBb0Isd0NBQXdDLG9DQUFvQyxLQUFLLG1CQUFtQixrQkFBa0IsbUJBQW1CLHdCQUF3QixzQkFBc0IsTUFBTSxtQkFBbUIsNEZBQTRGLEtBQUssNkJBQTZCLGFBQWEsS0FBSyw2QkFBNkIscUJBQXFCLGVBQWUsMEJBQTBCLDREQUE0RCxLQUFLLDZCQUE2QixjQUFjLGdCQUFnQixpQkFBaUIsbUJBQW1CLHNCQUFzQiw0QkFBNEIsbUVBQW1FLFNBQVMsSUFBSSxxQkFBcUIsa0VBQWtFLHNPQUFzTyxxREFBcUQsNEJBQTRCLGVBQWUsS0FBSyxvQkFBb0IsbUJBQW1CLFNBQVMsZ0dBQWdHLE1BQU0sb0JBQW9CLFNBQVMsMkJBQTJCLDZCQUE2QixrQ0FBa0MsZ0RBQWdELHNCQUFzQixVQUFVLG9CQUFvQixxQkFBcUIsZUFBZSxnQkFBZ0IsV0FBVyxtQ0FBbUMsK0NBQStDLFlBQVksc0JBQXNCLFFBQVEsU0FBUyxRQUFRLFdBQVcseUNBQXlDLHFEQUFxRCxTQUFTLHNCQUFzQixtQkFBbUIsdUlBQXVJLG9DQUFvQyxRQUFRLHVJQUF1SSxhQUFhLFFBQVEsbUJBQW1CLCtDQUErQyxrREFBa0QsaUJBQWlCLGtDQUFrQyxxQkFBcUIsR0FBRyxrQkFBa0Isa0NBQWtDLG1CQUFtQiwwRkFBMEYsS0FBSyxVQUFVLGlCQUFpQixxREFBcUQsb0JBQW9CLGtCQUFrQixpQkFBaUIsbUJBQW1CLG1CQUFtQiw0QkFBNEIseURBQXlELEVBQUUsa0JBQWtCLHVDQUF1QywwQkFBMEIsT0FBTyxvQkFBb0IsNERBQTRELHNCQUFzQixHQUFHLG1CQUFtQixpQ0FBaUMsZ0JBQWdCLDJDQUEyQyxpQkFBaUIsU0FBUywwQ0FBMEMsNkJBQTZCLEVBQUUsS0FBSyx1RUFBdUUseUJBQXlCLDBCQUEwQixFQUFFLFlBQVksaUJBQWlCLDhCQUE4QixzREFBc0QsRUFBRSxnQkFBZ0IsOENBQThDLGtCQUFrQixjQUFjLHVCQUF1QixpQkFBaUIsMEJBQTBCLHVCQUF1QixrQkFBa0IsYUFBYSxxREFBcUQsV0FBVyxpQ0FBaUMsdUJBQXVCLEVBQUUseURBQXlELHFCQUFxQixNQUFNLHVCQUF1QixtQkFBbUIsaUNBQWlDLHVDQUF1Qyw4QkFBOEIsWUFBWSxxQkFBcUIsb0JBQW9CLFdBQVcsdUJBQXVCLG1FQUFtRSxFQUFFLGNBQWMsb0JBQW9CLHdDQUF3QyxzQkFBc0IsNkJBQTZCLGVBQWUsS0FBSyxxQkFBcUIsMkJBQTJCLHFEQUFxRCxFQUFFLHNCQUFzQixnQ0FBZ0MsMENBQTBDLGFBQWEsRUFBRSxLQUFLLGtCQUFrQiw0QkFBNEIsa0JBQWtCLEVBQUUsbUJBQW1CLDhCQUE4QixZQUFZLEVBQUUsaUJBQWlCLDRCQUE0Qix5SkFBeUosRUFBRSx5QkFBeUIsK0JBQStCLGtCQUFrQixXQUFXLCtEQUErRCw2QkFBNkIsc0RBQXNELEVBQUUscUJBQXFCLFlBQVksMEJBQTBCLFVBQVUsd0JBQXdCLGFBQWEsa0JBQWtCLFlBQVksdUJBQXVCLFdBQVcsNkJBQTZCLGtEQUFrRCxrQ0FBa0MsRUFBRSxtQkFBbUIscUNBQXFDLHdDQUF3QyxPQUFPLGtCQUFrQiwyQkFBMkIsMEJBQTBCLEVBQUUsaUJBQWlCLGtDQUFrQyxvQkFBb0IsNEJBQTRCLGNBQWMscURBQXFELEVBQUUsa0JBQWtCLDhEQUE4RCxrQkFBa0IsMERBQTBELGtCQUFrQiw0Q0FBNEMscUJBQXFCLHNDQUFzQyxtQ0FBbUMsa0JBQWtCLDRDQUE0QyxtQ0FBbUMsaUNBQWlDLHFDQUFxQyxvQkFBb0IsTUFBTSwrREFBK0QsdURBQXVELGdEQUFnRCw4RkFBOEYsd0JBQXdCLDRCQUE0QixvREFBb0QsVUFBVSxPQUFPLEVBQUUsb0JBQW9CLHNEQUFzRCw0QkFBNEIsc0JBQXNCLG9CQUFvQiw0RkFBNEYsdUJBQXVCLGlCQUFpQiw0Q0FBNEMsa0NBQWtDLHlFQUF5RSxxQkFBcUIsZ0NBQWdDLG9CQUFvQixrQ0FBa0Msc0VBQXNFLG9DQUFvQyw4REFBOEQsRUFBRSw0QkFBNEIsaURBQWlELGNBQWMsc0NBQXNDLE9BQU8sbUhBQW1ILG1CQUFtQix1QkFBdUIsZ0JBQWdCLGFBQWEsMkZBQTJGLFNBQVMsU0FBUyw4QkFBOEIsMENBQTBDLEtBQUssU0FBUyxrRUFBa0UsZ0NBQWdDLEVBQUUsdURBQXVELHVCQUF1QixnQ0FBZ0MsRUFBRSw0QkFBNEIsc0JBQXNCLElBQUksRUFBRSxtQkFBbUIseUVBQXlFLHNCQUFzQixzQ0FBc0MsdUJBQXVCLFVBQVUsc0JBQXNCLCtCQUErQix1QkFBdUIsS0FBSyw4QkFBOEIsb0NBQW9DLCtCQUErQixtREFBbUQsT0FBTyx5QkFBeUIsNkJBQTZCLHVCQUF1QiwyQkFBMkIsMERBQTBELHNCQUFzQixvQkFBb0IsRUFBRSwyQkFBMkIsK0JBQStCLG9DQUFvQyxvQ0FBb0Msd0RBQXdELEVBQUUsT0FBTyx1QkFBdUIsZ0JBQWdCLDRCQUE0Qiw0RUFBNEUsaUJBQWlCLFlBQVksOEJBQThCLEdBQUcsd0JBQXdCLGdCQUFnQiw2QkFBNkIsNkVBQTZFLGtCQUFrQixZQUFZLDhCQUE4QixHQUFHLHFCQUFxQixnQkFBZ0IsNkVBQTZFLGFBQWEsWUFBWSxrTkFBa04scUNBQXFDLHlCQUF5QiwyQkFBMkIsb0NBQW9DLHVEQUF1RCxrQkFBa0IsU0FBUyxHQUFHLGdFQUFnRSxnQ0FBZ0MsMEJBQTBCLEVBQUUsb0JBQW9CLGdCQUFnQixnSEFBZ0gsc0NBQXNDLEdBQUcsMEJBQTBCLFVBQVUsbUJBQW1CLHNDQUFzQywrREFBK0Qsa0JBQWtCLCtDQUErQyxzRUFBc0Usc0NBQXNDLHNCQUFzQix1QkFBdUIsZ0NBQWdDLHVDQUF1Qyx1SUFBdUksRUFBRSxFQUFFLEVBQUUsMERBQTBELDJCQUEyQiwyRUFBMkUsR0FBRyxtRUFBbUUsa0JBQWtCLGlCQUFpQixpREFBaUQsb0JBQW9CLG1DQUFtQyxjQUFjLGdEQUFnRCxjQUFjLDRDQUE0QyxnQkFBZ0IsZ0JBQWdCLHlHQUF5RyxvQkFBb0IsNEJBQTRCLDBGQUEwRixzQkFBc0IsZ0JBQWdCLHdGQUF3RixrQkFBa0IsZ0JBQWdCLHdEQUF3RCxjQUFjLGNBQWMsdUJBQXVCLGtGQUFrRixnQkFBZ0Isc0NBQXNDLElBQUksT0FBTyxjQUFjLDRLQUE0SyxvQkFBb0IsNEVBQTRFLG1DQUFtQyxvQkFBb0IsMENBQTBDLHVCQUF1QixpSkFBaUosRUFBRSxpT0FBaU8saUVBQWlFLGtDQUFrQyx3SEFBd0gsd0NBQXdDLElBQUksU0FBUywwREFBMEQsaUpBQWlKLG1EQUFtRCxZQUFZLHVHQUF1RyxhQUFhLGdCQUFnQixpQkFBaUIsMkZBQTJGLGlDQUFpQyxVQUFVLDJJQUEySSxrREFBa0Qsb0JBQW9CLHFCQUFxQixNQUFNLDZCQUE2QixnRUFBZ0Usd09BQXdPLHlDQUF5QyxzTkFBc04seUJBQXlCLGlCQUFpQix5QkFBeUIsa0dBQWtHLG9ZQUFvWSx3REFBd0Qsb0JBQW9CLHVDQUF1QyxXQUFXLHdFQUF3RSx5RUFBeUUsSUFBSSw4RkFBOEYsU0FBUyxJQUFJLHNDQUFzQywyREFBMkQsc0RBQXNELHdEQUF3RCw2QkFBNkIsNkNBQTZDLDJCQUEyQiw2Q0FBNkMseURBQXlELDBDQUEwQyxrQkFBa0IsdUNBQXVDLG1CQUFtQiw4QkFBOEIsK0JBQStCLHNCQUFzQiw4QkFBOEIsbUNBQW1DLDJCQUEyQiw0QkFBNEIsb0RBQW9ELDZEQUE2RCw2RUFBNkUsaUJBQWlCLHlCQUF5QixzQkFBc0IsU0FBUywyQkFBMkIsa0VBQWtFLDJDQUEyQyxvQkFBb0IsY0FBYyw0QkFBNEIsb0JBQW9CLDZCQUE2Qix1Q0FBdUMsd0ZBQXdGLEVBQUUsY0FBYyx3QkFBd0IsT0FBTyx1Q0FBdUMsY0FBYyw4REFBOEQsZ0JBQWdCLGdDQUFnQyxjQUFjLHdCQUF3QiwwQkFBMEIsNkJBQTZCLGtDQUFrQywwQ0FBMEMsV0FBVyx3Q0FBd0Msc0JBQXNCLDBFQUEwRSxVQUFVLFdBQVcsb0JBQW9CLDhDQUE4QyxTQUFTLG9EQUFvRCwyREFBMkQsMEZBQTBGLEVBQUUsc0JBQXNCLFdBQVcsd0NBQXdDLCtCQUErQix5RkFBeUYsRUFBRSxFQUFFLGdCQUFnQixtRUFBbUUsV0FBVyxnQkFBZ0IseUNBQXlDLFFBQVEsMkpBQTJKLGNBQWMsU0FBUyxpQkFBaUIsNENBQTRDLGNBQWMsK0RBQStELHlCQUF5QixLQUFLLEtBQUssMkJBQTJCLGdDQUFnQyxJQUFJLDhDQUE4QyxpRUFBaUUsZUFBZSx1QkFBdUIsMENBQTBDLFNBQVMsaUJBQWlCLDJEQUEyRCxxQkFBcUIsMkVBQTJFLHlDQUF5QywyQkFBMkIsc0JBQXNCLDJCQUEyQixxQkFBcUIsNEJBQTRCLDJCQUEyQixpQkFBaUIsU0FBUyxjQUFjLFNBQVMseUNBQXlDLHFJQUFxSSw4QkFBOEIsc0JBQXNCLGlDQUFpQyx1QkFBdUIseUJBQXlCLHlEQUF5RCx3QkFBd0IsMkRBQTJELDZCQUE2QixlQUFlLHdDQUF3QyxnQkFBZ0Isc0dBQXNHLGtCQUFrQiw2Q0FBNkMsb0JBQW9CLHdDQUF3QyxrQ0FBa0MsNEJBQTRCLDBEQUEwRCxvQkFBb0IsR0FBRywwQkFBMEIsV0FBVyx3Q0FBd0MsYUFBYSxvRUFBb0UsY0FBYyxHQUFHLDRCQUE0QixpRkFBaUYscUlBQXFJLEVBQUUsbUNBQW1DLFFBQVEsK0JBQStCLGdGQUFnRixnRUFBZ0UsRUFBRSxJQUFJLHVOQUF1TixvQkFBb0Isc0RBQXNELHdCQUF3QixxQkFBcUIsZ0RBQWdELG9EQUFvRCxpQ0FBaUMsb0JBQW9CLGdCQUFnQixxQkFBcUIsNkJBQTZCLE1BQU0sc0JBQXNCLFdBQVcsc0JBQXNCLHNCQUFzQixrQkFBa0IsZ0RBQWdELGlDQUFpQyxjQUFjLFNBQVMsNENBQTRDLGlHQUFpRyxJQUFJLFFBQVEsK0RBQStELHdCQUF3Qiw2REFBNkQsdUJBQXVCLFNBQVMsRUFBRSxxREFBcUQsWUFBWSxFQUFFLDZCQUE2QixrRUFBa0Usd0JBQXdCLDJCQUEyQixzQkFBc0IsRUFBRSxFQUFFLHdDQUF3QyxjQUFjLG1CQUFtQixxQkFBcUIsaUVBQWlFLEVBQUUsb0JBQW9CLCtCQUErQiwyQkFBMkIsMkNBQTJDLGVBQWUsR0FBRyxzREFBc0QsK0tBQStLLElBQUksMkJBQTJCLFNBQVMsaURBQWlELG1FQUFtRSxjQUFjLHlCQUF5Qix3Q0FBd0MscUJBQXFCLHdCQUF3QixtRUFBbUUsYUFBYSxvQkFBb0Isb0JBQW9CLDJFQUEyRSxhQUFhLDRDQUE0QyxFQUFFLGFBQWEsMEJBQTBCLGFBQWEsOEZBQThGLGNBQWMsbUZBQW1GLGdCQUFnQixnRUFBZ0Usa0JBQWtCLE9BQU8sNkJBQTZCLG9CQUFvQiwyR0FBMkcsZ0dBQWdHLG1EQUFtRCx3REFBd0QsK1VBQStVLHVEQUF1RCwySEFBMkgsa0RBQWtELGdIQUFnSCx3RUFBd0Usb0RBQW9ELHFCQUFxQixtRkFBbUYsMEJBQTBCLDRDQUE0QyxNQUFNLFFBQVEsU0FBUyw2RUFBNkUsdUhBQXVILG9CQUFvQixxQkFBcUIsRUFBRSxzQkFBc0IsY0FBYyx5REFBeUQsY0FBYyw2QkFBNkIsZ0NBQWdDLDZCQUE2QixzSEFBc0gsdUJBQXVCLHFGQUFxRixtUUFBbVEsa0RBQWtELCtCQUErQiw2RUFBNkUsa0NBQWtDLDJQQUEyUCwrQkFBK0IsY0FBYyx1Q0FBdUMseUpBQXlKLEtBQUssS0FBSyxpRUFBaUUsMEdBQTBHLHFCQUFxQiwwQkFBMEIscUNBQXFDLHdCQUF3Qix5QkFBeUIsb0NBQW9DLDRDQUE0QyxhQUFhLDRGQUE0RixrQkFBa0IsYUFBYSxFQUFFLFNBQVMsUUFBUSxzQkFBc0Isc0JBQXNCLG1DQUFtQyxPQUFPLFdBQVcsMkZBQTJGLG9CQUFvQiw0QkFBNEIsZ0NBQWdDLEVBQUUsZ0ZBQWdGLHdCQUF3Qix3RUFBd0UseUJBQXlCLDRDQUE0QywyQkFBMkIsc0VBQXNFLGNBQWMsK0NBQStDLEVBQUUsNkJBQTZCLDBCQUEwQiwyQkFBMkIsMEJBQTBCLGdFQUFnRSw0QkFBNEIsd0JBQXdCLCtCQUErQiw0QkFBNEIsY0FBYyx5RUFBeUUsR0FBRyIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xudmFyIGRlZmluZSA9IGZhbHNlO1xuXG4vKiBaZXB0byAxLjEuNiAtIHplcHRvIGFqYXggZXZlbnQgZGF0YSBmb3JtIHRvdWNoIGZ4IGZ4X21ldGhvZHMgLSB6ZXB0b2pzLmNvbS9saWNlbnNlICovXG52YXIgWmVwdG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBMKHQpe3JldHVybiBudWxsPT10P1N0cmluZyh0KTpqW1MuY2FsbCh0KV18fFwib2JqZWN0XCJ9ZnVuY3Rpb24gQSh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PUwodCl9ZnVuY3Rpb24gWih0KXtyZXR1cm4gbnVsbCE9dCYmdD09dC53aW5kb3d9ZnVuY3Rpb24gJCh0KXtyZXR1cm4gbnVsbCE9dCYmdC5ub2RlVHlwZT09dC5ET0NVTUVOVF9OT0RFfWZ1bmN0aW9uIFIodCl7cmV0dXJuXCJvYmplY3RcIj09TCh0KX1mdW5jdGlvbiBrKHQpe3JldHVybiBSKHQpJiYhWih0KSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT1PYmplY3QucHJvdG90eXBlfWZ1bmN0aW9uIHoodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RofWZ1bmN0aW9uIEYodCl7cmV0dXJuIGEuY2FsbCh0LGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10fSl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdC5sZW5ndGg+MD9uLmZuLmNvbmNhdC5hcHBseShbXSx0KTp0fWZ1bmN0aW9uIEkodCl7cmV0dXJuIHQucmVwbGFjZSgvOjovZyxcIi9cIikucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZyxcIiQxXyQyXCIpLnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csXCIkMV8kMlwiKS5yZXBsYWNlKC9fL2csXCItXCIpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gcSh0KXtyZXR1cm4gdCBpbiBjP2NbdF06Y1t0XT1uZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrdCtcIihcXFxcc3wkKVwiKX1mdW5jdGlvbiBIKHQsZSl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGV8fGxbSSh0KV0/ZTplK1wicHhcIn1mdW5jdGlvbiBVKHQpe3ZhciBlLG47cmV0dXJuIGZbdF18fChlPXUuY3JlYXRlRWxlbWVudCh0KSx1LmJvZHkuYXBwZW5kQ2hpbGQoZSksbj1nZXRDb21wdXRlZFN0eWxlKGUsXCJcIikuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIiksZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLFwibm9uZVwiPT1uJiYobj1cImJsb2NrXCIpLGZbdF09biksZlt0XX1mdW5jdGlvbiBYKHQpe3JldHVyblwiY2hpbGRyZW5cImluIHQ/cy5jYWxsKHQuY2hpbGRyZW4pOm4ubWFwKHQuY2hpbGROb2RlcyxmdW5jdGlvbih0KXtyZXR1cm4gMT09dC5ub2RlVHlwZT90OnZvaWQgMH0pfWZ1bmN0aW9uIFYodCxlKXt2YXIgbixpPXQ/dC5sZW5ndGg6MDtmb3Iobj0wO2k+bjtuKyspdGhpc1tuXT10W25dO3RoaXMubGVuZ3RoPWksdGhpcy5zZWxlY3Rvcj1lfHxcIlwifWZ1bmN0aW9uIEIobixpLHIpe2ZvcihlIGluIGkpciYmKGsoaVtlXSl8fEQoaVtlXSkpPyhrKGlbZV0pJiYhayhuW2VdKSYmKG5bZV09e30pLEQoaVtlXSkmJiFEKG5bZV0pJiYobltlXT1bXSksQihuW2VdLGlbZV0scikpOmlbZV0hPT10JiYobltlXT1pW2VdKX1mdW5jdGlvbiBZKHQsZSl7cmV0dXJuIG51bGw9PWU/bih0KTpuKHQpLmZpbHRlcihlKX1mdW5jdGlvbiBKKHQsZSxuLGkpe3JldHVybiBBKGUpP2UuY2FsbCh0LG4saSk6ZX1mdW5jdGlvbiBXKHQsZSxuKXtudWxsPT1uP3QucmVtb3ZlQXR0cmlidXRlKGUpOnQuc2V0QXR0cmlidXRlKGUsbil9ZnVuY3Rpb24gRyhlLG4pe3ZhciBpPWUuY2xhc3NOYW1lfHxcIlwiLHI9aSYmaS5iYXNlVmFsIT09dDtyZXR1cm4gbj09PXQ/cj9pLmJhc2VWYWw6aTp2b2lkKHI/aS5iYXNlVmFsPW46ZS5jbGFzc05hbWU9bil9ZnVuY3Rpb24gSyh0KXt0cnl7cmV0dXJuIHQ/XCJ0cnVlXCI9PXR8fChcImZhbHNlXCI9PXQ/ITE6XCJudWxsXCI9PXQ/bnVsbDordCtcIlwiPT10Pyt0Oi9eW1xcW1xce10vLnRlc3QodCk/bi5wYXJzZUpTT04odCk6dCk6dH1jYXRjaChlKXtyZXR1cm4gdH19ZnVuY3Rpb24gUSh0LGUpe2UodCk7Zm9yKHZhciBuPTAsaT10LmNoaWxkTm9kZXMubGVuZ3RoO2k+bjtuKyspUSh0LmNoaWxkTm9kZXNbbl0sZSl9dmFyIHQsZSxuLGksUCxOLHI9W10sbz1yLmNvbmNhdCxhPXIuZmlsdGVyLHM9ci5zbGljZSx1PXdpbmRvdy5kb2N1bWVudCxmPXt9LGM9e30sbD17XCJjb2x1bW4tY291bnRcIjoxLGNvbHVtbnM6MSxcImZvbnQtd2VpZ2h0XCI6MSxcImxpbmUtaGVpZ2h0XCI6MSxvcGFjaXR5OjEsXCJ6LWluZGV4XCI6MSx6b29tOjF9LGg9L15cXHMqPChcXHcrfCEpW14+XSo+LyxwPS9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyxkPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naSxtPS9eKD86Ym9keXxodG1sKSQvaSxnPS8oW0EtWl0pL2csdj1bXCJ2YWxcIixcImNzc1wiLFwiaHRtbFwiLFwidGV4dFwiLFwiZGF0YVwiLFwid2lkdGhcIixcImhlaWdodFwiLFwib2Zmc2V0XCJdLHk9W1wiYWZ0ZXJcIixcInByZXBlbmRcIixcImJlZm9yZVwiLFwiYXBwZW5kXCJdLHg9dS5jcmVhdGVFbGVtZW50KFwidGFibGVcIiksdz11LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxiPXt0cjp1LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSx0Ym9keTp4LHRoZWFkOngsdGZvb3Q6eCx0ZDp3LHRoOncsXCIqXCI6dS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpfSxFPS9jb21wbGV0ZXxsb2FkZWR8aW50ZXJhY3RpdmUvLFQ9L15bXFx3LV0qJC8saj17fSxTPWoudG9TdHJpbmcsQz17fSxPPXUuY3JlYXRlRWxlbWVudChcImRpdlwiKSxNPXt0YWJpbmRleDpcInRhYkluZGV4XCIscmVhZG9ubHk6XCJyZWFkT25seVwiLFwiZm9yXCI6XCJodG1sRm9yXCIsXCJjbGFzc1wiOlwiY2xhc3NOYW1lXCIsbWF4bGVuZ3RoOlwibWF4TGVuZ3RoXCIsY2VsbHNwYWNpbmc6XCJjZWxsU3BhY2luZ1wiLGNlbGxwYWRkaW5nOlwiY2VsbFBhZGRpbmdcIixyb3dzcGFuOlwicm93U3BhblwiLGNvbHNwYW46XCJjb2xTcGFuXCIsdXNlbWFwOlwidXNlTWFwXCIsZnJhbWVib3JkZXI6XCJmcmFtZUJvcmRlclwiLGNvbnRlbnRlZGl0YWJsZTpcImNvbnRlbnRFZGl0YWJsZVwifSxEPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXl9O3JldHVybiBDLm1hdGNoZXM9ZnVuY3Rpb24odCxlKXtpZighZXx8IXR8fDEhPT10Lm5vZGVUeXBlKXJldHVybiExO3ZhciBuPXQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHx0Lm1vek1hdGNoZXNTZWxlY3Rvcnx8dC5vTWF0Y2hlc1NlbGVjdG9yfHx0Lm1hdGNoZXNTZWxlY3RvcjtpZihuKXJldHVybiBuLmNhbGwodCxlKTt2YXIgaSxyPXQucGFyZW50Tm9kZSxvPSFyO3JldHVybiBvJiYocj1PKS5hcHBlbmRDaGlsZCh0KSxpPX5DLnFzYShyLGUpLmluZGV4T2YodCksbyYmTy5yZW1vdmVDaGlsZCh0KSxpfSxQPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLy0rKC4pPy9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/ZS50b1VwcGVyQ2FzZSgpOlwiXCJ9KX0sTj1mdW5jdGlvbih0KXtyZXR1cm4gYS5jYWxsKHQsZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5pbmRleE9mKGUpPT1ufSl9LEMuZnJhZ21lbnQ9ZnVuY3Rpb24oZSxpLHIpe3ZhciBvLGEsZjtyZXR1cm4gcC50ZXN0KGUpJiYobz1uKHUuY3JlYXRlRWxlbWVudChSZWdFeHAuJDEpKSksb3x8KGUucmVwbGFjZSYmKGU9ZS5yZXBsYWNlKGQsXCI8JDE+PC8kMj5cIikpLGk9PT10JiYoaT1oLnRlc3QoZSkmJlJlZ0V4cC4kMSksaSBpbiBifHwoaT1cIipcIiksZj1iW2ldLGYuaW5uZXJIVE1MPVwiXCIrZSxvPW4uZWFjaChzLmNhbGwoZi5jaGlsZE5vZGVzKSxmdW5jdGlvbigpe2YucmVtb3ZlQ2hpbGQodGhpcyl9KSksayhyKSYmKGE9bihvKSxuLmVhY2gocixmdW5jdGlvbih0LGUpe3YuaW5kZXhPZih0KT4tMT9hW3RdKGUpOmEuYXR0cih0LGUpfSkpLG99LEMuWj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVih0LGUpfSxDLmlzWj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEMuWn0sQy5pbml0PWZ1bmN0aW9uKGUsaSl7dmFyIHI7aWYoIWUpcmV0dXJuIEMuWigpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWlmKGU9ZS50cmltKCksXCI8XCI9PWVbMF0mJmgudGVzdChlKSlyPUMuZnJhZ21lbnQoZSxSZWdFeHAuJDEsaSksZT1udWxsO2Vsc2V7aWYoaSE9PXQpcmV0dXJuIG4oaSkuZmluZChlKTtyPUMucXNhKHUsZSl9ZWxzZXtpZihBKGUpKXJldHVybiBuKHUpLnJlYWR5KGUpO2lmKEMuaXNaKGUpKXJldHVybiBlO2lmKEQoZSkpcj1GKGUpO2Vsc2UgaWYoUihlKSlyPVtlXSxlPW51bGw7ZWxzZSBpZihoLnRlc3QoZSkpcj1DLmZyYWdtZW50KGUudHJpbSgpLFJlZ0V4cC4kMSxpKSxlPW51bGw7ZWxzZXtpZihpIT09dClyZXR1cm4gbihpKS5maW5kKGUpO3I9Qy5xc2EodSxlKX19cmV0dXJuIEMuWihyLGUpfSxuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEMuaW5pdCh0LGUpfSxuLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZSxuPXMuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB0JiYoZT10LHQ9bi5zaGlmdCgpKSxuLmZvckVhY2goZnVuY3Rpb24obil7Qih0LG4sZSl9KSx0fSxDLnFzYT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9XCIjXCI9PWVbMF0scj0haSYmXCIuXCI9PWVbMF0sbz1pfHxyP2Uuc2xpY2UoMSk6ZSxhPVQudGVzdChvKTtyZXR1cm4gdC5nZXRFbGVtZW50QnlJZCYmYSYmaT8obj10LmdldEVsZW1lbnRCeUlkKG8pKT9bbl06W106MSE9PXQubm9kZVR5cGUmJjkhPT10Lm5vZGVUeXBlJiYxMSE9PXQubm9kZVR5cGU/W106cy5jYWxsKGEmJiFpJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWU/cj90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobyk6dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTp0LnF1ZXJ5U2VsZWN0b3JBbGwoZSkpfSxuLmNvbnRhaW5zPXUuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPT1lJiZ0LmNvbnRhaW5zKGUpfTpmdW5jdGlvbih0LGUpe2Zvcig7ZSYmKGU9ZS5wYXJlbnROb2RlKTspaWYoZT09PXQpcmV0dXJuITA7cmV0dXJuITF9LG4udHlwZT1MLG4uaXNGdW5jdGlvbj1BLG4uaXNXaW5kb3c9WixuLmlzQXJyYXk9RCxuLmlzUGxhaW5PYmplY3Q9ayxuLmlzRW1wdHlPYmplY3Q9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdClyZXR1cm4hMTtyZXR1cm4hMH0sbi5pbkFycmF5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5pbmRleE9mLmNhbGwoZSx0LG4pfSxuLmNhbWVsQ2FzZT1QLG4udHJpbT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9cIlwiOlN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHQpfSxuLnV1aWQ9MCxuLnN1cHBvcnQ9e30sbi5leHByPXt9LG4ubm9vcD1mdW5jdGlvbigpe30sbi5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saT1bXTtpZih6KHQpKWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspbj1lKHRbcl0sciksbnVsbCE9biYmaS5wdXNoKG4pO2Vsc2UgZm9yKG8gaW4gdCluPWUodFtvXSxvKSxudWxsIT1uJiZpLnB1c2gobik7cmV0dXJuIF8oaSl9LG4uZWFjaD1mdW5jdGlvbih0LGUpe3ZhciBuLGk7aWYoeih0KSl7Zm9yKG49MDtuPHQubGVuZ3RoO24rKylpZihlLmNhbGwodFtuXSxuLHRbbl0pPT09ITEpcmV0dXJuIHR9ZWxzZSBmb3IoaSBpbiB0KWlmKGUuY2FsbCh0W2ldLGksdFtpXSk9PT0hMSlyZXR1cm4gdDtyZXR1cm4gdH0sbi5ncmVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEuY2FsbCh0LGUpfSx3aW5kb3cuSlNPTiYmKG4ucGFyc2VKU09OPUpTT04ucGFyc2UpLG4uZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24odCxlKXtqW1wiW29iamVjdCBcIitlK1wiXVwiXT1lLnRvTG93ZXJDYXNlKCl9KSxuLmZuPXtjb25zdHJ1Y3RvcjpDLlosbGVuZ3RoOjAsZm9yRWFjaDpyLmZvckVhY2gscmVkdWNlOnIucmVkdWNlLHB1c2g6ci5wdXNoLHNvcnQ6ci5zb3J0LHNwbGljZTpyLnNwbGljZSxpbmRleE9mOnIuaW5kZXhPZixjb25jYXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLG49W107Zm9yKHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWU9YXJndW1lbnRzW3RdLG5bdF09Qy5pc1ooZSk/ZS50b0FycmF5KCk6ZTtyZXR1cm4gby5hcHBseShDLmlzWih0aGlzKT90aGlzLnRvQXJyYXkoKTp0aGlzLG4pfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIG4obi5tYXAodGhpcyxmdW5jdGlvbihlLG4pe3JldHVybiB0LmNhbGwoZSxuLGUpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBuKHMuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0scmVhZHk6ZnVuY3Rpb24odCl7cmV0dXJuIEUudGVzdCh1LnJlYWR5U3RhdGUpJiZ1LmJvZHk/dChuKTp1LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZnVuY3Rpb24oKXt0KG4pfSwhMSksdGhpc30sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD9zLmNhbGwodGhpcyk6dGhpc1tlPj0wP2U6ZSt0aGlzLmxlbmd0aF19LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe251bGwhPXRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSl9LGVhY2g6ZnVuY3Rpb24odCl7cmV0dXJuIHIuZXZlcnkuY2FsbCh0aGlzLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY2FsbChlLG4sZSkhPT0hMX0pLHRoaXN9LGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gQSh0KT90aGlzLm5vdCh0aGlzLm5vdCh0KSk6bihhLmNhbGwodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gQy5tYXRjaGVzKGUsdCl9KSl9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiBuKE4odGhpcy5jb25jYXQobih0LGUpKSkpfSxpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZW5ndGg+MCYmQy5tYXRjaGVzKHRoaXNbMF0sdCl9LG5vdDpmdW5jdGlvbihlKXt2YXIgaT1bXTtpZihBKGUpJiZlLmNhbGwhPT10KXRoaXMuZWFjaChmdW5jdGlvbih0KXtlLmNhbGwodGhpcyx0KXx8aS5wdXNoKHRoaXMpfSk7ZWxzZXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLmZpbHRlcihlKTp6KGUpJiZBKGUuaXRlbSk/cy5jYWxsKGUpOm4oZSk7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuaW5kZXhPZih0KTwwJiZpLnB1c2godCl9KX1yZXR1cm4gbihpKX0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBSKHQpP24uY29udGFpbnModGhpcyx0KTpuKHRoaXMpLmZpbmQodCkuc2l6ZSgpfSl9LGVxOmZ1bmN0aW9uKHQpe3JldHVybi0xPT09dD90aGlzLnNsaWNlKHQpOnRoaXMuc2xpY2UodCwrdCsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzWzBdO3JldHVybiB0JiYhUih0KT90Om4odCl9LGxhc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzW3RoaXMubGVuZ3RoLTFdO3JldHVybiB0JiYhUih0KT90Om4odCl9LGZpbmQ6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzO3JldHVybiBlPXQ/XCJvYmplY3RcIj09dHlwZW9mIHQ/bih0KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiByLnNvbWUuY2FsbChpLGZ1bmN0aW9uKGUpe3JldHVybiBuLmNvbnRhaW5zKGUsdCl9KX0pOjE9PXRoaXMubGVuZ3RoP24oQy5xc2EodGhpc1swXSx0KSk6dGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gQy5xc2EodGhpcyx0KX0pOm4oKX0sY2xvc2VzdDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbMF0scj0hMTtmb3IoXCJvYmplY3RcIj09dHlwZW9mIHQmJihyPW4odCkpO2kmJiEocj9yLmluZGV4T2YoaSk+PTA6Qy5tYXRjaGVzKGksdCkpOylpPWkhPT1lJiYhJChpKSYmaS5wYXJlbnROb2RlO3JldHVybiBuKGkpfSxwYXJlbnRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPXRoaXM7aS5sZW5ndGg+MDspaT1uLm1hcChpLGZ1bmN0aW9uKHQpe3JldHVybih0PXQucGFyZW50Tm9kZSkmJiEkKHQpJiZlLmluZGV4T2YodCk8MD8oZS5wdXNoKHQpLHQpOnZvaWQgMH0pO3JldHVybiBZKGUsdCl9LHBhcmVudDpmdW5jdGlvbih0KXtyZXR1cm4gWShOKHRoaXMucGx1Y2soXCJwYXJlbnROb2RlXCIpKSx0KX0sY2hpbGRyZW46ZnVuY3Rpb24odCl7cmV0dXJuIFkodGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gWCh0aGlzKX0pLHQpfSxjb250ZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnREb2N1bWVudHx8cy5jYWxsKHRoaXMuY2hpbGROb2Rlcyl9KX0sc2libGluZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIFkodGhpcy5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gYS5jYWxsKFgoZS5wYXJlbnROb2RlKSxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KX0pLHQpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD1cIlwifSl9LHBsdWNrOmZ1bmN0aW9uKHQpe3JldHVybiBuLm1hcCh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlW3RdfSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XCJub25lXCI9PXRoaXMuc3R5bGUuZGlzcGxheSYmKHRoaXMuc3R5bGUuZGlzcGxheT1cIlwiKSxcIm5vbmVcIj09Z2V0Q29tcHV0ZWRTdHlsZSh0aGlzLFwiXCIpLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpJiYodGhpcy5zdHlsZS5kaXNwbGF5PVUodGhpcy5ub2RlTmFtZSkpfSl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJlZm9yZSh0KS5yZW1vdmUoKX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgZT1BKHQpO2lmKHRoaXNbMF0mJiFlKXZhciBpPW4odCkuZ2V0KDApLHI9aS5wYXJlbnROb2RlfHx0aGlzLmxlbmd0aD4xO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obyl7bih0aGlzKS53cmFwQWxsKGU/dC5jYWxsKHRoaXMsbyk6cj9pLmNsb25lTm9kZSghMCk6aSl9KX0sd3JhcEFsbDpmdW5jdGlvbih0KXtpZih0aGlzWzBdKXtuKHRoaXNbMF0pLmJlZm9yZSh0PW4odCkpO2Zvcih2YXIgZTsoZT10LmNoaWxkcmVuKCkpLmxlbmd0aDspdD1lLmZpcnN0KCk7bih0KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbih0KXt2YXIgZT1BKHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSl7dmFyIHI9bih0aGlzKSxvPXIuY29udGVudHMoKSxhPWU/dC5jYWxsKHRoaXMsaSk6dDtvLmxlbmd0aD9vLndyYXBBbGwoYSk6ci5hcHBlbmQoYSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24odGhpcykucmVwbGFjZVdpdGgobih0aGlzKS5jaGlsZHJlbigpKX0pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmVOb2RlKCEwKX0pfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpOyhlPT09dD9cIm5vbmVcIj09aS5jc3MoXCJkaXNwbGF5XCIpOmUpP2kuc2hvdygpOmkuaGlkZSgpfSl9LHByZXY6ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcy5wbHVjayhcInByZXZpb3VzRWxlbWVudFNpYmxpbmdcIikpLmZpbHRlcih0fHxcIipcIil9LG5leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcy5wbHVjayhcIm5leHRFbGVtZW50U2libGluZ1wiKSkuZmlsdGVyKHR8fFwiKlwiKX0saHRtbDpmdW5jdGlvbih0KXtyZXR1cm4gMCBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuaW5uZXJIVE1MO24odGhpcykuZW1wdHkoKS5hcHBlbmQoSih0aGlzLHQsZSxpKSl9KTowIGluIHRoaXM/dGhpc1swXS5pbm5lckhUTUw6bnVsbH0sdGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gMCBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPUoodGhpcyx0LGUsdGhpcy50ZXh0Q29udGVudCk7dGhpcy50ZXh0Q29udGVudD1udWxsPT1uP1wiXCI6XCJcIitufSk6MCBpbiB0aGlzP3RoaXNbMF0udGV4dENvbnRlbnQ6bnVsbH0sYXR0cjpmdW5jdGlvbihuLGkpe3ZhciByO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBufHwxIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24odCl7aWYoMT09PXRoaXMubm9kZVR5cGUpaWYoUihuKSlmb3IoZSBpbiBuKVcodGhpcyxlLG5bZV0pO2Vsc2UgVyh0aGlzLG4sSih0aGlzLGksdCx0aGlzLmdldEF0dHJpYnV0ZShuKSkpfSk6dGhpcy5sZW5ndGgmJjE9PT10aGlzWzBdLm5vZGVUeXBlPyEocj10aGlzWzBdLmdldEF0dHJpYnV0ZShuKSkmJm4gaW4gdGhpc1swXT90aGlzWzBdW25dOnI6dH0scmVtb3ZlQXR0cjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7MT09PXRoaXMubm9kZVR5cGUmJnQuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24odCl7Vyh0aGlzLHQpfSx0aGlzKX0pfSxwcm9wOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9TVt0XXx8dCwxIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24obil7dGhpc1t0XT1KKHRoaXMsZSxuLHRoaXNbdF0pfSk6dGhpc1swXSYmdGhpc1swXVt0XX0sZGF0YTpmdW5jdGlvbihlLG4pe3ZhciBpPVwiZGF0YS1cIitlLnJlcGxhY2UoZyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpLHI9MSBpbiBhcmd1bWVudHM/dGhpcy5hdHRyKGksbik6dGhpcy5hdHRyKGkpO3JldHVybiBudWxsIT09cj9LKHIpOnR9LHZhbDpmdW5jdGlvbih0KXtyZXR1cm4gMCBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9Sih0aGlzLHQsZSx0aGlzLnZhbHVlKX0pOnRoaXNbMF0mJih0aGlzWzBdLm11bHRpcGxlP24odGhpc1swXSkuZmluZChcIm9wdGlvblwiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZH0pLnBsdWNrKFwidmFsdWVcIik6dGhpc1swXS52YWx1ZSl9LG9mZnNldDpmdW5jdGlvbih0KXtpZih0KXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGk9bih0aGlzKSxyPUoodGhpcyx0LGUsaS5vZmZzZXQoKSksbz1pLm9mZnNldFBhcmVudCgpLm9mZnNldCgpLGE9e3RvcDpyLnRvcC1vLnRvcCxsZWZ0OnIubGVmdC1vLmxlZnR9O1wic3RhdGljXCI9PWkuY3NzKFwicG9zaXRpb25cIikmJihhLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksaS5jc3MoYSl9KTtpZighdGhpcy5sZW5ndGgpcmV0dXJuIG51bGw7aWYoIW4uY29udGFpbnModS5kb2N1bWVudEVsZW1lbnQsdGhpc1swXSkpcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIGU9dGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57bGVmdDplLmxlZnQrd2luZG93LnBhZ2VYT2Zmc2V0LHRvcDplLnRvcCt3aW5kb3cucGFnZVlPZmZzZXQsd2lkdGg6TWF0aC5yb3VuZChlLndpZHRoKSxoZWlnaHQ6TWF0aC5yb3VuZChlLmhlaWdodCl9fSxjc3M6ZnVuY3Rpb24odCxpKXtpZihhcmd1bWVudHMubGVuZ3RoPDIpe3ZhciByLG89dGhpc1swXTtpZighbylyZXR1cm47aWYocj1nZXRDb21wdXRlZFN0eWxlKG8sXCJcIiksXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIG8uc3R5bGVbUCh0KV18fHIuZ2V0UHJvcGVydHlWYWx1ZSh0KTtpZihEKHQpKXt2YXIgYT17fTtyZXR1cm4gbi5lYWNoKHQsZnVuY3Rpb24odCxlKXthW2VdPW8uc3R5bGVbUChlKV18fHIuZ2V0UHJvcGVydHlWYWx1ZShlKX0pLGF9fXZhciBzPVwiXCI7aWYoXCJzdHJpbmdcIj09TCh0KSlpfHwwPT09aT9zPUkodCkrXCI6XCIrSCh0LGkpOnRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoSSh0KSl9KTtlbHNlIGZvcihlIGluIHQpdFtlXXx8MD09PXRbZV0/cys9SShlKStcIjpcIitIKGUsdFtlXSkrXCI7XCI6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShJKGUpKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnN0eWxlLmNzc1RleHQrPVwiO1wiK3N9KX0saW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5pbmRleE9mKG4odClbMF0pOnRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleE9mKHRoaXNbMF0pfSxoYXNDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD9yLnNvbWUuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRlc3QoRyh0KSl9LHEodCkpOiExfSxhZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLmVhY2goZnVuY3Rpb24oZSl7aWYoXCJjbGFzc05hbWVcImluIHRoaXMpe2k9W107dmFyIHI9Ryh0aGlzKSxvPUoodGhpcyx0LGUscik7by5zcGxpdCgvXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24odGhpcykuaGFzQ2xhc3ModCl8fGkucHVzaCh0KX0sdGhpcyksaS5sZW5ndGgmJkcodGhpcyxyKyhyP1wiIFwiOlwiXCIpK2kuam9pbihcIiBcIikpfX0pOnRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7aWYoXCJjbGFzc05hbWVcImluIHRoaXMpe2lmKGU9PT10KXJldHVybiBHKHRoaXMsXCJcIik7aT1HKHRoaXMpLEoodGhpcyxlLG4saSkuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbih0KXtpPWkucmVwbGFjZShxKHQpLFwiIFwiKX0pLEcodGhpcyxpLnRyaW0oKSl9fSl9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIGU/dGhpcy5lYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPW4odGhpcyksYT1KKHRoaXMsZSxyLEcodGhpcykpO2Euc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihlKXsoaT09PXQ/IW8uaGFzQ2xhc3MoZSk6aSk/by5hZGRDbGFzcyhlKTpvLnJlbW92ZUNsYXNzKGUpfSl9KTp0aGlzfSxzY3JvbGxUb3A6ZnVuY3Rpb24oZSl7aWYodGhpcy5sZW5ndGgpe3ZhciBuPVwic2Nyb2xsVG9wXCJpbiB0aGlzWzBdO3JldHVybiBlPT09dD9uP3RoaXNbMF0uc2Nyb2xsVG9wOnRoaXNbMF0ucGFnZVlPZmZzZXQ6dGhpcy5lYWNoKG4/ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvcD1lfTpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsVG8odGhpcy5zY3JvbGxYLGUpfSl9fSxzY3JvbGxMZWZ0OmZ1bmN0aW9uKGUpe2lmKHRoaXMubGVuZ3RoKXt2YXIgbj1cInNjcm9sbExlZnRcImluIHRoaXNbMF07cmV0dXJuIGU9PT10P24/dGhpc1swXS5zY3JvbGxMZWZ0OnRoaXNbMF0ucGFnZVhPZmZzZXQ6dGhpcy5lYWNoKG4/ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbExlZnQ9ZX06ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvKGUsdGhpcy5zY3JvbGxZKX0pfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aCl7dmFyIHQ9dGhpc1swXSxlPXRoaXMub2Zmc2V0UGFyZW50KCksaT10aGlzLm9mZnNldCgpLHI9bS50ZXN0KGVbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmUub2Zmc2V0KCk7cmV0dXJuIGkudG9wLT1wYXJzZUZsb2F0KG4odCkuY3NzKFwibWFyZ2luLXRvcFwiKSl8fDAsaS5sZWZ0LT1wYXJzZUZsb2F0KG4odCkuY3NzKFwibWFyZ2luLWxlZnRcIikpfHwwLHIudG9wKz1wYXJzZUZsb2F0KG4oZVswXSkuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSl8fDAsci5sZWZ0Kz1wYXJzZUZsb2F0KG4oZVswXSkuY3NzKFwiYm9yZGVyLWxlZnQtd2lkdGhcIikpfHwwLHt0b3A6aS50b3Atci50b3AsbGVmdDppLmxlZnQtci5sZWZ0fX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLm9mZnNldFBhcmVudHx8dS5ib2R5O3QmJiFtLnRlc3QodC5ub2RlTmFtZSkmJlwic3RhdGljXCI9PW4odCkuY3NzKFwicG9zaXRpb25cIik7KXQ9dC5vZmZzZXRQYXJlbnQ7cmV0dXJuIHR9KX19LG4uZm4uZGV0YWNoPW4uZm4ucmVtb3ZlLFtcIndpZHRoXCIsXCJoZWlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT1lLnJlcGxhY2UoLy4vLGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdLnRvVXBwZXJDYXNlKCl9KTtuLmZuW2VdPWZ1bmN0aW9uKHIpe3ZhciBvLGE9dGhpc1swXTtyZXR1cm4gcj09PXQ/WihhKT9hW1wiaW5uZXJcIitpXTokKGEpP2EuZG9jdW1lbnRFbGVtZW50W1wic2Nyb2xsXCIraV06KG89dGhpcy5vZmZzZXQoKSkmJm9bZV06dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2E9bih0aGlzKSxhLmNzcyhlLEoodGhpcyxyLHQsYVtlXSgpKSl9KX19KSx5LmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgaT1lJTI7bi5mblt0XT1mdW5jdGlvbigpe3ZhciB0LG8scj1uLm1hcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9TChlKSxcIm9iamVjdFwiPT10fHxcImFycmF5XCI9PXR8fG51bGw9PWU/ZTpDLmZyYWdtZW50KGUpfSksYT10aGlzLmxlbmd0aD4xO3JldHVybiByLmxlbmd0aDwxP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQscyl7bz1pP3M6cy5wYXJlbnROb2RlLHM9MD09ZT9zLm5leHRTaWJsaW5nOjE9PWU/cy5maXJzdENoaWxkOjI9PWU/czpudWxsO3ZhciBmPW4uY29udGFpbnModS5kb2N1bWVudEVsZW1lbnQsbyk7ci5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKGEpdD10LmNsb25lTm9kZSghMCk7ZWxzZSBpZighbylyZXR1cm4gbih0KS5yZW1vdmUoKTtvLmluc2VydEJlZm9yZSh0LHMpLGYmJlEodCxmdW5jdGlvbih0KXtudWxsPT10Lm5vZGVOYW1lfHxcIlNDUklQVFwiIT09dC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpfHx0LnR5cGUmJlwidGV4dC9qYXZhc2NyaXB0XCIhPT10LnR5cGV8fHQuc3JjfHx3aW5kb3cuZXZhbC5jYWxsKHdpbmRvdyx0LmlubmVySFRNTCl9KX0pfSl9LG4uZm5baT90K1wiVG9cIjpcImluc2VydFwiKyhlP1wiQmVmb3JlXCI6XCJBZnRlclwiKV09ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSlbdF0odGhpcyksdGhpc319KSxDLloucHJvdG90eXBlPVYucHJvdG90eXBlPW4uZm4sQy51bmlxPU4sQy5kZXNlcmlhbGl6ZVZhbHVlPUssbi56ZXB0bz1DLG59KCk7d2luZG93LlplcHRvPVplcHRvLHZvaWQgMD09PXdpbmRvdy4kJiYod2luZG93LiQ9WmVwdG8pLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGgoZSxuLGkpe3ZhciByPXQuRXZlbnQobik7cmV0dXJuIHQoZSkudHJpZ2dlcihyLGkpLCFyLmlzRGVmYXVsdFByZXZlbnRlZCgpfWZ1bmN0aW9uIHAodCxlLGkscil7cmV0dXJuIHQuZ2xvYmFsP2goZXx8bixpLHIpOnZvaWQgMH1mdW5jdGlvbiBkKGUpe2UuZ2xvYmFsJiYwPT09dC5hY3RpdmUrKyYmcChlLG51bGwsXCJhamF4U3RhcnRcIil9ZnVuY3Rpb24gbShlKXtlLmdsb2JhbCYmIS0tdC5hY3RpdmUmJnAoZSxudWxsLFwiYWpheFN0b3BcIil9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuPWUuY29udGV4dDtyZXR1cm4gZS5iZWZvcmVTZW5kLmNhbGwobix0LGUpPT09ITF8fHAoZSxuLFwiYWpheEJlZm9yZVNlbmRcIixbdCxlXSk9PT0hMT8hMTp2b2lkIHAoZSxuLFwiYWpheFNlbmRcIixbdCxlXSl9ZnVuY3Rpb24gdih0LGUsbixpKXt2YXIgcj1uLmNvbnRleHQsbz1cInN1Y2Nlc3NcIjtuLnN1Y2Nlc3MuY2FsbChyLHQsbyxlKSxpJiZpLnJlc29sdmVXaXRoKHIsW3QsbyxlXSkscChuLHIsXCJhamF4U3VjY2Vzc1wiLFtlLG4sdF0pLHgobyxlLG4pfWZ1bmN0aW9uIHkodCxlLG4saSxyKXt2YXIgbz1pLmNvbnRleHQ7aS5lcnJvci5jYWxsKG8sbixlLHQpLHImJnIucmVqZWN0V2l0aChvLFtuLGUsdF0pLHAoaSxvLFwiYWpheEVycm9yXCIsW24saSx0fHxlXSkseChlLG4saSl9ZnVuY3Rpb24geCh0LGUsbil7dmFyIGk9bi5jb250ZXh0O24uY29tcGxldGUuY2FsbChpLGUsdCkscChuLGksXCJhamF4Q29tcGxldGVcIixbZSxuXSksbShuKX1mdW5jdGlvbiB3KCl7fWZ1bmN0aW9uIGIodCl7cmV0dXJuIHQmJih0PXQuc3BsaXQoXCI7XCIsMilbMF0pLHQmJih0PT1mP1wiaHRtbFwiOnQ9PXU/XCJqc29uXCI6YS50ZXN0KHQpP1wic2NyaXB0XCI6cy50ZXN0KHQpJiZcInhtbFwiKXx8XCJ0ZXh0XCJ9ZnVuY3Rpb24gRSh0LGUpe3JldHVyblwiXCI9PWU/dDoodCtcIiZcIitlKS5yZXBsYWNlKC9bJj9dezEsMn0vLFwiP1wiKX1mdW5jdGlvbiBUKGUpe2UucHJvY2Vzc0RhdGEmJmUuZGF0YSYmXCJzdHJpbmdcIiE9dC50eXBlKGUuZGF0YSkmJihlLmRhdGE9dC5wYXJhbShlLmRhdGEsZS50cmFkaXRpb25hbCkpLCFlLmRhdGF8fGUudHlwZSYmXCJHRVRcIiE9ZS50eXBlLnRvVXBwZXJDYXNlKCl8fChlLnVybD1FKGUudXJsLGUuZGF0YSksZS5kYXRhPXZvaWQgMCl9ZnVuY3Rpb24gaihlLG4saSxyKXtyZXR1cm4gdC5pc0Z1bmN0aW9uKG4pJiYocj1pLGk9bixuPXZvaWQgMCksdC5pc0Z1bmN0aW9uKGkpfHwocj1pLGk9dm9pZCAwKSx7dXJsOmUsZGF0YTpuLHN1Y2Nlc3M6aSxkYXRhVHlwZTpyfX1mdW5jdGlvbiBDKGUsbixpLHIpe3ZhciBvLGE9dC5pc0FycmF5KG4pLHM9dC5pc1BsYWluT2JqZWN0KG4pO3QuZWFjaChuLGZ1bmN0aW9uKG4sdSl7bz10LnR5cGUodSksciYmKG49aT9yOnIrXCJbXCIrKHN8fFwib2JqZWN0XCI9PW98fFwiYXJyYXlcIj09bz9uOlwiXCIpK1wiXVwiKSwhciYmYT9lLmFkZCh1Lm5hbWUsdS52YWx1ZSk6XCJhcnJheVwiPT1vfHwhaSYmXCJvYmplY3RcIj09bz9DKGUsdSxpLG4pOmUuYWRkKG4sdSl9KX12YXIgaSxyLGU9MCxuPXdpbmRvdy5kb2N1bWVudCxvPS88c2NyaXB0XFxiW148XSooPzooPyE8XFwvc2NyaXB0Pik8W148XSopKjxcXC9zY3JpcHQ+L2dpLGE9L14oPzp0ZXh0fGFwcGxpY2F0aW9uKVxcL2phdmFzY3JpcHQvaSxzPS9eKD86dGV4dHxhcHBsaWNhdGlvbilcXC94bWwvaSx1PVwiYXBwbGljYXRpb24vanNvblwiLGY9XCJ0ZXh0L2h0bWxcIixjPS9eXFxzKiQvLGw9bi5jcmVhdGVFbGVtZW50KFwiYVwiKTtsLmhyZWY9d2luZG93LmxvY2F0aW9uLmhyZWYsdC5hY3RpdmU9MCx0LmFqYXhKU09OUD1mdW5jdGlvbihpLHIpe2lmKCEoXCJ0eXBlXCJpbiBpKSlyZXR1cm4gdC5hamF4KGkpO3ZhciBmLGgsbz1pLmpzb25wQ2FsbGJhY2ssYT0odC5pc0Z1bmN0aW9uKG8pP28oKTpvKXx8XCJqc29ucFwiKyArK2Uscz1uLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksdT13aW5kb3dbYV0sYz1mdW5jdGlvbihlKXt0KHMpLnRyaWdnZXJIYW5kbGVyKFwiZXJyb3JcIixlfHxcImFib3J0XCIpfSxsPXthYm9ydDpjfTtyZXR1cm4gciYmci5wcm9taXNlKGwpLHQocykub24oXCJsb2FkIGVycm9yXCIsZnVuY3Rpb24oZSxuKXtjbGVhclRpbWVvdXQoaCksdChzKS5vZmYoKS5yZW1vdmUoKSxcImVycm9yXCIhPWUudHlwZSYmZj92KGZbMF0sbCxpLHIpOnkobnVsbCxufHxcImVycm9yXCIsbCxpLHIpLHdpbmRvd1thXT11LGYmJnQuaXNGdW5jdGlvbih1KSYmdShmWzBdKSx1PWY9dm9pZCAwfSksZyhsLGkpPT09ITE/KGMoXCJhYm9ydFwiKSxsKTood2luZG93W2FdPWZ1bmN0aW9uKCl7Zj1hcmd1bWVudHN9LHMuc3JjPWkudXJsLnJlcGxhY2UoL1xcPyguKyk9XFw/LyxcIj8kMT1cIithKSxuLmhlYWQuYXBwZW5kQ2hpbGQocyksaS50aW1lb3V0PjAmJihoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKFwidGltZW91dFwiKX0saS50aW1lb3V0KSksbCl9LHQuYWpheFNldHRpbmdzPXt0eXBlOlwiR0VUXCIsYmVmb3JlU2VuZDp3LHN1Y2Nlc3M6dyxlcnJvcjp3LGNvbXBsZXRlOncsY29udGV4dDpudWxsLGdsb2JhbDohMCx4aHI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdH0sYWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcIixqc29uOnUseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGh0bWw6Zix0ZXh0OlwidGV4dC9wbGFpblwifSxjcm9zc0RvbWFpbjohMSx0aW1lb3V0OjAscHJvY2Vzc0RhdGE6ITAsY2FjaGU6ITB9LHQuYWpheD1mdW5jdGlvbihlKXt2YXIgcyx1LG89dC5leHRlbmQoe30sZXx8e30pLGE9dC5EZWZlcnJlZCYmdC5EZWZlcnJlZCgpO2ZvcihpIGluIHQuYWpheFNldHRpbmdzKXZvaWQgMD09PW9baV0mJihvW2ldPXQuYWpheFNldHRpbmdzW2ldKTtkKG8pLG8uY3Jvc3NEb21haW58fChzPW4uY3JlYXRlRWxlbWVudChcImFcIikscy5ocmVmPW8udXJsLHMuaHJlZj1zLmhyZWYsby5jcm9zc0RvbWFpbj1sLnByb3RvY29sK1wiLy9cIitsLmhvc3QhPXMucHJvdG9jb2wrXCIvL1wiK3MuaG9zdCksby51cmx8fChvLnVybD13aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSksKHU9by51cmwuaW5kZXhPZihcIiNcIikpPi0xJiYoby51cmw9by51cmwuc2xpY2UoMCx1KSksVChvKTt2YXIgZj1vLmRhdGFUeXBlLGg9L1xcPy4rPVxcPy8udGVzdChvLnVybCk7aWYoaCYmKGY9XCJqc29ucFwiKSxvLmNhY2hlIT09ITEmJihlJiZlLmNhY2hlPT09ITB8fFwic2NyaXB0XCIhPWYmJlwianNvbnBcIiE9Zil8fChvLnVybD1FKG8udXJsLFwiXz1cIitEYXRlLm5vdygpKSksXCJqc29ucFwiPT1mKXJldHVybiBofHwoby51cmw9RShvLnVybCxvLmpzb25wP28uanNvbnArXCI9P1wiOm8uanNvbnA9PT0hMT9cIlwiOlwiY2FsbGJhY2s9P1wiKSksdC5hamF4SlNPTlAobyxhKTt2YXIgUCxwPW8uYWNjZXB0c1tmXSxtPXt9LHg9ZnVuY3Rpb24odCxlKXttW3QudG9Mb3dlckNhc2UoKV09W3QsZV19LGo9L14oW1xcdy1dKzopXFwvXFwvLy50ZXN0KG8udXJsKT9SZWdFeHAuJDE6d2luZG93LmxvY2F0aW9uLnByb3RvY29sLFM9by54aHIoKSxDPVMuc2V0UmVxdWVzdEhlYWRlcjtpZihhJiZhLnByb21pc2UoUyksby5jcm9zc0RvbWFpbnx8eChcIlgtUmVxdWVzdGVkLVdpdGhcIixcIlhNTEh0dHBSZXF1ZXN0XCIpLHgoXCJBY2NlcHRcIixwfHxcIiovKlwiKSwocD1vLm1pbWVUeXBlfHxwKSYmKHAuaW5kZXhPZihcIixcIik+LTEmJihwPXAuc3BsaXQoXCIsXCIsMilbMF0pLFMub3ZlcnJpZGVNaW1lVHlwZSYmUy5vdmVycmlkZU1pbWVUeXBlKHApKSwoby5jb250ZW50VHlwZXx8by5jb250ZW50VHlwZSE9PSExJiZvLmRhdGEmJlwiR0VUXCIhPW8udHlwZS50b1VwcGVyQ2FzZSgpKSYmeChcIkNvbnRlbnQtVHlwZVwiLG8uY29udGVudFR5cGV8fFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpLG8uaGVhZGVycylmb3IociBpbiBvLmhlYWRlcnMpeChyLG8uaGVhZGVyc1tyXSk7aWYoUy5zZXRSZXF1ZXN0SGVhZGVyPXgsUy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT1TLnJlYWR5U3RhdGUpe1Mub25yZWFkeXN0YXRlY2hhbmdlPXcsY2xlYXJUaW1lb3V0KFApO3ZhciBlLG49ITE7aWYoUy5zdGF0dXM+PTIwMCYmUy5zdGF0dXM8MzAwfHwzMDQ9PVMuc3RhdHVzfHwwPT1TLnN0YXR1cyYmXCJmaWxlOlwiPT1qKXtmPWZ8fGIoby5taW1lVHlwZXx8Uy5nZXRSZXNwb25zZUhlYWRlcihcImNvbnRlbnQtdHlwZVwiKSksZT1TLnJlc3BvbnNlVGV4dDt0cnl7XCJzY3JpcHRcIj09Zj8oMSxldmFsKShlKTpcInhtbFwiPT1mP2U9Uy5yZXNwb25zZVhNTDpcImpzb25cIj09ZiYmKGU9Yy50ZXN0KGUpP251bGw6dC5wYXJzZUpTT04oZSkpfWNhdGNoKGkpe249aX1uP3kobixcInBhcnNlcmVycm9yXCIsUyxvLGEpOnYoZSxTLG8sYSl9ZWxzZSB5KFMuc3RhdHVzVGV4dHx8bnVsbCxTLnN0YXR1cz9cImVycm9yXCI6XCJhYm9ydFwiLFMsbyxhKX19LGcoUyxvKT09PSExKXJldHVybiBTLmFib3J0KCkseShudWxsLFwiYWJvcnRcIixTLG8sYSksUztpZihvLnhockZpZWxkcylmb3IociBpbiBvLnhockZpZWxkcylTW3JdPW8ueGhyRmllbGRzW3JdO3ZhciBOPVwiYXN5bmNcImluIG8/by5hc3luYzohMDtTLm9wZW4oby50eXBlLG8udXJsLE4sby51c2VybmFtZSxvLnBhc3N3b3JkKTtmb3IociBpbiBtKUMuYXBwbHkoUyxtW3JdKTtyZXR1cm4gby50aW1lb3V0PjAmJihQPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtTLm9ucmVhZHlzdGF0ZWNoYW5nZT13LFMuYWJvcnQoKSx5KG51bGwsXCJ0aW1lb3V0XCIsUyxvLGEpfSxvLnRpbWVvdXQpKSxTLnNlbmQoby5kYXRhP28uZGF0YTpudWxsKSxTfSx0LmdldD1mdW5jdGlvbigpe3JldHVybiB0LmFqYXgoai5hcHBseShudWxsLGFyZ3VtZW50cykpfSx0LnBvc3Q9ZnVuY3Rpb24oKXt2YXIgZT1qLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gZS50eXBlPVwiUE9TVFwiLHQuYWpheChlKX0sdC5nZXRKU09OPWZ1bmN0aW9uKCl7dmFyIGU9ai5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIGUuZGF0YVR5cGU9XCJqc29uXCIsdC5hamF4KGUpfSx0LmZuLmxvYWQ9ZnVuY3Rpb24oZSxuLGkpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgcyxyPXRoaXMsYT1lLnNwbGl0KC9cXHMvKSx1PWooZSxuLGkpLGY9dS5zdWNjZXNzO3JldHVybiBhLmxlbmd0aD4xJiYodS51cmw9YVswXSxzPWFbMV0pLHUuc3VjY2Vzcz1mdW5jdGlvbihlKXtyLmh0bWwocz90KFwiPGRpdj5cIikuaHRtbChlLnJlcGxhY2UobyxcIlwiKSkuZmluZChzKTplKSxmJiZmLmFwcGx5KHIsYXJndW1lbnRzKX0sdC5hamF4KHUpLHRoaXN9O3ZhciBTPWVuY29kZVVSSUNvbXBvbmVudDt0LnBhcmFtPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGkuYWRkPWZ1bmN0aW9uKGUsbil7dC5pc0Z1bmN0aW9uKG4pJiYobj1uKCkpLG51bGw9PW4mJihuPVwiXCIpLHRoaXMucHVzaChTKGUpK1wiPVwiK1MobikpfSxDKGksZSxuKSxpLmpvaW4oXCImXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKX19KFplcHRvKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBsKHQpe3JldHVybiB0Ll96aWR8fCh0Ll96aWQ9ZSsrKX1mdW5jdGlvbiBoKHQsZSxuLGkpe2lmKGU9cChlKSxlLm5zKXZhciByPWQoZS5ucyk7cmV0dXJuKGFbbCh0KV18fFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQmJighZS5lfHx0LmU9PWUuZSkmJighZS5uc3x8ci50ZXN0KHQubnMpKSYmKCFufHxsKHQuZm4pPT09bChuKSkmJighaXx8dC5zZWw9PWkpfSl9ZnVuY3Rpb24gcCh0KXt2YXIgZT0oXCJcIit0KS5zcGxpdChcIi5cIik7cmV0dXJue2U6ZVswXSxuczplLnNsaWNlKDEpLnNvcnQoKS5qb2luKFwiIFwiKX19ZnVuY3Rpb24gZCh0KXtyZXR1cm4gbmV3IFJlZ0V4cChcIig/Ol58IClcIit0LnJlcGxhY2UoXCIgXCIsXCIgLiogP1wiKStcIig/OiB8JClcIil9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiB0LmRlbCYmIXUmJnQuZSBpbiBmfHwhIWV9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gY1t0XXx8dSYmZlt0XXx8dH1mdW5jdGlvbiB2KGUsaSxyLG8scyx1LGYpe3ZhciBoPWwoZSksZD1hW2hdfHwoYVtoXT1bXSk7aS5zcGxpdCgvXFxzLykuZm9yRWFjaChmdW5jdGlvbihpKXtpZihcInJlYWR5XCI9PWkpcmV0dXJuIHQoZG9jdW1lbnQpLnJlYWR5KHIpO3ZhciBhPXAoaSk7YS5mbj1yLGEuc2VsPXMsYS5lIGluIGMmJihyPWZ1bmN0aW9uKGUpe3ZhciBuPWUucmVsYXRlZFRhcmdldDtyZXR1cm4hbnx8biE9PXRoaXMmJiF0LmNvbnRhaW5zKHRoaXMsbik/YS5mbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSksYS5kZWw9dTt2YXIgbD11fHxyO2EucHJveHk9ZnVuY3Rpb24odCl7aWYodD1UKHQpLCF0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpe3QuZGF0YT1vO3ZhciBpPWwuYXBwbHkoZSx0Ll9hcmdzPT1uP1t0XTpbdF0uY29uY2F0KHQuX2FyZ3MpKTtyZXR1cm4gaT09PSExJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpLGl9fSxhLmk9ZC5sZW5ndGgsZC5wdXNoKGEpLFwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZSYmZS5hZGRFdmVudExpc3RlbmVyKGcoYS5lKSxhLnByb3h5LG0oYSxmKSl9KX1mdW5jdGlvbiB5KHQsZSxuLGkscil7dmFyIG89bCh0KTsoZXx8XCJcIikuc3BsaXQoL1xccy8pLmZvckVhY2goZnVuY3Rpb24oZSl7aCh0LGUsbixpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBhW29dW2UuaV0sXCJyZW1vdmVFdmVudExpc3RlbmVyXCJpbiB0JiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZyhlLmUpLGUucHJveHksbShlLHIpKX0pfSl9ZnVuY3Rpb24gVChlLGkpe3JldHVybihpfHwhZS5pc0RlZmF1bHRQcmV2ZW50ZWQpJiYoaXx8KGk9ZSksdC5lYWNoKEUsZnVuY3Rpb24odCxuKXt2YXIgcj1pW3RdO2VbdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tuXT14LHImJnIuYXBwbHkoaSxhcmd1bWVudHMpfSxlW25dPXd9KSwoaS5kZWZhdWx0UHJldmVudGVkIT09bj9pLmRlZmF1bHRQcmV2ZW50ZWQ6XCJyZXR1cm5WYWx1ZVwiaW4gaT9pLnJldHVyblZhbHVlPT09ITE6aS5nZXRQcmV2ZW50RGVmYXVsdCYmaS5nZXRQcmV2ZW50RGVmYXVsdCgpKSYmKGUuaXNEZWZhdWx0UHJldmVudGVkPXgpKSxlfWZ1bmN0aW9uIGoodCl7dmFyIGUsaT17b3JpZ2luYWxFdmVudDp0fTtmb3IoZSBpbiB0KWIudGVzdChlKXx8dFtlXT09PW58fChpW2VdPXRbZV0pO3JldHVybiBUKGksdCl9dmFyIG4sZT0xLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLHI9dC5pc0Z1bmN0aW9uLG89ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9LGE9e30scz17fSx1PVwib25mb2N1c2luXCJpbiB3aW5kb3csZj17Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGM9e21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIn07cy5jbGljaz1zLm1vdXNlZG93bj1zLm1vdXNldXA9cy5tb3VzZW1vdmU9XCJNb3VzZUV2ZW50c1wiLHQuZXZlbnQ9e2FkZDp2LHJlbW92ZTp5fSx0LnByb3h5PWZ1bmN0aW9uKGUsbil7dmFyIGE9MiBpbiBhcmd1bWVudHMmJmkuY2FsbChhcmd1bWVudHMsMik7aWYocihlKSl7dmFyIHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShuLGE/YS5jb25jYXQoaS5jYWxsKGFyZ3VtZW50cykpOmFyZ3VtZW50cyl9O3JldHVybiBzLl96aWQ9bChlKSxzfWlmKG8obikpcmV0dXJuIGE/KGEudW5zaGlmdChlW25dLGUpLHQucHJveHkuYXBwbHkobnVsbCxhKSk6dC5wcm94eShlW25dLGUpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RlZCBmdW5jdGlvblwiKX0sdC5mbi5iaW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbih0LGUsbil9LHQuZm4udW5iaW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMub2ZmKHQsZSl9LHQuZm4ub25lPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLm9uKHQsZSxuLGksMSl9O3ZhciB4PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sYj0vXihbQS1aXXxyZXR1cm5WYWx1ZSR8bGF5ZXJbWFldJCkvLEU9e3ByZXZlbnREZWZhdWx0OlwiaXNEZWZhdWx0UHJldmVudGVkXCIsc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOlwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWRcIixzdG9wUHJvcGFnYXRpb246XCJpc1Byb3BhZ2F0aW9uU3RvcHBlZFwifTt0LmZuLmRlbGVnYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbihlLHQsbil9LHQuZm4udW5kZWxlZ2F0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub2ZmKGUsdCxuKX0sdC5mbi5saXZlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZG9jdW1lbnQuYm9keSkuZGVsZWdhdGUodGhpcy5zZWxlY3RvcixlLG4pLHRoaXN9LHQuZm4uZGllPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZG9jdW1lbnQuYm9keSkudW5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLGUsbiksdGhpc30sdC5mbi5vbj1mdW5jdGlvbihlLGEscyx1LGYpe3ZhciBjLGwsaD10aGlzO3JldHVybiBlJiYhbyhlKT8odC5lYWNoKGUsZnVuY3Rpb24odCxlKXtoLm9uKHQsYSxzLGUsZil9KSxoKToobyhhKXx8cih1KXx8dT09PSExfHwodT1zLHM9YSxhPW4pLCh1PT09bnx8cz09PSExKSYmKHU9cyxzPW4pLHU9PT0hMSYmKHU9dyksaC5lYWNoKGZ1bmN0aW9uKG4scil7ZiYmKGM9ZnVuY3Rpb24odCl7cmV0dXJuIHkocix0LnR5cGUsdSksdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxhJiYobD1mdW5jdGlvbihlKXt2YXIgbixvPXQoZS50YXJnZXQpLmNsb3Nlc3QoYSxyKS5nZXQoMCk7cmV0dXJuIG8mJm8hPT1yPyhuPXQuZXh0ZW5kKGooZSkse2N1cnJlbnRUYXJnZXQ6byxsaXZlRmlyZWQ6cn0pLChjfHx1KS5hcHBseShvLFtuXS5jb25jYXQoaS5jYWxsKGFyZ3VtZW50cywxKSkpKTp2b2lkIDB9KSx2KHIsZSx1LHMsYSxsfHxjKX0pKX0sdC5mbi5vZmY9ZnVuY3Rpb24oZSxpLGEpe3ZhciBzPXRoaXM7cmV0dXJuIGUmJiFvKGUpPyh0LmVhY2goZSxmdW5jdGlvbih0LGUpe3Mub2ZmKHQsaSxlKX0pLHMpOihvKGkpfHxyKGEpfHxhPT09ITF8fChhPWksaT1uKSxhPT09ITEmJihhPXcpLHMuZWFjaChmdW5jdGlvbigpe3kodGhpcyxlLGEsaSl9KSl9LHQuZm4udHJpZ2dlcj1mdW5jdGlvbihlLG4pe3JldHVybiBlPW8oZSl8fHQuaXNQbGFpbk9iamVjdChlKT90LkV2ZW50KGUpOlQoZSksZS5fYXJncz1uLHRoaXMuZWFjaChmdW5jdGlvbigpe2UudHlwZSBpbiBmJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW2UudHlwZV0/dGhpc1tlLnR5cGVdKCk6XCJkaXNwYXRjaEV2ZW50XCJpbiB0aGlzP3RoaXMuZGlzcGF0Y2hFdmVudChlKTp0KHRoaXMpLnRyaWdnZXJIYW5kbGVyKGUsbil9KX0sdC5mbi50cmlnZ2VySGFuZGxlcj1mdW5jdGlvbihlLG4pe3ZhciBpLHI7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihhLHMpe2k9aihvKGUpP3QuRXZlbnQoZSk6ZSksaS5fYXJncz1uLGkudGFyZ2V0PXMsdC5lYWNoKGgocyxlLnR5cGV8fGUpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHI9ZS5wcm94eShpKSxpLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk/ITE6dm9pZCAwfSl9KSxyfSxcImZvY3VzaW4gZm9jdXNvdXQgZm9jdXMgYmx1ciBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvclwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuZm5bZV09ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuYmluZChlLHQpOnRoaXMudHJpZ2dlcihlKX19KSx0LkV2ZW50PWZ1bmN0aW9uKHQsZSl7byh0KXx8KGU9dCx0PWUudHlwZSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoc1t0XXx8XCJFdmVudHNcIiksaT0hMDtpZihlKWZvcih2YXIgciBpbiBlKVwiYnViYmxlc1wiPT1yP2k9ISFlW3JdOm5bcl09ZVtyXTtyZXR1cm4gbi5pbml0RXZlbnQodCxpLCEwKSxUKG4pfX0oWmVwdG8pLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGEobyxhKXt2YXIgdT1vW3JdLGY9dSYmZVt1XTtpZih2b2lkIDA9PT1hKXJldHVybiBmfHxzKG8pO2lmKGYpe2lmKGEgaW4gZilyZXR1cm4gZlthXTt2YXIgYz1pKGEpO2lmKGMgaW4gZilyZXR1cm4gZltjXX1yZXR1cm4gbi5jYWxsKHQobyksYSl9ZnVuY3Rpb24gcyhuLG8sYSl7dmFyIHM9bltyXXx8KG5bcl09Kyt0LnV1aWQpLGY9ZVtzXXx8KGVbc109dShuKSk7cmV0dXJuIHZvaWQgMCE9PW8mJihmW2kobyldPWEpLGZ9ZnVuY3Rpb24gdShlKXt2YXIgbj17fTtyZXR1cm4gdC5lYWNoKGUuYXR0cmlidXRlc3x8byxmdW5jdGlvbihlLHIpezA9PXIubmFtZS5pbmRleE9mKFwiZGF0YS1cIikmJihuW2koci5uYW1lLnJlcGxhY2UoXCJkYXRhLVwiLFwiXCIpKV09dC56ZXB0by5kZXNlcmlhbGl6ZVZhbHVlKHIudmFsdWUpKX0pLG59dmFyIGU9e30sbj10LmZuLmRhdGEsaT10LmNhbWVsQ2FzZSxyPXQuZXhwYW5kbz1cIlplcHRvXCIrICtuZXcgRGF0ZSxvPVtdO3QuZm4uZGF0YT1mdW5jdGlvbihlLG4pe3JldHVybiB2b2lkIDA9PT1uP3QuaXNQbGFpbk9iamVjdChlKT90aGlzLmVhY2goZnVuY3Rpb24obixpKXt0LmVhY2goZSxmdW5jdGlvbih0LGUpe3MoaSx0LGUpfSl9KTowIGluIHRoaXM/YSh0aGlzWzBdLGUpOnZvaWQgMDp0aGlzLmVhY2goZnVuY3Rpb24oKXtzKHRoaXMsZSxuKX0pfSx0LmZuLnJlbW92ZURhdGE9ZnVuY3Rpb24obil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPW4uc3BsaXQoL1xccysvKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89dGhpc1tyXSxhPW8mJmVbb107YSYmdC5lYWNoKG58fGEsZnVuY3Rpb24odCl7ZGVsZXRlIGFbbj9pKHRoaXMpOnRdfSl9KX0sW1wicmVtb3ZlXCIsXCJlbXB0eVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXQuZm5bZV07dC5mbltlXT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZmluZChcIipcIik7cmV0dXJuXCJyZW1vdmVcIj09PWUmJih0PXQuYWRkKHRoaXMpKSx0LnJlbW92ZURhdGEoKSxuLmNhbGwodGhpcyl9fSl9KFplcHRvKSxmdW5jdGlvbih0KXt0LmZuLnNlcmlhbGl6ZUFycmF5PWZ1bmN0aW9uKCl7dmFyIGUsbixpPVtdLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZm9yRWFjaD90LmZvckVhY2gocik6dm9pZCBpLnB1c2goe25hbWU6ZSx2YWx1ZTp0fSl9O3JldHVybiB0aGlzWzBdJiZ0LmVhY2godGhpc1swXS5lbGVtZW50cyxmdW5jdGlvbihpLG8pe249by50eXBlLGU9by5uYW1lLGUmJlwiZmllbGRzZXRcIiE9by5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhby5kaXNhYmxlZCYmXCJzdWJtaXRcIiE9biYmXCJyZXNldFwiIT1uJiZcImJ1dHRvblwiIT1uJiZcImZpbGVcIiE9biYmKFwicmFkaW9cIiE9biYmXCJjaGVja2JveFwiIT1ufHxvLmNoZWNrZWQpJiZyKHQobykudmFsKCkpfSksaX0sdC5mbi5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5zZXJpYWxpemVBcnJheSgpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChlLm5hbWUpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChlLnZhbHVlKSl9KSx0LmpvaW4oXCImXCIpfSx0LmZuLnN1Ym1pdD1mdW5jdGlvbihlKXtpZigwIGluIGFyZ3VtZW50cyl0aGlzLmJpbmQoXCJzdWJtaXRcIixlKTtlbHNlIGlmKHRoaXMubGVuZ3RoKXt2YXIgbj10LkV2ZW50KFwic3VibWl0XCIpO3RoaXMuZXEoMCkudHJpZ2dlcihuKSxuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLmdldCgwKS5zdWJtaXQoKX1yZXR1cm4gdGhpc319KFplcHRvKSxmdW5jdGlvbih0KXtmdW5jdGlvbiB1KHQsZSxuLGkpe3JldHVybiBNYXRoLmFicyh0LWUpPj1NYXRoLmFicyhuLWkpP3QtZT4wP1wiTGVmdFwiOlwiUmlnaHRcIjpuLWk+MD9cIlVwXCI6XCJEb3duXCJ9ZnVuY3Rpb24gZigpe289bnVsbCxlLmxhc3QmJihlLmVsLnRyaWdnZXIoXCJsb25nVGFwXCIpLGU9e30pfWZ1bmN0aW9uIGMoKXtvJiZjbGVhclRpbWVvdXQobyksbz1udWxsfWZ1bmN0aW9uIGwoKXtuJiZjbGVhclRpbWVvdXQobiksaSYmY2xlYXJUaW1lb3V0KGkpLHImJmNsZWFyVGltZW91dChyKSxvJiZjbGVhclRpbWVvdXQobyksbj1pPXI9bz1udWxsLGU9e319ZnVuY3Rpb24gaCh0KXtyZXR1cm4oXCJ0b3VjaFwiPT10LnBvaW50ZXJUeXBlfHx0LnBvaW50ZXJUeXBlPT10Lk1TUE9JTlRFUl9UWVBFX1RPVUNIKSYmdC5pc1ByaW1hcnl9ZnVuY3Rpb24gcCh0LGUpe3JldHVybiB0LnR5cGU9PVwicG9pbnRlclwiK2V8fHQudHlwZS50b0xvd2VyQ2FzZSgpPT1cIm1zcG9pbnRlclwiK2V9dmFyIG4saSxyLG8scyxlPXt9LGE9NzUwO3QoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGQsbSx5LHgsZz0wLHY9MDtcIk1TR2VzdHVyZVwiaW4gd2luZG93JiYocz1uZXcgTVNHZXN0dXJlLHMudGFyZ2V0PWRvY3VtZW50LmJvZHkpLHQoZG9jdW1lbnQpLmJpbmQoXCJNU0dlc3R1cmVFbmRcIixmdW5jdGlvbih0KXt2YXIgbj10LnZlbG9jaXR5WD4xP1wiUmlnaHRcIjp0LnZlbG9jaXR5WDwtMT9cIkxlZnRcIjp0LnZlbG9jaXR5WT4xP1wiRG93blwiOnQudmVsb2NpdHlZPC0xP1wiVXBcIjpudWxsO24mJihlLmVsLnRyaWdnZXIoXCJzd2lwZVwiKSxlLmVsLnRyaWdnZXIoXCJzd2lwZVwiK24pKX0pLm9uKFwidG91Y2hzdGFydCBNU1BvaW50ZXJEb3duIHBvaW50ZXJkb3duXCIsZnVuY3Rpb24oaSl7KCEoeD1wKGksXCJkb3duXCIpKXx8aChpKSkmJih5PXg/aTppLnRvdWNoZXNbMF0saS50b3VjaGVzJiYxPT09aS50b3VjaGVzLmxlbmd0aCYmZS54MiYmKGUueDI9dm9pZCAwLGUueTI9dm9pZCAwKSxkPURhdGUubm93KCksbT1kLShlLmxhc3R8fGQpLGUuZWw9dChcInRhZ05hbWVcImluIHkudGFyZ2V0P3kudGFyZ2V0OnkudGFyZ2V0LnBhcmVudE5vZGUpLG4mJmNsZWFyVGltZW91dChuKSxlLngxPXkucGFnZVgsZS55MT15LnBhZ2VZLG0+MCYmMjUwPj1tJiYoZS5pc0RvdWJsZVRhcD0hMCksZS5sYXN0PWQsbz1zZXRUaW1lb3V0KGYsYSkscyYmeCYmcy5hZGRQb2ludGVyKGkucG9pbnRlcklkKSl9KS5vbihcInRvdWNobW92ZSBNU1BvaW50ZXJNb3ZlIHBvaW50ZXJtb3ZlXCIsZnVuY3Rpb24odCl7KCEoeD1wKHQsXCJtb3ZlXCIpKXx8aCh0KSkmJih5PXg/dDp0LnRvdWNoZXNbMF0sYygpLGUueDI9eS5wYWdlWCxlLnkyPXkucGFnZVksZys9TWF0aC5hYnMoZS54MS1lLngyKSx2Kz1NYXRoLmFicyhlLnkxLWUueTIpKX0pLm9uKFwidG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwXCIsZnVuY3Rpb24obyl7KCEoeD1wKG8sXCJ1cFwiKSl8fGgobykpJiYoYygpLGUueDImJk1hdGguYWJzKGUueDEtZS54Mik+MzB8fGUueTImJk1hdGguYWJzKGUueTEtZS55Mik+MzA/cj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5lbC50cmlnZ2VyKFwic3dpcGVcIiksZS5lbC50cmlnZ2VyKFwic3dpcGVcIit1KGUueDEsZS54MixlLnkxLGUueTIpKSxlPXt9fSwwKTpcImxhc3RcImluIGUmJigzMD5nJiYzMD52P2k9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBpPXQuRXZlbnQoXCJ0YXBcIik7aS5jYW5jZWxUb3VjaD1sLGUuZWwudHJpZ2dlcihpKSxlLmlzRG91YmxlVGFwPyhlLmVsJiZlLmVsLnRyaWdnZXIoXCJkb3VibGVUYXBcIiksZT17fSk6bj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj1udWxsLGUuZWwmJmUuZWwudHJpZ2dlcihcInNpbmdsZVRhcFwiKSxlPXt9fSwyNTApfSwwKTplPXt9KSxnPXY9MCl9KS5vbihcInRvdWNoY2FuY2VsIE1TUG9pbnRlckNhbmNlbCBwb2ludGVyY2FuY2VsXCIsbCksdCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsbCl9KSxbXCJzd2lwZVwiLFwic3dpcGVMZWZ0XCIsXCJzd2lwZVJpZ2h0XCIsXCJzd2lwZVVwXCIsXCJzd2lwZURvd25cIixcImRvdWJsZVRhcFwiLFwidGFwXCIsXCJzaW5nbGVUYXBcIixcImxvbmdUYXBcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0LmZuW2VdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uKGUsdCl9fSl9KFplcHRvKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHYodCl7cmV0dXJuIHQucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvLFwiJDEtJDJcIikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiB5KHQpe3JldHVybiBpP2krdDp0LnRvTG93ZXJDYXNlKCl9dmFyIGkscyx1LGYsYyxsLGgscCxkLG0sbj1cIlwiLHI9e1dlYmtpdDpcIndlYmtpdFwiLE1vejpcIlwiLE86XCJvXCJ9LG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhPS9eKCh0cmFuc2xhdGV8cm90YXRlfHNjYWxlKShYfFl8WnwzZCk/fG1hdHJpeCgzZCk/fHBlcnNwZWN0aXZlfHNrZXcoWHxZKT8pJC9pLGc9e307dC5lYWNoKHIsZnVuY3Rpb24odCxyKXtyZXR1cm4gby5zdHlsZVt0K1wiVHJhbnNpdGlvblByb3BlcnR5XCJdIT09ZT8obj1cIi1cIit0LnRvTG93ZXJDYXNlKCkrXCItXCIsaT1yLCExKTp2b2lkIDB9KSxzPW4rXCJ0cmFuc2Zvcm1cIixnW3U9bitcInRyYW5zaXRpb24tcHJvcGVydHlcIl09Z1tmPW4rXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCJdPWdbbD1uK1widHJhbnNpdGlvbi1kZWxheVwiXT1nW2M9bitcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCJdPWdbaD1uK1wiYW5pbWF0aW9uLW5hbWVcIl09Z1twPW4rXCJhbmltYXRpb24tZHVyYXRpb25cIl09Z1ttPW4rXCJhbmltYXRpb24tZGVsYXlcIl09Z1tkPW4rXCJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uXCJdPVwiXCIsdC5meD17b2ZmOmk9PT1lJiZvLnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eT09PWUsc3BlZWRzOntfZGVmYXVsdDo0MDAsZmFzdDoyMDAsc2xvdzo2MDB9LGNzc1ByZWZpeDpuLHRyYW5zaXRpb25FbmQ6eShcIlRyYW5zaXRpb25FbmRcIiksYW5pbWF0aW9uRW5kOnkoXCJBbmltYXRpb25FbmRcIil9LHQuZm4uYW5pbWF0ZT1mdW5jdGlvbihuLGkscixvLGEpe3JldHVybiB0LmlzRnVuY3Rpb24oaSkmJihvPWkscj1lLGk9ZSksdC5pc0Z1bmN0aW9uKHIpJiYobz1yLHI9ZSksdC5pc1BsYWluT2JqZWN0KGkpJiYocj1pLmVhc2luZyxvPWkuY29tcGxldGUsYT1pLmRlbGF5LGk9aS5kdXJhdGlvbiksaSYmKGk9KFwibnVtYmVyXCI9PXR5cGVvZiBpP2k6dC5meC5zcGVlZHNbaV18fHQuZnguc3BlZWRzLl9kZWZhdWx0KS8xZTMpLGEmJihhPXBhcnNlRmxvYXQoYSkvMWUzKSx0aGlzLmFuaW0obixpLHIsbyxhKX0sdC5mbi5hbmltPWZ1bmN0aW9uKG4saSxyLG8seSl7dmFyIHgsYixqLHc9e30sRT1cIlwiLFQ9dGhpcyxTPXQuZngudHJhbnNpdGlvbkVuZCxDPSExO2lmKGk9PT1lJiYoaT10LmZ4LnNwZWVkcy5fZGVmYXVsdC8xZTMpLHk9PT1lJiYoeT0wKSx0LmZ4Lm9mZiYmKGk9MCksXCJzdHJpbmdcIj09dHlwZW9mIG4pd1toXT1uLHdbcF09aStcInNcIix3W21dPXkrXCJzXCIsd1tkXT1yfHxcImxpbmVhclwiLFM9dC5meC5hbmltYXRpb25FbmQ7ZWxzZXtiPVtdO2Zvcih4IGluIG4pYS50ZXN0KHgpP0UrPXgrXCIoXCIrblt4XStcIikgXCI6KHdbeF09blt4XSxiLnB1c2godih4KSkpO0UmJih3W3NdPUUsYi5wdXNoKHMpKSxpPjAmJlwib2JqZWN0XCI9PXR5cGVvZiBuJiYod1t1XT1iLmpvaW4oXCIsIFwiKSx3W2ZdPWkrXCJzXCIsd1tsXT15K1wic1wiLHdbY109cnx8XCJsaW5lYXJcIil9cmV0dXJuIGo9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUpe2lmKGUudGFyZ2V0IT09ZS5jdXJyZW50VGFyZ2V0KXJldHVybjt0KGUudGFyZ2V0KS51bmJpbmQoUyxqKX1lbHNlIHQodGhpcykudW5iaW5kKFMsaik7Qz0hMCx0KHRoaXMpLmNzcyhnKSxvJiZvLmNhbGwodGhpcyl9LGk+MCYmKHRoaXMuYmluZChTLGopLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtDfHxqLmNhbGwoVCl9LDFlMyooaSt5KSsyNSkpLHRoaXMuc2l6ZSgpJiZ0aGlzLmdldCgwKS5jbGllbnRMZWZ0LHRoaXMuY3NzKHcpLDA+PWkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtULmVhY2goZnVuY3Rpb24oKXtqLmNhbGwodGhpcyl9KX0sMCksdGhpc30sbz1udWxsfShaZXB0byksZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBzKG4saSxyLG8sYSl7XCJmdW5jdGlvblwiIT10eXBlb2YgaXx8YXx8KGE9aSxpPWUpO3ZhciBzPXtvcGFjaXR5OnJ9O3JldHVybiBvJiYocy5zY2FsZT1vLG4uY3NzKHQuZnguY3NzUHJlZml4K1widHJhbnNmb3JtLW9yaWdpblwiLFwiMCAwXCIpKSxuLmFuaW1hdGUocyxpLG51bGwsYSl9ZnVuY3Rpb24gdShlLG4saSxyKXtyZXR1cm4gcyhlLG4sMCxpLGZ1bmN0aW9uKCl7by5jYWxsKHQodGhpcykpLHImJnIuY2FsbCh0aGlzKX0pfXZhciBuPXdpbmRvdy5kb2N1bWVudCxyPShuLmRvY3VtZW50RWxlbWVudCx0LmZuLnNob3cpLG89dC5mbi5oaWRlLGE9dC5mbi50b2dnbGU7dC5mbi5zaG93PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHIuY2FsbCh0aGlzKSx0PT09ZT90PTA6dGhpcy5jc3MoXCJvcGFjaXR5XCIsMCkscyh0aGlzLHQsMSxcIjEsMVwiLG4pfSx0LmZuLmhpZGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD09PWU/by5jYWxsKHRoaXMpOnUodGhpcyx0LFwiMCwwXCIsbil9LHQuZm4udG9nZ2xlPWZ1bmN0aW9uKG4saSl7cmV0dXJuIG49PT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIG4/YS5jYWxsKHRoaXMsbik6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtlW1wibm9uZVwiPT1lLmNzcyhcImRpc3BsYXlcIik/XCJzaG93XCI6XCJoaWRlXCJdKG4saSl9KX0sdC5mbi5mYWRlVG89ZnVuY3Rpb24odCxlLG4pe3JldHVybiBzKHRoaXMsdCxlLG51bGwsbil9LHQuZm4uZmFkZUluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jc3MoXCJvcGFjaXR5XCIpO3JldHVybiBuPjA/dGhpcy5jc3MoXCJvcGFjaXR5XCIsMCk6bj0xLHIuY2FsbCh0aGlzKS5mYWRlVG8odCxuLGUpfSx0LmZuLmZhZGVPdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh0aGlzLHQsbnVsbCxlKX0sdC5mbi5mYWRlVG9nZ2xlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcyk7aVswPT1pLmNzcyhcIm9wYWNpdHlcIil8fFwibm9uZVwiPT1pLmNzcyhcImRpc3BsYXlcIik/XCJmYWRlSW5cIjpcImZhZGVPdXRcIl0oZSxuKX0pfX0oWmVwdG8pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9qcy96ZXB0by5taW4uanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 6 */
/***/ function(module, exports) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n//     Zepto.js\r\n//     (c) 2010-2016 Thomas Fuchs\r\n//     Zepto.js may be freely distributed under the MIT license.\r\n\r\n;(function($){\r\n  var touch = {},\r\n    touchTimeout, tapTimeout, swipeTimeout, longTapTimeout,\r\n    longTapDelay = 750,\r\n    gesture\r\n\r\n  function swipeDirection(x1, x2, y1, y2) {\r\n    return Math.abs(x1 - x2) >=\r\n      Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'Left' : 'Right') : (y1 - y2 > 0 ? 'Up' : 'Down')\r\n  }\r\n\r\n  function longTap() {\r\n    longTapTimeout = null\r\n    if (touch.last) {\r\n      touch.el.trigger('longTap')\r\n      touch = {}\r\n    }\r\n  }\r\n\r\n  function cancelLongTap() {\r\n    if (longTapTimeout) clearTimeout(longTapTimeout)\r\n    longTapTimeout = null\r\n  }\r\n\r\n  function cancelAll() {\r\n    if (touchTimeout) clearTimeout(touchTimeout)\r\n    if (tapTimeout) clearTimeout(tapTimeout)\r\n    if (swipeTimeout) clearTimeout(swipeTimeout)\r\n    if (longTapTimeout) clearTimeout(longTapTimeout)\r\n    touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null\r\n    touch = {}\r\n  }\r\n\r\n  function isPrimaryTouch(event){\r\n    return (event.pointerType == 'touch' ||\r\n      event.pointerType == event.MSPOINTER_TYPE_TOUCH)\r\n      && event.isPrimary\r\n  }\r\n\r\n  function isPointerEventType(e, type){\r\n    return (e.type == 'pointer'+type ||\r\n      e.type.toLowerCase() == 'mspointer'+type)\r\n  }\r\n\r\n  $(document).ready(function(){\r\n    var now, delta, deltaX = 0, deltaY = 0, firstTouch, _isPointerType\r\n\r\n    if ('MSGesture' in window) {\r\n      gesture = new MSGesture()\r\n      gesture.target = document.body\r\n    }\r\n\r\n    $(document)\r\n      .bind('MSGestureEnd', function(e){\r\n        var swipeDirectionFromVelocity =\r\n          e.velocityX > 1 ? 'Right' : e.velocityX < -1 ? 'Left' : e.velocityY > 1 ? 'Down' : e.velocityY < -1 ? 'Up' : null;\r\n        if (swipeDirectionFromVelocity) {\r\n          touch.el.trigger('swipe')\r\n          touch.el.trigger('swipe'+ swipeDirectionFromVelocity)\r\n        }\r\n      })\r\n      .on('touchstart MSPointerDown pointerdown', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'down')) &&\r\n          !isPrimaryTouch(e)) return\r\n        firstTouch = _isPointerType ? e : e.touches[0]\r\n        if (e.touches && e.touches.length === 1 && touch.x2) {\r\n          // Clear out touch movement data if we have it sticking around\r\n          // This can occur if touchcancel doesn't fire due to preventDefault, etc.\r\n          touch.x2 = undefined\r\n          touch.y2 = undefined\r\n        }\r\n        now = Date.now()\r\n        delta = now - (touch.last || now)\r\n        touch.el = $('tagName' in firstTouch.target ?\r\n          firstTouch.target : firstTouch.target.parentNode)\r\n        touchTimeout && clearTimeout(touchTimeout)\r\n        touch.x1 = firstTouch.pageX\r\n        touch.y1 = firstTouch.pageY\r\n        if (delta > 0 && delta <= 250) touch.isDoubleTap = true\r\n        touch.last = now\r\n        longTapTimeout = setTimeout(longTap, longTapDelay)\r\n        // adds the current touch contact for IE gesture recognition\r\n        if (gesture && _isPointerType) gesture.addPointer(e.pointerId);\r\n      })\r\n      .on('touchmove MSPointerMove pointermove', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'move')) &&\r\n          !isPrimaryTouch(e)) return\r\n        firstTouch = _isPointerType ? e : e.touches[0]\r\n        cancelLongTap()\r\n        touch.x2 = firstTouch.pageX\r\n        touch.y2 = firstTouch.pageY\r\n\r\n        deltaX += Math.abs(touch.x1 - touch.x2)\r\n        deltaY += Math.abs(touch.y1 - touch.y2)\r\n      })\r\n      .on('touchend MSPointerUp pointerup', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'up')) &&\r\n          !isPrimaryTouch(e)) return\r\n        cancelLongTap()\r\n\r\n        // swipe\r\n        if ((touch.x2 && Math.abs(touch.x1 - touch.x2) > 30) ||\r\n            (touch.y2 && Math.abs(touch.y1 - touch.y2) > 30))\r\n\r\n          swipeTimeout = setTimeout(function() {\r\n            touch.el.trigger('swipe')\r\n            touch.el.trigger('swipe' + (swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2)))\r\n            touch = {}\r\n          }, 0)\r\n\r\n        // normal tap\r\n        else if ('last' in touch)\r\n          // don't fire tap when delta position changed by more than 30 pixels,\r\n          // for instance when moving to a point and back to origin\r\n          if (deltaX < 30 && deltaY < 30) {\r\n            // delay by one tick so we can cancel the 'tap' event if 'scroll' fires\r\n            // ('tap' fires before 'scroll')\r\n            tapTimeout = setTimeout(function() {\r\n\r\n              // trigger universal 'tap' with the option to cancelTouch()\r\n              // (cancelTouch cancels processing of single vs double taps for faster 'tap' response)\r\n              var event = $.Event('tap')\r\n              event.cancelTouch = cancelAll\r\n              touch.el.trigger(event)\r\n\r\n              // trigger double tap immediately\r\n              if (touch.isDoubleTap) {\r\n                if (touch.el) touch.el.trigger('doubleTap')\r\n                touch = {}\r\n              }\r\n\r\n              // trigger single tap after 250ms of inactivity\r\n              else {\r\n                touchTimeout = setTimeout(function(){\r\n                  touchTimeout = null\r\n                  if (touch.el) touch.el.trigger('singleTap')\r\n                  touch = {}\r\n                }, 250)\r\n              }\r\n            }, 0)\r\n          } else {\r\n            touch = {}\r\n          }\r\n          deltaX = deltaY = 0\r\n\r\n      })\r\n      // when the browser window loses focus,\r\n      // for example when a modal dialog is shown,\r\n      // cancel all ongoing events\r\n      .on('touchcancel MSPointerCancel pointercancel', cancelAll)\r\n\r\n    // scrolling the window indicates intention of the user\r\n    // to scroll, not tap or swipe, so cancel all ongoing events\r\n    $(window).on('scroll', cancelAll)\r\n  })\r\n\r\n  ;['swipe', 'swipeLeft', 'swipeRight', 'swipeUp', 'swipeDown',\r\n    'doubleTap', 'tap', 'singleTap', 'longTap'].forEach(function(eventName){\r\n    $.fn[eventName] = function(callback){ return this.on(eventName, callback) }\r\n  })\r\n})(Zepto)\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvemVwdG8tdGFwLmpzPzI4ZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsR0FBRztBQUNIO0FBQ0EseUNBQXlDO0FBQ3pDLEdBQUc7QUFDSCxDQUFDIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbi8vICAgICBaZXB0by5qc1xyXG4vLyAgICAgKGMpIDIwMTAtMjAxNiBUaG9tYXMgRnVjaHNcclxuLy8gICAgIFplcHRvLmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuOyhmdW5jdGlvbigkKXtcclxuICB2YXIgdG91Y2ggPSB7fSxcclxuICAgIHRvdWNoVGltZW91dCwgdGFwVGltZW91dCwgc3dpcGVUaW1lb3V0LCBsb25nVGFwVGltZW91dCxcclxuICAgIGxvbmdUYXBEZWxheSA9IDc1MCxcclxuICAgIGdlc3R1cmVcclxuXHJcbiAgZnVuY3Rpb24gc3dpcGVEaXJlY3Rpb24oeDEsIHgyLCB5MSwgeTIpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh4MSAtIHgyKSA+PVxyXG4gICAgICBNYXRoLmFicyh5MSAtIHkyKSA/ICh4MSAtIHgyID4gMCA/ICdMZWZ0JyA6ICdSaWdodCcpIDogKHkxIC0geTIgPiAwID8gJ1VwJyA6ICdEb3duJylcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGxvbmdUYXAoKSB7XHJcbiAgICBsb25nVGFwVGltZW91dCA9IG51bGxcclxuICAgIGlmICh0b3VjaC5sYXN0KSB7XHJcbiAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ2xvbmdUYXAnKVxyXG4gICAgICB0b3VjaCA9IHt9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWxMb25nVGFwKCkge1xyXG4gICAgaWYgKGxvbmdUYXBUaW1lb3V0KSBjbGVhclRpbWVvdXQobG9uZ1RhcFRpbWVvdXQpXHJcbiAgICBsb25nVGFwVGltZW91dCA9IG51bGxcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEFsbCgpIHtcclxuICAgIGlmICh0b3VjaFRpbWVvdXQpIGNsZWFyVGltZW91dCh0b3VjaFRpbWVvdXQpXHJcbiAgICBpZiAodGFwVGltZW91dCkgY2xlYXJUaW1lb3V0KHRhcFRpbWVvdXQpXHJcbiAgICBpZiAoc3dpcGVUaW1lb3V0KSBjbGVhclRpbWVvdXQoc3dpcGVUaW1lb3V0KVxyXG4gICAgaWYgKGxvbmdUYXBUaW1lb3V0KSBjbGVhclRpbWVvdXQobG9uZ1RhcFRpbWVvdXQpXHJcbiAgICB0b3VjaFRpbWVvdXQgPSB0YXBUaW1lb3V0ID0gc3dpcGVUaW1lb3V0ID0gbG9uZ1RhcFRpbWVvdXQgPSBudWxsXHJcbiAgICB0b3VjaCA9IHt9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1ByaW1hcnlUb3VjaChldmVudCl7XHJcbiAgICByZXR1cm4gKGV2ZW50LnBvaW50ZXJUeXBlID09ICd0b3VjaCcgfHxcclxuICAgICAgZXZlbnQucG9pbnRlclR5cGUgPT0gZXZlbnQuTVNQT0lOVEVSX1RZUEVfVE9VQ0gpXHJcbiAgICAgICYmIGV2ZW50LmlzUHJpbWFyeVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNQb2ludGVyRXZlbnRUeXBlKGUsIHR5cGUpe1xyXG4gICAgcmV0dXJuIChlLnR5cGUgPT0gJ3BvaW50ZXInK3R5cGUgfHxcclxuICAgICAgZS50eXBlLnRvTG93ZXJDYXNlKCkgPT0gJ21zcG9pbnRlcicrdHlwZSlcclxuICB9XHJcblxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgbm93LCBkZWx0YSwgZGVsdGFYID0gMCwgZGVsdGFZID0gMCwgZmlyc3RUb3VjaCwgX2lzUG9pbnRlclR5cGVcclxuXHJcbiAgICBpZiAoJ01TR2VzdHVyZScgaW4gd2luZG93KSB7XHJcbiAgICAgIGdlc3R1cmUgPSBuZXcgTVNHZXN0dXJlKClcclxuICAgICAgZ2VzdHVyZS50YXJnZXQgPSBkb2N1bWVudC5ib2R5XHJcbiAgICB9XHJcblxyXG4gICAgJChkb2N1bWVudClcclxuICAgICAgLmJpbmQoJ01TR2VzdHVyZUVuZCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIHZhciBzd2lwZURpcmVjdGlvbkZyb21WZWxvY2l0eSA9XHJcbiAgICAgICAgICBlLnZlbG9jaXR5WCA+IDEgPyAnUmlnaHQnIDogZS52ZWxvY2l0eVggPCAtMSA/ICdMZWZ0JyA6IGUudmVsb2NpdHlZID4gMSA/ICdEb3duJyA6IGUudmVsb2NpdHlZIDwgLTEgPyAnVXAnIDogbnVsbDtcclxuICAgICAgICBpZiAoc3dpcGVEaXJlY3Rpb25Gcm9tVmVsb2NpdHkpIHtcclxuICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJylcclxuICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJysgc3dpcGVEaXJlY3Rpb25Gcm9tVmVsb2NpdHkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAub24oJ3RvdWNoc3RhcnQgTVNQb2ludGVyRG93biBwb2ludGVyZG93bicsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmKChfaXNQb2ludGVyVHlwZSA9IGlzUG9pbnRlckV2ZW50VHlwZShlLCAnZG93bicpKSAmJlxyXG4gICAgICAgICAgIWlzUHJpbWFyeVRvdWNoKGUpKSByZXR1cm5cclxuICAgICAgICBmaXJzdFRvdWNoID0gX2lzUG9pbnRlclR5cGUgPyBlIDogZS50b3VjaGVzWzBdXHJcbiAgICAgICAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID09PSAxICYmIHRvdWNoLngyKSB7XHJcbiAgICAgICAgICAvLyBDbGVhciBvdXQgdG91Y2ggbW92ZW1lbnQgZGF0YSBpZiB3ZSBoYXZlIGl0IHN0aWNraW5nIGFyb3VuZFxyXG4gICAgICAgICAgLy8gVGhpcyBjYW4gb2NjdXIgaWYgdG91Y2hjYW5jZWwgZG9lc24ndCBmaXJlIGR1ZSB0byBwcmV2ZW50RGVmYXVsdCwgZXRjLlxyXG4gICAgICAgICAgdG91Y2gueDIgPSB1bmRlZmluZWRcclxuICAgICAgICAgIHRvdWNoLnkyID0gdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vdyA9IERhdGUubm93KClcclxuICAgICAgICBkZWx0YSA9IG5vdyAtICh0b3VjaC5sYXN0IHx8IG5vdylcclxuICAgICAgICB0b3VjaC5lbCA9ICQoJ3RhZ05hbWUnIGluIGZpcnN0VG91Y2gudGFyZ2V0ID9cclxuICAgICAgICAgIGZpcnN0VG91Y2gudGFyZ2V0IDogZmlyc3RUb3VjaC50YXJnZXQucGFyZW50Tm9kZSlcclxuICAgICAgICB0b3VjaFRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRvdWNoVGltZW91dClcclxuICAgICAgICB0b3VjaC54MSA9IGZpcnN0VG91Y2gucGFnZVhcclxuICAgICAgICB0b3VjaC55MSA9IGZpcnN0VG91Y2gucGFnZVlcclxuICAgICAgICBpZiAoZGVsdGEgPiAwICYmIGRlbHRhIDw9IDI1MCkgdG91Y2guaXNEb3VibGVUYXAgPSB0cnVlXHJcbiAgICAgICAgdG91Y2gubGFzdCA9IG5vd1xyXG4gICAgICAgIGxvbmdUYXBUaW1lb3V0ID0gc2V0VGltZW91dChsb25nVGFwLCBsb25nVGFwRGVsYXkpXHJcbiAgICAgICAgLy8gYWRkcyB0aGUgY3VycmVudCB0b3VjaCBjb250YWN0IGZvciBJRSBnZXN0dXJlIHJlY29nbml0aW9uXHJcbiAgICAgICAgaWYgKGdlc3R1cmUgJiYgX2lzUG9pbnRlclR5cGUpIGdlc3R1cmUuYWRkUG9pbnRlcihlLnBvaW50ZXJJZCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5vbigndG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBpZigoX2lzUG9pbnRlclR5cGUgPSBpc1BvaW50ZXJFdmVudFR5cGUoZSwgJ21vdmUnKSkgJiZcclxuICAgICAgICAgICFpc1ByaW1hcnlUb3VjaChlKSkgcmV0dXJuXHJcbiAgICAgICAgZmlyc3RUb3VjaCA9IF9pc1BvaW50ZXJUeXBlID8gZSA6IGUudG91Y2hlc1swXVxyXG4gICAgICAgIGNhbmNlbExvbmdUYXAoKVxyXG4gICAgICAgIHRvdWNoLngyID0gZmlyc3RUb3VjaC5wYWdlWFxyXG4gICAgICAgIHRvdWNoLnkyID0gZmlyc3RUb3VjaC5wYWdlWVxyXG5cclxuICAgICAgICBkZWx0YVggKz0gTWF0aC5hYnModG91Y2gueDEgLSB0b3VjaC54MilcclxuICAgICAgICBkZWx0YVkgKz0gTWF0aC5hYnModG91Y2gueTEgLSB0b3VjaC55MilcclxuICAgICAgfSlcclxuICAgICAgLm9uKCd0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXAnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBpZigoX2lzUG9pbnRlclR5cGUgPSBpc1BvaW50ZXJFdmVudFR5cGUoZSwgJ3VwJykpICYmXHJcbiAgICAgICAgICAhaXNQcmltYXJ5VG91Y2goZSkpIHJldHVyblxyXG4gICAgICAgIGNhbmNlbExvbmdUYXAoKVxyXG5cclxuICAgICAgICAvLyBzd2lwZVxyXG4gICAgICAgIGlmICgodG91Y2gueDIgJiYgTWF0aC5hYnModG91Y2gueDEgLSB0b3VjaC54MikgPiAzMCkgfHxcclxuICAgICAgICAgICAgKHRvdWNoLnkyICYmIE1hdGguYWJzKHRvdWNoLnkxIC0gdG91Y2gueTIpID4gMzApKVxyXG5cclxuICAgICAgICAgIHN3aXBlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJylcclxuICAgICAgICAgICAgdG91Y2guZWwudHJpZ2dlcignc3dpcGUnICsgKHN3aXBlRGlyZWN0aW9uKHRvdWNoLngxLCB0b3VjaC54MiwgdG91Y2gueTEsIHRvdWNoLnkyKSkpXHJcbiAgICAgICAgICAgIHRvdWNoID0ge31cclxuICAgICAgICAgIH0sIDApXHJcblxyXG4gICAgICAgIC8vIG5vcm1hbCB0YXBcclxuICAgICAgICBlbHNlIGlmICgnbGFzdCcgaW4gdG91Y2gpXHJcbiAgICAgICAgICAvLyBkb24ndCBmaXJlIHRhcCB3aGVuIGRlbHRhIHBvc2l0aW9uIGNoYW5nZWQgYnkgbW9yZSB0aGFuIDMwIHBpeGVscyxcclxuICAgICAgICAgIC8vIGZvciBpbnN0YW5jZSB3aGVuIG1vdmluZyB0byBhIHBvaW50IGFuZCBiYWNrIHRvIG9yaWdpblxyXG4gICAgICAgICAgaWYgKGRlbHRhWCA8IDMwICYmIGRlbHRhWSA8IDMwKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbGF5IGJ5IG9uZSB0aWNrIHNvIHdlIGNhbiBjYW5jZWwgdGhlICd0YXAnIGV2ZW50IGlmICdzY3JvbGwnIGZpcmVzXHJcbiAgICAgICAgICAgIC8vICgndGFwJyBmaXJlcyBiZWZvcmUgJ3Njcm9sbCcpXHJcbiAgICAgICAgICAgIHRhcFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHVuaXZlcnNhbCAndGFwJyB3aXRoIHRoZSBvcHRpb24gdG8gY2FuY2VsVG91Y2goKVxyXG4gICAgICAgICAgICAgIC8vIChjYW5jZWxUb3VjaCBjYW5jZWxzIHByb2Nlc3Npbmcgb2Ygc2luZ2xlIHZzIGRvdWJsZSB0YXBzIGZvciBmYXN0ZXIgJ3RhcCcgcmVzcG9uc2UpXHJcbiAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gJC5FdmVudCgndGFwJylcclxuICAgICAgICAgICAgICBldmVudC5jYW5jZWxUb3VjaCA9IGNhbmNlbEFsbFxyXG4gICAgICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoZXZlbnQpXHJcblxyXG4gICAgICAgICAgICAgIC8vIHRyaWdnZXIgZG91YmxlIHRhcCBpbW1lZGlhdGVseVxyXG4gICAgICAgICAgICAgIGlmICh0b3VjaC5pc0RvdWJsZVRhcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvdWNoLmVsKSB0b3VjaC5lbC50cmlnZ2VyKCdkb3VibGVUYXAnKVxyXG4gICAgICAgICAgICAgICAgdG91Y2ggPSB7fVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gdHJpZ2dlciBzaW5nbGUgdGFwIGFmdGVyIDI1MG1zIG9mIGluYWN0aXZpdHlcclxuICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvdWNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgdG91Y2hUaW1lb3V0ID0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICBpZiAodG91Y2guZWwpIHRvdWNoLmVsLnRyaWdnZXIoJ3NpbmdsZVRhcCcpXHJcbiAgICAgICAgICAgICAgICAgIHRvdWNoID0ge31cclxuICAgICAgICAgICAgICAgIH0sIDI1MClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDApXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3VjaCA9IHt9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkZWx0YVggPSBkZWx0YVkgPSAwXHJcblxyXG4gICAgICB9KVxyXG4gICAgICAvLyB3aGVuIHRoZSBicm93c2VyIHdpbmRvdyBsb3NlcyBmb2N1cyxcclxuICAgICAgLy8gZm9yIGV4YW1wbGUgd2hlbiBhIG1vZGFsIGRpYWxvZyBpcyBzaG93bixcclxuICAgICAgLy8gY2FuY2VsIGFsbCBvbmdvaW5nIGV2ZW50c1xyXG4gICAgICAub24oJ3RvdWNoY2FuY2VsIE1TUG9pbnRlckNhbmNlbCBwb2ludGVyY2FuY2VsJywgY2FuY2VsQWxsKVxyXG5cclxuICAgIC8vIHNjcm9sbGluZyB0aGUgd2luZG93IGluZGljYXRlcyBpbnRlbnRpb24gb2YgdGhlIHVzZXJcclxuICAgIC8vIHRvIHNjcm9sbCwgbm90IHRhcCBvciBzd2lwZSwgc28gY2FuY2VsIGFsbCBvbmdvaW5nIGV2ZW50c1xyXG4gICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBjYW5jZWxBbGwpXHJcbiAgfSlcclxuXHJcbiAgO1snc3dpcGUnLCAnc3dpcGVMZWZ0JywgJ3N3aXBlUmlnaHQnLCAnc3dpcGVVcCcsICdzd2lwZURvd24nLFxyXG4gICAgJ2RvdWJsZVRhcCcsICd0YXAnLCAnc2luZ2xlVGFwJywgJ2xvbmdUYXAnXS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSl7XHJcbiAgICAkLmZuW2V2ZW50TmFtZV0gPSBmdW5jdGlvbihjYWxsYmFjayl7IHJldHVybiB0aGlzLm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIH1cclxuICB9KVxyXG59KShaZXB0bylcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvemVwdG8tdGFwLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);